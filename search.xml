<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JavaScript Event Loop]]></title>
    <url>%2F2017%2F12%2F22%2FJavaScript%2FJavaScript_Event_Loop%2F</url>
    <content type="text"><![CDATA[å•çº¿ç¨‹çš„JavaScript JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸»è¦æ˜¯å› ä¸º JavaScript çš„ä¸»è¦ç”¨é€”æ˜¯ä¸Žç”¨æˆ·äº¤äº’ï¼Œä»¥åŠæ“ä½œ DOMã€‚å¦‚æžœ JavaScript æ˜¯å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ª DOM å…ƒç´ æ—¶ï¼Œé‚£ä¹ˆå°±æ— æ³•ä¿è¯å“ªä¸ªçº¿ç¨‹ä¼˜å…ˆåŽ»æ“ä½œè¯¥ DOM å…ƒç´ ã€‚ ä¹Ÿè®¸ï¼Œæœ‰å°ä¼™ä¼´ä¼šè¯´ï¼šâ€œæˆ‘ä»¬å¯ä»¥é€šè¿‡HTML 5çš„ web worker æ¥åˆ›å»º JavaScript çš„å¤šä¸ªçº¿ç¨‹å•Šâ€ã€‚æ˜¯çš„ï¼Œweb worker å…è®¸æˆ‘ä»¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹æ¥æ‰§è¡Œ JavaScriptï¼Œä½†åˆ›å»ºçš„éƒ½æ˜¯å­çº¿ç¨‹ï¼Œè¿™äº›å­çº¿ç¨‹éƒ½å—åˆ° JavaScript å”¯ä¸€çš„ä¸»çº¿ç¨‹æŽ§åˆ¶ï¼Œè€Œä¸”è¿™äº›å­çº¿ç¨‹æ˜¯ä¸èƒ½å¤Ÿæ“ä½œ DOM å…ƒç´ çš„. ç”±äºŽ JavaScript çš„å•çº¿ç¨‹æœºåˆ¶ï¼ŒJavaScriptä»£ç æ˜¯æŒ‰ç…§ä»»åŠ¡æ‰§è¡Œçš„ï¼Œè€Œä»»åŠ¡åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ åŒæ­¥ä»»åŠ¡ï¼šåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¸€ä¸ªæŽ¥ç€ä¸€ä¸ªæŒ‰é¡ºåºæ‰§è¡Œ å¼‚æ­¥ä»»åŠ¡ï¼šä¸€å¼€å§‹å°±è¿›å…¥åˆ°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå®Œå½“å‰ä»»åŠ¡åŽï¼Œå°±ä¼šåŽ»è¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥å¼€å§‹äº†ï¼Œè¯¥ä»»åŠ¡åˆ™ä¼šè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œ æ‰€ä»¥ï¼ŒJavaScript æ‰§è¡Œçš„é¡ºåºæ˜¯ï¼Œå…ˆæ‰§è¡Œä¸»çº¿ç¨‹ä¸Šå·²æœ‰çš„ä»»åŠ¡ï¼Œç„¶åŽå†è¯»å–â€œä»»åŠ¡é˜Ÿåˆ—â€ï¼Œå°†â€œä»»åŠ¡é˜Ÿåˆ—â€ä¸­çš„ä»»åŠ¡åŠ åˆ°ä¸»çº¿ç¨‹ä¸­ç»§ç»­æ‰§è¡Œã€‚ ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œå¦‚æžœäº‹ä»¶æŒ‡å®šè¿‡å›žè°ƒå‡½æ•°ï¼Œè¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶å°±è¿›å…¥â€œä»»åŠ¡é˜Ÿåˆ—â€ï¼Œç­‰å¾…ä¸»çº¿ç¨‹è¯»å–ã€‚æˆ‘ä»¬å¸¸è¯´çš„å›žè°ƒå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¢«ä¸»çº¿ç¨‹æš‚æ—¶æŒ‚èµ·ä¸æ‰§è¡Œçš„ä»£ç ï¼Œå½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¸»çº¿ç¨‹æ‰ä¼šå°†è¿™ä»£ç åŠ å…¥è¿›æ¥æ‰§è¡Œã€‚æ³¨æ„ï¼ŒåŒæ­¥ä»»åŠ¡æ€»æ˜¯åœ¨ä¸»çº¿ç¨‹è¯»å–â€œä»»åŠ¡é˜Ÿåˆ—â€ä¹‹å‰æ‰§è¡Œçš„ äº‹ä»¶å¾ªçŽ¯ï¼ˆEvent Loopï¼‰ä¸»çº¿ç¨‹è¯»å–â€œä»»åŠ¡åˆ—è¡¨â€è¿™ä¸€è¿‡ç¨‹æ˜¯å¾ªçŽ¯ä¸æ–­çš„ï¼Œè¿™ç§è¿è¡Œæœºåˆ¶ç§°ä¸ºäº‹ä»¶å¾ªçŽ¯ã€‚ å®šæ—¶å™¨ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸ä»…ä»…å­˜æ”¾äº†å¼‚æ­¥ä»»åŠ¡çš„äº‹ä»¶ï¼Œè¿˜å­˜æ”¾äº†å®šæ—¶äº‹ä»¶ï¼ˆsetTimeoutï¼ŒsetIntervalï¼‰å®šæ—¶å™¨ setTimeout å’Œ setInterval åªæ˜¯æŠŠäº‹ä»¶æ”¾ç½®åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¿…é¡»ç­‰å¾…ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹æ‰ä¼šè°ƒç”¨å®šæ—¶å™¨ç›¸åº”çš„å›žè°ƒå‡½æ•°ã€‚ Microtasks å’Œ Macrotasksä»»åŠ¡é˜Ÿåˆ—å¸ƒç½®ä¸€ä¸ªï¼Œè¿˜åŒ…æ‹¬äº† microtasksï¼ˆå¾®ä»»åŠ¡ï¼‰ å’Œ macrotasksï¼ˆå®ä»»åŠ¡ï¼‰ microtasks process.nextTick promise Object.observe MutationObserver macrotasks setTimeout setInterval setImmediate I/O UIæ¸²æŸ“ ä¸€ä¸ªäº‹ä»¶å¾ªçŽ¯ä¸­ä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡é˜Ÿåˆ— ä»»åŠ¡é˜Ÿåˆ—å°±æ˜¯å®ä»»åŠ¡ï¼ˆmacrotasksï¼‰ æ¯ä¸ªäº‹ä»¶å¾ªçŽ¯éƒ½æœ‰ä¸€ä¸ªmicrotasks queue task queue == macrotasks queue != microtasks queue å› æ­¤ï¼ŒJavaScript è¿è¡Œæœºåˆ¶æ˜¯è¿™æ ·çš„ï¼šä¸»çº¿ç¨‹å…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œæ‰§è¡Œå®ŒæˆåŽï¼Œè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æžœæœ‰microtasksåˆ™æ‰§è¡Œmicrotasksï¼Œæ²¡æœ‰åˆ™æ‰§è¡Œmacrotasksã€‚ç„¶åŽå†è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªçŽ¯ã€‚]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>JavaScriptæ ¸å¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ–‡ä»¶æ–­ç‚¹ç»­ä¼ ï¼ˆä¸Šä¼ ï¼‰ä»¥åŠç§’ä¼ ]]></title>
    <url>%2F2017%2F12%2F10%2F%E7%A7%AF%E7%B4%AF%2F%E6%96%87%E4%BB%B6%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%EF%BC%88%E4%B8%8A%E4%BC%A0%EF%BC%89%E4%BB%A5%E5%8F%8A%E7%A7%92%E4%BC%A0%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼šæ–‡ä»¶æ–­ç‚¹ç»­ä¼ ï¼ŒæŒ‡çš„æ˜¯åœ¨è¿›è¡Œä¸Šä¼ æˆ–è€…ä¸‹è½½æ—¶ï¼Œå°†æ–‡ä»¶åˆ†å‰²æˆå‡ å—ï¼Œæ¯ä¸€å—éƒ½å•ç‹¬ä¸Šä¼ æˆ–ä¸‹è½½ï¼Œå¦‚æžœæŸä¸€å—ç”±äºŽç½‘ç»œåŽŸå› æˆ–è€…å…¶ä»–å› ç´ ï¼Œå¯¼è‡´ä¸Šä¼ æˆ–ä¸‹è½½å¤±è´¥ï¼Œé‚£ä¹ˆå¯ä»¥ä»Žå·²ç»ä¸Šä¼ æˆ–ä¸‹è½½çš„éƒ¨åˆ†ç»§ç»­è¿›è¡Œä¸Šä¼ ä¸‹è½½æœªå®Œæˆçš„éƒ¨åˆ†ï¼ŒèŠ‚çœæ—¶é—´ï¼Œæé«˜æ•ˆçŽ‡ã€‚æ­¤å¤–ï¼Œä¹Ÿæ”¯æŒæš‚åœä¸Šä¼ æˆ–ä¸‹è½½ã€‚æ–‡ä»¶ç§’ä¼ ï¼ŒæŒ‡çš„æ˜¯å½“ç”¨æˆ·ä¸Šä¼ ä¸€ä¸ªå·²è¢«ä¸Šä¼ è¿‡ï¼ˆè‡ªå·±æˆ–ä»–äººä¸Šä¼ åˆ°åŒä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨ä¸­ï¼‰çš„æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶èƒ½å¤Ÿç›´æŽ¥è·³è¿‡ä¸Šä¼ è¿‡ç¨‹ï¼Œè¾¾åˆ°ç§’ä¼ çš„æ•ˆæžœã€‚å…¶ä¸­çš„åŽŸç†å°±æ˜¯ï¼Œç”¨æˆ·ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œä¼šåŒæ—¶å‘é€æ–‡ä»¶çš„md5å€¼ï¼ŒæœåŠ¡ç«¯ä¼šè¿›è¡Œç›¸åº”æŸ¥æ‰¾åŒ¹é…ï¼Œå¦‚æžœæœ‰ç›¸åŒçš„md5ï¼Œåˆ™è¿”å›žé€šçŸ¥æ–‡ä»¶å·²ä¸Šä¼ è¿‡æœåŠ¡å™¨ï¼Œä¸å¿…å†æ¬¡ä¸Šä¼ ï¼Œå®žçŽ°ç§’ä¼ ã€‚æœ¬æ–‡ä¸»è¦è®²æ–­ç‚¹ç»­ä¼ ä¹‹ä¸Šä¼ å’Œç§’ä¼ çš„å®žçŽ° åœ¨ HTML5 æ™®åŠä¹‹å‰ï¼Œä¸Šä¼ åŸºæœ¬æ˜¯é€šè¿‡flashå®žçŽ°çš„ï¼Œæ–­ç‚¹ç»­ä¼ çš„å®žçŽ°ä¹Ÿç›¸å¯¹éº»çƒ¦ï¼Œæœ¬ç¯‡å°±ä¸æ¶‰åŠå•¦ï¼Œä¸‹é¢è¿›å…¥ä¸»é¢˜ã€‚é€šè¿‡ HTML5 File API è¿›è¡Œæ–‡ä»¶åˆ†å‰²ï¼ŒFile æŽ¥å£æ˜¯åŸºäºŽ Blob å¯¹è±¡ Blob å¯¹è±¡è¡¨ç¤ºä¸å¯å˜çš„ç±»ä¼¼æ–‡ä»¶å¯¹è±¡çš„åŽŸå§‹æ•°æ®ï¼ŒåŒ…å«ä¸¤ä¸ªå±žæ€§ size (Blobå¯¹è±¡ä¸­æ•°æ®çš„å¤§å°)å’Œ type (Blobå¯¹è±¡åŒ…å«æ•°æ®çš„MIMEç±»åž‹)ã€‚è¿˜æ‹¥æœ‰ä¸€ä¸ªæ–¹æ³• sliceï¼Œè¿”å›žä¸€ä¸ªæ–°çš„ Blobå¯¹è±¡ï¼ŒåŒ…å«äº†æº Blobå¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ã€‚ å¯¹æ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼Œä½¿ç”¨çš„å°±æ˜¯ File ç»§æ‰¿äºŽ Blob å¯¹è±¡çš„ slice æ–¹æ³•ã€‚12345678var blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlicevar currentChunk = 0 // å½“å‰æ–‡ä»¶å—çš„ç¼–å·var chunkSize = 2 * 1024 * 1024 // æ¯ä¸€å—æ–‡ä»¶å—çš„å¤§å°ï¼Œä¸€èˆ¬è®¾ä¸º2~5MBvar start = currentChunk * chunkSizevar end = (start + chunkSize &gt; fileSize) ? fileSize : (start + chunkSize)blobSlice.call(file, start, end) å¯¹æ–‡ä»¶åˆ†å‰²å®ŒæˆåŽï¼Œåˆ™è¿›è¡Œä¸Šä¼ ï¼Œä¸Šä¼ æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½ä¼šä¿å­˜å½“å‰æ–‡ä»¶å—çš„ç¼–å·ã€‚ä¸Šä¼ å®ŒæˆåŽï¼Œåˆ™è¿›è¡Œä¸‹ä¸€å—ä¸Šä¼ 1234567891011121314151617181920212223242526272829303132333435function uploadData () &#123; if (!fileSize) &#123; alert('è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶') return &#125; var xhr = new XMLHttpRequest() var chunkData = sliceChunks() // åˆ†å‰²æ–‡ä»¶ï¼Œè¿”å›žæ–‡ä»¶å—æ•°æ® var formData = new FormData() fileIndex = currentChunk + 1 // æ–‡ä»¶ç¼–å· if (fileIndex &gt; chunks) return // æ–‡ä»¶ç¼–å·å¤§äºŽæ–‡ä»¶å—æ€»æ•°æ—¶åˆ™ç»ˆæ­¢ä¸Šä¼  formData.append('fileName', file.name) formData.append('fileSize', file.size) formData.append('fileIndex', fileIndex) formData.append('fileContent', chunkData) // æ–‡ä»¶å—ä¸Šä¼ å®ŒæˆåŽï¼Œåˆ™ç»§ç»­ä¸Šä¼ ä¸‹ä¸€å— xhr.upload.onload = function (e)&#123; currentChunk++ if (fileIndex &lt; chunks) &#123; uploadData () &#125; &#125; // æ˜¾ç¤ºä¸Šä¼ è¿›åº¦ xhr.upload.onprogress = function (e) &#123; uploadPrg.innerText = (fileIndex * 10000 / (chunks * 100)).toFixed(2) + '%' fileIndex === chunks &amp;&amp; (uploadBtn.value = 'ä¸Šä¼ å®Œæˆ') &#125; xhr.open("POST", '/upload') xhr.send(formData) &#125; ä»¥ä¸Šä¸»è¦æ˜¯å‰ç«¯éœ€è¦å®žçŽ°ï¼Œå†æ¥çœ‹ä¸‹æœåŠ¡ç«¯ï¼ˆé‡‡ç”¨node.jså®žçŽ°ï¼‰æ˜¯å¦‚ä½•å°†æ–‡ä»¶å—æŽ¥æ”¶ï¼Œå¹¶æ‹¼æŽ¥æˆå®Œæ•´æ–‡ä»¶çš„12345678910111213141516171819202122232425262728293031323334const http = require('http')const fs = require('fs')const express = require('express')const bodyParser = require('body-parser')var multipart = require('connect-multiparty') //åœ¨å¤„ç†æ¨¡å—ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹è§£æžæ¨¡å— var multipartMiddleware = multipart()var uploadPath = './upload'var app = express()var fileIndexapp.post('/upload', multipartMiddleware, (req, res, next) =&gt; &#123; let data = req.body let fileData = req.files.fileContent // ä¸Šä¼ ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º if (!fs.existsSync(uploadPath)) &#123; fs.mkdirSync(uploadPath) &#125; if (!fileIndex || fileIndex &lt; data.fileIndex) &#123; fileIndex = parseInt(data.fileIndex) let fileChunk = fs.readFileSync(fileData.path) fs.appendFile('./upload/' + data.fileName, fileChunk) &#125; else &#123; fileIndex = '' fs.renameSync(fileData.path, './upload/' + data.fileName) &#125; res.writeHead(200, &#123;'Content-Type': 'text/plain'&#125;) res.end()&#125;) åœ¨æœåŠ¡ç«¯å®žçŽ°è¿‡ç¨‹ä¸­ï¼Œä¸»è¦çš„éš¾ç‚¹æ˜¯å¦‚ä½•æŽ¥æ”¶å‰ç«¯ä¼ è¾“çš„å‚æ•°ï¼Œå‰ç«¯å‚æ•°éƒ½æ˜¯é€šè¿‡ FormData ä¼ åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯éœ€è¦å¯¹å‚æ•°è¿›è¡Œè§£æžï¼Œè¿™é‡Œé‡‡ç”¨ connect-multiparty åº“è¿›è¡Œè§£æžå‚æ•°ã€‚å‚æ•°æŽ¥æ”¶å®ŒæˆåŽï¼Œåˆ™è¿›è¡Œæ–‡ä»¶çš„å†™å…¥æ“ä½œã€‚ ç§’ä¼ çš„å®žçŽ°å°±è¾ƒä¸ºç®€å•äº†ï¼Œä¸»è¦æ˜¯ä¸Šä¼ ç¬¬ä¸€å—æ–‡ä»¶å—æ—¶ï¼Œä¼šå°†æ–‡ä»¶çš„md5å€¼ä¼ åˆ°æœåŠ¡ç«¯ï¼Œç„¶åŽè¿›è¡ŒæŸ¥æ‰¾åŒ¹é…ã€‚éš¾ç‚¹åœ¨äºŽå¦‚ä½•èŽ·å–æ–‡ä»¶çš„md5å€¼ã€‚èŽ·å–æ–‡ä»¶çš„md5ä¸»è¦æ˜¯ä½¿ç”¨ spark-md5 åº“ã€‚123456789101112import sparkMD5 from 'spark-md5'var fileReader = new FileReader()var spark = new sparkMD5.ArrayBuffer()// è¯»å–æ–‡ä»¶å†…å®¹fileReader.readAsArrayBuffer(file)fileReader.onload = function (e) &#123; // è®¡ç®—md5 spark.append(e.target.result) file.fileMD5 = spark.end()&#125; æºç :https://github.com/Peterlhx/html5-resume å¦‚æžœå¯¹ä½ æœ‰ç”¨ï¼Œæ¬¢è¿Žstar~]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>é¡¹ç›®æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptåŒ¿åå‡½æ•°ä»¥åŠæ‹¬å·è¿ç®—ç¬¦]]></title>
    <url>%2F2017%2F07%2F03%2FJavaScript%2FJavaScript%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E4%BB%A5%E5%8F%8A%E6%8B%AC%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[å…ˆæ¥çœ‹ä¸‹è¿™é“é¢è¯•é¢˜ï¼Œå†™è¿™ç¯‡åšå®¢ä¹Ÿæ˜¯ç”±è¿™é“é¢˜å¼•èµ·çš„123456789101112131415161718192021var x = 20 var a = &#123; x: 15, fn: function () &#123; var x = 30 return function () &#123; return this.x &#125; &#125; &#125; console.log(a.fn()) console.log((a.fn())())console.log(a.fn()())console.log(a.fn()() == (a.fn())()) console.log(a.fn().call(this)) console.log(a.fn().call(a)) å¦‚æžœä½ å¯¹è¿™é“é¢˜å®Œå…¨ç†è§£ï¼Œæ²¡æœ‰ä»»ä½•ç–‘æƒ‘ï¼Œé‚£ä¹ˆæ— é¡»ç»§ç»­å¾€ä¸‹é˜…è¯»äº† åŒ¿åå‡½æ•°ï¼Œæ„æŒ‡æ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œå¸¸å‡ºçŽ°äºŽå¯¹è±¡æ–¹æ³•ã€è‡ªæ‰§è¡Œå‡½æ•°ã€å‡½æ•°å›žè°ƒä»¥åŠé«˜é˜¶å‡½æ•°ï¼ˆä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œæˆ–ä»¥å‡½æ•°ä¸ºè¿”å›žå€¼ï¼‰ä¸­ï¼Œæ˜¯å‡½æ•°çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚ ä»Žæ–‡å­—ä¸Šå¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œç›´æŽ¥çœ‹ä¸‹é¢å‡ ä¸ªç¤ºä¾‹ å¯¹è±¡æ–¹æ³•å°†ä¸€ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™å¯¹è±¡çš„sayHelloå±žæ€§12345var obj = &#123; sayHello: function () &#123; console.log('Hello world!') &#125;&#125; è‡ªæ‰§è¡Œå‡½æ•°é€šè¿‡æ‹¬å·è¿ç®—ç¬¦å°†åŒ¿åå‡½æ•°åŒ…æ‹¬èµ·æ¥ï¼Œè½¬æ¢æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œç„¶åŽå†é€šè¿‡æ‹¬å·è¿ç®—ç¬¦æ¥è°ƒç”¨åŒ¿åå‡½æ•° å½“å£°æ˜Žå®šä¹‰ä¸€ä¸ªå‡½æ•°åŽï¼Œå‡½æ•°æ˜¯ä¸€ç§å¯¹è±¡ï¼Œå­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå‡½æ•°åå…¶å®žå°±æ˜¯æŒ‡å‘å‡½æ•°ä½“çš„æŒ‡é’ˆï¼Œå½“å‡½æ•°ååŽç›´æŽ¥æ·»åŠ æ‹¬å·æ—¶ï¼Œè¯¥å‡½æ•°å°†ä¼šè¢«è°ƒç”¨ã€‚12345678(function () &#123; console.log('Hello world!')&#125;)()// å¦ä¸€ç§å†™æ³•ï¼Œæ‰§è¡Œç»“æžœä¸Žä¸Šè¿°æ²¡æœ‰å·®åˆ«(function () &#123; console.log('Hello world!')&#125;()) æ³¨æ„ï¼šæ‰€æœ‰è‡ªæ‰§è¡Œå‡½æ•°éƒ½æ˜¯å…¨å±€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è‡ªæ‰§è¡Œå‡½æ•°å†…éƒ¨çš„thisæŒ‡é’ˆæŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡ window ã€‚ å‡½æ•°å›žè°ƒåœ¨å‡½æ•°å›žè°ƒçš„æƒ…å†µä¸­ï¼Œå›žè°ƒçš„å‡½æ•°æœ‰ä¸¤ç§ï¼Œå…¶ä¸€æ˜¯å‡½æ•°æœ‰å‡½æ•°åï¼Œå¦å¤–å°±æ˜¯åŒ¿åå‡½æ•°ã€‚123456789// å›žè°ƒå‡½æ•°æœ‰å‡½æ•°å$('#btn').click(function sayHello () &#123; console.log('Hello world!')&#125;)// å›žè°ƒå‡½æ•°æ˜¯åŒ¿åå‡½æ•°$('#btn').click(function () &#123; console.log('Hello world!')&#125;) é«˜é˜¶å‡½æ•°åœ¨é«˜é˜¶å‡½æ•°ä¸­ï¼ŒåŒ¿åå‡½æ•°å¸¸å¸¸è¢«å½“åšå‡½æ•°è¿”å›žå€¼ï¼Œå½“è¿”å›žä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒåŒ¿åå‡½æ•°ä¸­åˆè°ƒç”¨äº†å®ƒå¤–å±‚å‡½æ•°çš„å˜é‡æ—¶ï¼Œå°±ä¼šå½¢æˆé—­åŒ…ã€‚ é—­åŒ…ï¼Œå°±æ˜¯å­˜åœ¨å¤šä¸ªåµŒå¥—å‡½æ•°æ—¶ï¼Œå†…å±‚å‡½æ•°èƒ½å¤Ÿè°ƒç”¨å¤–å±‚å‡½æ•°ä¸­çš„å˜é‡ã€‚12345678910var fn = function () &#123; var outterWords = 'Hello outter' // console.log(innerWords) return function () &#123; var innerWords = 'Hello inner' console.log(outterWords) &#125;&#125;console.log(fn()) // 'Hello outter' åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒåµŒå¥—äº†ä¸¤å±‚å‡½æ•°ï¼Œå†…å±‚å‡½æ•°èƒ½å¤Ÿè®¿é—®åˆ°å¤–å±‚å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡ outterWords ï¼Œä½†æ˜¯å¤–å±‚å‡½æ•°ä¸èƒ½è®¿é—®å†…å±‚å‡½æ•°ä½œç”¨åŸŸä¸­çš„ innerWords ï¼Œè¿™å°±æ˜¯é—­åŒ…çš„ä¸€ç§æƒ…å½¢ã€‚é—­åŒ…åœ¨JavaScriptä¸­æ˜¯éžå¸¸é‡è¦çš„ï¼Œè¦è®²çš„ä¸œè¥¿è¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸å†å±•å¼€ï¼Œè¿˜ä¸æ¸…æ¥šçš„å°ä¼™ä¼´å¯ä»¥ä¸Šç½‘æŸ¥æ‰¾ç›¸å…³èµ„æ–™ã€‚ è¿™é‡ŒæŽ¨èä¸€ä¸ªå¾ˆèµžçš„ç³»åˆ—åšå®¢æ–‡ç« ï¼šæ·±å…¥ç†è§£JavaScriptåŽŸåž‹å’Œé—­åŒ… å›žåˆ°é«˜é˜¶å‡½æ•°ï¼Œä¸Šè¿°ä»£ç ä¸­ï¼Œå…¶å®žä¹Ÿå°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒå°†ä¸€ä¸ªåŒ¿åå‡½æ•°å½“ä½œè¿”å›žå€¼è¿”å›žã€‚ ä»‹ç»å®Œè¿™å‡ ç§åŒ¿åå‡½æ•°çš„å½¢å¼ï¼Œæˆ‘ä»¬å›žåˆ°æ–‡ç« å¼€å¤´çš„é‚£é“é¢è¯•é¢˜12345678910111213141516171819202122var x = 20 var a = &#123; x: 15, fn: function () &#123; var x = 30 return function () &#123; return this.x &#125; &#125; &#125; console.log(a.fn()) console.log((a.fn())())console.log(a.fn()())// a.fn()è¿”å›žçš„å€¼æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼Œç±»ä¼¼äºŽåŠ äº†ä¸€å±‚æ‹¬å·ï¼Œç„¶åŽå†è¿›è¡Œæ‹¬å·çš„è°ƒç”¨ï¼Œç›¸å½“äºŽè‡ªæ‰§è¡Œå‡½æ•°console.log(a.fn()() == (a.fn())()) console.log(a.fn().call(this)) console.log(a.fn().call(a)) ä¸€æ­¥æ­¥è§£æžï¼š1console.log(a.fn()) è¿™éƒ¨åˆ†ç›¸ä¿¡å¤§å®¶éƒ½çŸ¥é“ï¼Œæ‰“å°çš„æ˜¯ a.fn() è¿”å›žçš„åŒ¿åå‡½æ•°çš„å‡½æ•°ä½“123function () &#123; return this.x &#125; æŽ¥ç€å¾€ä¸‹ï¼š1console.log((a.fn())()) è¿™éƒ¨åˆ†æˆ‘ä»¬é¦–å…ˆè¦æ³¨æ„åˆ°ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸¤æ¬¡æ‹¬å·è¿ç®—ç¬¦ï¼Œç¬¬ä¸€æ¬¡æ˜¯å°† a.fn() è¿”å›žçš„å‡½æ•°ä½“è½¬æ¢ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œç¬¬äºŒæ¬¡åˆ™æ˜¯è°ƒç”¨è¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è½¬æ¢æˆäº†è‡ªæ‰§è¡Œå‡½æ•°ï¼Œè‡ªæ‰§è¡Œå‡½æ•°çš„ this æŒ‡é’ˆæŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡ window ã€‚æ‰€ä»¥è¾“å‡ºç»“æžœä¸º 20 1console.log(a.fn()()) è¿™éƒ¨åˆ†æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯æ¯”è¾ƒå›°æƒ‘çš„ï¼Œå› ä¸ºå‡½æ•°ä½“åŽé¢ç›´æŽ¥åŠ ä¸Šæ‹¬å·è¿ç®—ç¬¦ï¼Œæ˜¯ä¼šæŠ¥è¯­æ³•é”™è¯¯çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š1234function () &#123; return this.x &#125;()// Uncaught SyntaxError: Unexpected token ( ä½†æ˜¯ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¿”å›žä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç„¶åŽå†åŠ ä¸Šæ‹¬å·è¿ç®—ç¬¦ï¼Œåˆ™èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œè¾“å‡ºçš„ã€‚å…¶å®žï¼Œå½“å‡½æ•°è¿”å›žåŒ¿åå‡½æ•°æ—¶ï¼Œè¿”å›žçš„æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼Œå‡½æ•°è¡¨è¾¾å¼åŽåŠ ä¸Šæ‹¬å·è¿ç®—ç¬¦ï¼Œåˆ™è¯¥å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œå‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘å…¨å±€å¯¹è±¡ window ã€‚æ‰€ä»¥è¾“å‡º2012console.log(a.fn()())// è¾“å‡º20 çŸ¥é“äº†å‰ä¸¤ä¸ªçš„è¾“å‡ºï¼Œé‚£ä¹ˆè‡ªç„¶ç¬¬ä¸‰ä¸ªä¹Ÿæ˜Žç™½äº†ï¼Œè¾“å‡º true ã€‚ 1console.log(a.fn().call(this)) è¿™éƒ¨åˆ†ä¸»è¦æ˜¯ call æ–¹æ³•çš„è¿ç”¨ã€‚call ä¸Ž apply æ–¹æ³•çš„ä½œç”¨æ˜¯æ›´æ”¹å‡½æ•°è°ƒç”¨çš„å¯¹è±¡ã€‚ä¸Šè¿°ä»£ç ä¸­ï¼Œthis æŒ‡å‘çš„æ˜¯å…¨å±€å˜é‡ window ï¼Œè°ƒç”¨a.fn()è¿”å›žçš„åŒ¿åå‡½æ•°ï¼Œè¾“å‡ºçš„æ˜¯å…¨å±€çš„å˜é‡xï¼š 20 ã€‚ 1console.log(a.fn().call(a)) è¿™éƒ¨åˆ†å‡½æ•°è°ƒç”¨çš„å¯¹è±¡ä¸º a ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ˜¯aå†…éƒ¨çš„å˜é‡xï¼š 15 ã€‚ æ‰©å±•å»¶ä¼¸ï¼š12345678910var scope = 'global scope';function checkScope () &#123; var scope = 'local scope'; function f() &#123; return scope; &#125; return f;&#125;checkScope()(); å¯ä»¥çœ‹åˆ°è¿™é“é¢˜ä¸Žä¸Šé¢é‚£é“é¢˜çš„ç¬¬ä¸‰ä¸ªè¾“å‡ºæ˜¯æœ‰ç‚¹ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºŽè¿™é“é¢˜è¿”å›žçš„ scope æ²¡æœ‰ç»‘å®šåœ¨thisæŒ‡é’ˆä¸Šï¼Œè€Œä¸Šé¢é‚£é“é¢˜æ˜¯ this.x ã€‚é‚£ä¹ˆå®ƒä»¬çš„è¾“å‡ºç»“æžœæ˜¯ä¸€æ ·çš„å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚12345678910var scope = 'global scope';function checkScope () &#123; var scope = 'local scope'; function f() &#123; return scope; &#125; return f;&#125;checkScope()(); // è¾“å‡º'local scope' åŒºåˆ«å°±æ˜¯åœ¨äºŽæœ‰æ²¡æœ‰ this æŒ‡é’ˆã€‚æˆ‘ä»¬çŸ¥é“å½“ä¸€ä¸ªå‡½æ•°è¿”å›žä¸€ä¸ªå‡½æ•°ä½“åŽï¼ŒåŠ ä¸Šæ‹¬å·ï¼Œä¼šè¢«å½“åšå‡½æ•°è¡¨è¾¾å¼æ‰§è¡Œï¼Œå‡½æ•°è¡¨è¾¾å¼å†…éƒ¨çš„ this æŒ‡é’ˆæ˜¯æŒ‡å‘å…¨å±€å˜é‡çš„ã€‚å¦‚æžœæ²¡æœ‰ this æŒ‡é’ˆï¼Œé‚£ä¹ˆæ‰§è¡Œè¿”å›žçš„å˜é‡ scope ï¼Œé¦–å…ˆä¼šé¡ºç€ä½œç”¨åŸŸé“¾åŽ»å¯»æ‰¾ï¼Œä¹Ÿå°±æ˜¯å¤–å±‚å‡½æ•°ä¸­å¯»æ‰¾ï¼Œæ‰¾åˆ°äº† scope ï¼Œæ‰€ä»¥è¾“å‡ºâ€™local scopeâ€™ã€‚æœ‰ this æŒ‡é’ˆï¼Œåˆ™ä¼šåœ¨ this æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ä¸ŠåŽ»å¯»æ‰¾ scope å˜é‡ï¼Œæ‰€ä»¥å¦‚æžœè¿™é“é¢˜æ˜¯1return this.scope è¾“å‡ºçš„å°±æ˜¯ â€˜global scopeâ€™ æ€»ç»“è¿™ç¯‡æ–‡ç« è®²è¿°äº†åŒ¿åå‡½æ•°çš„å‡ ç§åº”ç”¨åœºæ™¯ï¼šå¯¹è±¡æ–¹æ³•ã€è‡ªæ‰§è¡Œå‡½æ•°ã€å‡½æ•°å›žè°ƒä»¥åŠé«˜é˜¶å‡½æ•°ã€‚æœ€åº”è¯¥ç‰¢è®°çš„åŒ¿åå‡½æ•°çš„æ‰§è¡Œæ¡ä»¶ï¼šå°†åŒ¿åå‡½æ•°é€šè¿‡ void , ~ ï¼Œ + ï¼Œ- ï¼Œ! ï¼Œ() ç­‰å½¢å¼æ¥è½¬åŒ–ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œç„¶åŽé€šè¿‡ () è°ƒç”¨ã€‚123void function () &#123; console.log('Hello world!')&#125;() å¦‚æžœåŒ¿åå‡½æ•°æ²¡æœ‰ä»»ä½•å…³é”®å­—ã€è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ã€‚åœ¨ä¸€ä¸ªå‡½æ•°ä¸­è¿”å›žä¸€ä¸ªå‡½æ•°ä½“ï¼ŒåŠ ä¸Šæ‹¬å·()ï¼Œå°†å˜æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œå¦‚æžœè¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼ä¸­è¿”å›žä¸€ä¸ªæ™®é€šå˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡ä¼šåœ¨å®ƒçš„ä½œç”¨åŸŸé“¾ä¸­åŽ»å¯»æ‰¾ï¼›å¦‚æžœè¿™ä¸ªå˜é‡æ˜¯ç»‘å®šåœ¨ this æŒ‡é’ˆä¸Šï¼Œé‚£ä¹ˆä¼šåœ¨ this æŒ‡å‘çš„å¯¹è±¡ä¸Šå¯»æ‰¾ï¼Œå¦‚æžœåœ¨å¯¹è±¡ä¸Šæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šé¡ºç€è¿™ä¸ªå¯¹è±¡çš„åŽŸåž‹é“¾åŽ»å¯»æ‰¾ã€‚]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>JavaScriptæ ¸å¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè¿›é˜¶æŠ€å·§]]></title>
    <url>%2F2017%2F06%2F26%2FJavaScript%2FJavaScript%E8%BF%9B%E9%98%B6%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[å½’çº³æ€»ç»“äº†JavaScriptä¸­çš„ä¸€äº›å¸¸ç”¨çš„è¿›é˜¶ç¼–ç¨‹æŠ€å·§ï¼ŒåŒ…æ‹¬æƒ°æ€§è½½å…¥å‡½æ•°ã€å‡½æ•°æŸ¯é‡ŒåŒ–ã€å‡½æ•°èŠ‚æµã€å‡½æ•°é˜²æŠ–ä»¥åŠäº‹ä»¶å§”æ‰˜ æƒ°æ€§è½½å…¥å‡½æ•°æƒ°æ€§è½½å…¥è¡¨ç¤ºå‡½æ•°æ‰§è¡Œçš„åˆ†æ”¯ä»…ä¼šå‘ç”Ÿä¸€æ¬¡ã€‚æœ‰ä»¥ä¸‹ä¸¤ç§å®žçŽ°æƒ°æ€§è½½å…¥çš„æ–¹å¼ åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å†å¤„ç†å‡½æ•° åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œè¯¥å‡½æ•°ä¼šè¢«è¦†ç›–ä¸ºå¦ä¸€ä¸ªæŒ‰åˆé€‚æ–¹å¼æ‰§è¡Œçš„å‡½æ•°ï¼Œè¿™æ ·ä»»ä½•å¯¹åŽŸå‡½æ•°çš„è°ƒç”¨éƒ½ä¸ç”¨å†ç»è¿‡æ‰§è¡Œçš„åˆ†æ”¯äº†ã€‚ ä»¥åˆ›å»ºXHRå¯¹è±¡çš„createXHR()å‡½æ•°ä¸ºä¾‹1234567891011121314151617181920212223242526272829function createXHR () &#123; if (typeof XMLHttpRequest != 'undefined') &#123; createXHR = function () &#123; return new XMLHttpRequest(); &#125;; &#125; else if (typeof ActiveXObject != 'undefined') &#123; createXHR = function () &#123; if (typeof arguments.callee.activeXString != 'string') &#123; var versions = ['MSXML2.XMLHttp.6.0', 'MSXML2.XMLHttp.3.0', 'MSXML2.XMLHttp'], i,len; for (i = 0, len = versions.length; i &lt; len; i++) &#123; try &#123; new ActiveXObject(version[i]); arguments.callee.activeXString = versions[i]; break; &#125; catch (ex) &#123; //... &#125; &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125;; &#125; else &#123; createXHR = function() &#123; throw new Error('No XHR object available.'); &#125;; &#125; return createXHR;&#125; åœ¨è¿™ä¸ªæƒ°æ€§è½½å…¥çš„ createXHR() ä¸­ï¼Œifè¯­å¥çš„æ¯ä¸€ä¸ªåˆ†æ”¯éƒ½ä¼šä¸º createXHR å˜é‡èµ‹å€¼ï¼Œæœ‰æ•ˆè¦†ç›–äº†åŽŸæœ‰çš„å‡½æ•°ï¼Œæœ€åŽä¸€æ­¥å°±æ˜¯è°ƒç”¨æ–°èµ‹çš„å‡½æ•°ï¼Œä¸‹æ¬¡è°ƒç”¨ createXHR() æ—¶å€™ï¼Œå°±ä¼šç›´æŽ¥è°ƒç”¨è¢«åˆ†é…çš„å‡½æ•°ã€‚ åœ¨å£°æ˜Žå‡½æ•°æ—¶å°±æŒ‡å®šé€‚å½“çš„å‡½æ•°ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ä¸ä¼šæŸå¤±æ€§èƒ½ï¼Œè€Œåœ¨ä»£ç é¦–æ¬¡åŠ è½½æ—¶ä¼šæŸå¤±ä¸€ç‚¹æ€§èƒ½12345678910111213141516171819202122232425262728var createXHR = (function createXHR () &#123; if (typeof XMLHttpRequest != 'undefined') &#123; return function()&#123; return new XMLHttpRequest(); &#125;; &#125; else if (typeof ActiveXObject != 'undefined') &#123;v return function () &#123; if(typeof arguments.callee.activeXString != 'string') &#123; var versions = ['MSXML2.XMLHttp.6.0', 'MSXML2.XMLHttp.3.0', 'MSXML2.XMLHttp'], i,len; for (i = 0, len = versions.length; i &lt; len; i++) &#123; try &#123; new ActiveXObject(version[i]); arguments.callee.activeXString = versions[i]; break; &#125; catch (ex) &#123; //... &#125; &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125;; &#125; else &#123; return function () &#123; throw new Error('No XHR object available.'); &#125;; &#125;&#125;)(); è¿™ç§æ–¹æ³•çš„æŠ€å·§æ˜¯åˆ›å»ºä¸€ä¸ªåŒ¿åã€è‡ªæ‰§è¡Œçš„å‡½æ•°ï¼Œç”¨ä»¥ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªå‡½æ•°å®žçŽ°ã€‚æƒ°æ€§è½½å…¥å‡½æ•°çš„ä¼˜ç‚¹æ˜¯åªåœ¨æ‰§è¡Œåˆ†æ”¯ä»£ç æ—¶ç‰ºç‰²ä¸€ç‚¹æ€§èƒ½ã€‚ å‡½æ•°æŸ¯é‡ŒåŒ– ä¸Žå‡½æ•°ç»‘å®šç´§å¯†ç›¸å…³çš„ä¸»é¢˜æ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œå®ƒç”¨äºŽåˆ›å»ºå·²ç»è®¾ç½®å¥½äº†ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼ˆåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼šCurryingï¼‰ï¼Œåˆè¯‘ä¸ºå¡ç‘žåŒ–æˆ–åŠ é‡ŒåŒ–ï¼Œæ˜¯æŠŠæŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæŽ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›žæŽ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›žç»“æžœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ï¼‰ é€šä¿—ç‚¹è®²ï¼Œå‡½æ•°æŸ¯é‡ŒåŒ–å°±æ˜¯æŠŠå‡½æ•°å®Œå…¨å˜æˆã€ŒæŽ¥å—ä¸€ä¸ªå‚æ•°ï¼›è¿”å›žä¸€ä¸ªå€¼ã€çš„å›ºå®šå½¢å¼ã€‚ å‡½æ•°æŸ¯é‡ŒåŒ–çš„åŸºæœ¬æ–¹æ³•æ˜¯ï¼šä½¿ç”¨ä¸€ä¸ªé—­åŒ…è¿”å›žä¸€ä¸ªå‡½æ•°ã€‚å½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿”å›žçš„å‡½æ•°è¿˜éœ€è¦è®¾ç½®ä¸€äº›ä¼ å…¥çš„å‚æ•°ã€‚æŸ¯é‡ŒåŒ–å‡½æ•°é€šå¸¸ç”±ä»¥ä¸‹æ­¥éª¤åŠ¨æ€åˆ›å»ºï¼šè°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶ä¸ºå®ƒä¼ å…¥è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•°å’Œå¿…è¦çš„å‚æ•°ã€‚123456789101112131415function curry (fn) &#123; var args = Array.prototype.slice.call(arguments, 1); // è¿™ä¸ªargumentsæ˜¯å¤–éƒ¨çš„ï¼Œå³curryçš„å‚æ•° return function () &#123; var innerArgs = Array.prototype.slice.call(arguments); // è¿™ä¸ªargumentsæ˜¯å†…éƒ¨çš„ï¼Œå³curryAddçš„å‚æ•° var finalArgs = args.concat(innerArgs); // è¿žæŽ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ return fn.apply(null, finalArgs); // æ²¡æœ‰è€ƒè™‘æ‰§è¡ŒçŽ¯å¢ƒï¼Œæ‰€ä»¥è°ƒç”¨applyæ—¶ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯null &#125;;&#125;function add(num1,num2)&#123; return num1+num2;&#125;var curriedAdd = curry(add, 5); // è¿”å›žå·²è®¾ç½®ç¬¬ä¸€ä¸ªå‚æ•°ä¸º5çš„å‡½æ•°alert(curriedAdd(3)); // 8 ç»“åˆå‡½æ•°æŸ¯é‡ŒåŒ–çš„æ›´å¤æ‚çš„bind()å‡½æ•°ï¼š12345678function curryBind (fn, context) &#123; var args = Array.prototype.slice.call(arguments, 2); // ç»™è¢«ç»‘å®šçš„å‡½æ•°çš„å‚æ•°æ˜¯ä»Žç¬¬ä¸‰ä¸ªå¼€å§‹ return function () &#123; var innerArgs = Array.prototype.slice.call(arguments); var finalArgs = args.concat(innerArgs); return fn.apply(context, finalArgs); &#125;;&#125; å¯ä¼ å…¥ä»»æ„å‚æ•°çš„ï¼Œä¸ä¼ å‚æ•°æ—¶è¾“å‡ºç»“æžœçš„æŸ¯é‡ŒåŒ–å‡½æ•°ï¼š1234567891011121314151617181920212223242526var currying = function (fn) &#123; var _args = []; return function () &#123; // å‚æ•°ä¸ºç©ºæ—¶ï¼Œè®¡ç®—ç»“æžœ if (arguments.length === 0) &#123; return fn.apply(this, _args); &#125; // å°†å‚æ•°ä¿å­˜ Array.prototype.push.apply(_args, [].slice.call(arguments)); return arguments.callee; &#125;&#125;; var multi = function () &#123; var total = 0; for (var i = 0, len = arguments.length; i &lt; len; i++) &#123; total += arguments[i]; &#125; return total;&#125;; var sum = currying(multi); sum(100,200)(300);sum(400);console.log(sum()); // 1000 å‡½æ•°æŸ¯é‡ŒåŒ–ä¾èµ–äºŽé—­åŒ…çš„ç‰¹æ€§ï¼Œæ¥ä¿å­˜ä¸­é—´è¿‡ç¨‹ä¸­è¾“å…¥çš„å‚æ•°ï¼Œæœ€åŽç»Ÿä¸€å¤„ç†å‚æ•° å‡½æ•°èŠ‚æµ åœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼Œé¿å…åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡æ“ä½œæˆ–è°ƒç”¨å‡½æ•°ï¼Œå¸¸è§æ“ä½œï¼šæ»šåŠ¨æ»šåŠ¨æ¡ï¼Œè§¦å‘scrolläº‹ä»¶ å‡½æ•°èŠ‚æµçš„å®žè·µ ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸­çš„æ–¹æ³•ï¼š123456function throttle (method , context) &#123; clearTimeout(method.tId); method.tId = setTimeout(function () &#123; method.call(context); &#125;, 500);&#125; çŸ¥å‹@å¤§æ¿æ —çš„æ–¹æ³•ï¼š1234567891011function throttle(fn, interval = 300) &#123; let canRun = true; return function () &#123; if (!canRun) return; canRun = false; setTimeout(() =&gt; &#123; fn.apply(this, arguments); canRun = true; &#125;, interval); &#125;;&#125; å‡½æ•°é˜²æŠ–çš„å®žè·µ ä»»åŠ¡é¢‘ç¹è§¦å‘çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä»»åŠ¡è§¦å‘çš„é—´éš”è¶…è¿‡æŒ‡å®šé—´éš”çš„æ—¶å€™ï¼Œä»»åŠ¡æ‰ä¼šæ‰§è¡Œã€‚123456789function debounce (fn, interval = 300) &#123; let timeout = null; return function () &#123; clearTimeout(timeout); timeout = setTimeout(() =&gt; &#123; fn.apply(this, arguments); &#125;, interval); &#125;;&#125; äº‹ä»¶å§”æ‰˜ ä½¿ç”¨äº‹ä»¶å§”æ‰˜æŠ€æœ¯èƒ½è®©ä½ é¿å…å¯¹ç‰¹å®šçš„æ¯ä¸ªèŠ‚ç‚¹æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼›ç›¸åï¼Œäº‹ä»¶ç›‘å¬å™¨æ˜¯è¢«æ·»åŠ åˆ°å®ƒä»¬çš„çˆ¶å…ƒç´ ä¸Šã€‚äº‹ä»¶ç›‘å¬å™¨ä¼šåˆ†æžä»Žå­å…ƒç´ å†’æ³¡ä¸Šæ¥çš„äº‹ä»¶ï¼Œæ‰¾åˆ°æ˜¯å“ªä¸ªå­å…ƒç´ çš„äº‹ä»¶ã€‚ é€šä¿—çš„è®²ï¼Œäº‹ä»¶å°±æ˜¯onclickï¼Œonmouseoverï¼Œonmouseoutç­‰ï¼Œå§”æ‰˜å‘¢ï¼Œå°±æ˜¯è®©åˆ«äººæ¥åšï¼Œè¿™ä¸ªäº‹ä»¶æœ¬æ¥æ˜¯åŠ åœ¨æŸäº›å…ƒç´ ä¸Šçš„ï¼Œç„¶è€Œä½ å´åŠ åˆ°åˆ«äººèº«ä¸Šæ¥åšï¼Œå®Œæˆè¿™ä¸ªäº‹ä»¶ã€‚åˆ©ç”¨å†’æ³¡çš„åŽŸç†ï¼ŒæŠŠäº‹ä»¶åŠ åˆ°çˆ¶çº§ä¸Šï¼Œè§¦å‘æ‰§è¡Œæ•ˆæžœã€‚ä¸»è¦ä¼˜ç‚¹å°±æ˜¯ï¼š å°†æ‰¹é‡å…ƒç´ ç›‘å¬çš„ä»»åŠ¡é€šè¿‡ä¸€ä¸ªç›‘å¬å®žçŽ°ï¼Œå‡å°‘DOMçš„äº‹ä»¶ç»‘å®šï¼›ç›‘å¬åŠ¨æ€ç”Ÿæˆå­å…ƒç´ çš„äº‹ä»¶è§¦å‘ã€‚ è¿™é‡Œè¦ç”¨åˆ°äº‹ä»¶æºï¼ševent å¯¹è±¡ï¼Œäº‹ä»¶æºï¼Œä¸ç®¡åœ¨å“ªä¸ªäº‹ä»¶ä¸­ï¼Œåªè¦ä½ æ“ä½œçš„é‚£ä¸ªå…ƒç´ å°±æ˜¯äº‹ä»¶æºã€‚ieï¼šwindow.event.srcElementæ ‡å‡†ä¸‹ï¼ševent.target123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;ul id="testUl"&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;li&gt;5&lt;/li&gt; &lt;/ul&gt; &lt;input type="button" value="æ·»åŠ " id="addBtn"&gt; &lt;script&gt; var testUl = document.getElementById('testUl'); var addBtn = document.getElementById('addBtn'); addBtn.onClick = function () &#123; var li = document.createElement('li'); li.innerHtml = '6' testUl.appendChild(li) &#125; testUl.onClick = function (event) &#123; var event = event || window.event; var target = event.target || event.srcElement; if (target.nodeName.toLowerCase === 'li') &#123; console.log(target.innerHtml) &#125; &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å‚è€ƒé“¾æŽ¥ï¼šæµ…æž JavaScript ä¸­çš„ å‡½æ•° currying æŸ¯é‡ŒåŒ–å‡½æ•°èŠ‚æµä¸Žå‡½æ•°é˜²æŠ–]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>ç¼–ç¨‹æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptå¼‚æ­¥ç¼–ç¨‹]]></title>
    <url>%2F2017%2F06%2F20%2FJavaScript%2FJavaScript%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆå¼‚æ­¥ï¼Ÿå¼‚æ­¥ï¼Œæ˜¯ç›¸å¯¹äºŽåŒæ­¥è€Œè¨€çš„ã€‚åŒæ­¥æ˜¯æŒ‡å¤šä¸ªä»»åŠ¡ä¸€ä¸ªä¸ªæŒ‰é¡ºåºåŽ»å®Œæˆï¼Œå¼‚æ­¥åˆ™æ˜¯å°†æ¯”è¾ƒè€—æ—¶çš„ä»»åŠ¡æ”¾åˆ°å…¶ä»–åœ°æ–¹æ‰§è¡Œï¼ŒæŽ¥ç€æ‰§è¡Œå½“å‰ä»»åŠ¡åˆ—è¡¨ä¸­çš„ä»»åŠ¡ï¼Œå½“è€—æ—¶ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†å°†è¯¥ä»»åŠ¡çš„å›žè°ƒæ·»åŠ åˆ°å½“å‰ä»»åŠ¡åˆ—è¡¨ä¸­ã€‚ä¸¾ä¸ªæ —å­ï¼š å¾ˆå¤šäººåŽ»å¯„å¿«é€’ï¼Œç„¶åŽå¿«é€’å‘˜è¯´ï¼šâ€œæŽ’å¥½é˜Ÿï¼Œä¸€ä¸ªä¸ªæ¥â€ã€‚äººä»¬å°±æŽ’å¥½é˜Ÿï¼Œä¸€ä¸ªä¸ªè·Ÿå¿«é€’å‘˜è¯´æ˜Žè‡ªå·±çš„éœ€æ±‚ï¼Œè¿™å°±æ˜¯åŒæ­¥ã€‚è€Œå¼‚æ­¥å‘¢ï¼Œå°±æ˜¯å½“æŽ’é˜Ÿå¯„å¿«é€’çš„æŸä¸ªäººï¼Œç”±äºŽå¯„çš„ä¸œè¥¿æ¯”è¾ƒå¤šï¼Œä¹Ÿæ²¡æ•´ç†å¥½ï¼Œå¿«é€’å‘˜å°±è·Ÿä»–è¯´ï¼šâ€œä½ å…ˆæŠŠè¦å¯„é€çš„ä¸œè¥¿æ•´ç†ä¸‹ï¼Œç»™ä½ ä¸ªå¿«é€’ç®±ï¼Œæ•´ç†å¥½ä½ å‘Šè¯‰æˆ‘â€ã€‚ç„¶åŽé‚£ä¸ªäººå°±åˆ°ä¸€æ—æ•´ç†è‡ªå·±å¯„é€çš„ç‰©å“ï¼Œå…¶ä»–äººç»§ç»­è·Ÿå¿«é€’å‘˜æ²Ÿé€šï¼Œå¯„å¿«é€’ã€‚å½“é‚£ä¸ªäººæ•´ç†å¥½è‡ªå·±å¯„é€çš„ç‰©å“åŽï¼Œå°±è·Ÿå¿«é€’å‘˜è¯´ï¼šâ€œæ•´ç†å¥½äº†â€ï¼ˆå›žè°ƒï¼‰ã€‚å¿«é€’å‘˜å¤„ç†å®Œæ‰‹ä¸Šçš„å·¥ä½œå°±ç«‹åˆ»å¸®é‚£ä¸ªäººå¯„å¿«é€’ï¼Œè¿™å°±æ˜¯å¼‚æ­¥ã€‚ å¼‚æ­¥ï¼Œå°±æ˜¯å½“ä»»åŠ¡Aè¢«æ‰§è¡Œï¼Œç”±äºŽä»»åŠ¡Aéœ€è¦æ‰§è¡Œç›¸å½“é•¿çš„æ—¶é—´ï¼Œåˆ™æŠŠä»»åŠ¡Aæ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼ˆäº‹ä»¶é˜Ÿåˆ—ï¼‰æ‰§è¡Œï¼Œç„¶åŽå…ˆæ‰§è¡ŒåŽç»­çš„ä»»åŠ¡Bï¼Œä»»åŠ¡Cï¼Œä»»åŠ¡Dç­‰ï¼Œå½“ä»»åŠ¡Aæ‰§è¡Œå®Œæ¯•æ—¶ï¼Œä¼šå°†ä»»åŠ¡Açš„ä¸€ä¸ªå›žè°ƒæˆ–å¤šä¸ªå›žè°ƒæ’å…¥åˆ°å½“å‰ä»»åŠ¡åˆ—è¡¨ä¸­ï¼Œå¯èƒ½æ˜¯ä»»åŠ¡BåŽé¢ï¼Œä»»åŠ¡CåŽé¢æˆ–ä»»åŠ¡DåŽé¢ï¼Œè¿™å–å†³äºŽä»»åŠ¡Aæ‰§è¡Œå®Œæ¯•çš„æ—¶é—´ã€‚ å¼‚æ­¥ä¸ŽåŒæ­¥çš„ä¼˜ç¼ºç‚¹åŒæ­¥ä¼˜ç‚¹ï¼šæ›´ç¬¦åˆæˆ‘ä»¬çš„æ€è€ƒæ¨¡å¼ï¼Œä»£ç çš„å…ˆåŽé¡ºåºä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œçš„å…ˆåŽé¡ºåºï¼Œç¡®ä¿ä¸€ä¸ªä»»åŠ¡æŽ¥ç€ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œä¸Šä¸€ä¸ªä»»åŠ¡æœªæ‰§è¡Œå®Œæˆï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡å°†ä¸ä¼šå¼€å§‹æ‰§è¡Œã€‚ç¼ºç‚¹ï¼šå½“æŸä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿æ—¶ï¼ŒåŽé¢çš„ä»»åŠ¡å¿…é¡»æŽ’é˜Ÿç­‰ç€ï¼Œä¼šæ‹–å»¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œï¼Œå¸¸è§çš„å°±æ˜¯æµè§ˆå™¨å¡æ­»ã€‚ å¼‚æ­¥ä¼˜ç‚¹ï¼šå½“æŸä¸ªä»»åŠ¡è¢«â€œè°ƒç”¨â€åŽä¸ä¼šç­‰å®ƒæ‰§è¡Œç»“æŸå†æ‰§è¡Œå®ƒåŽé¢çš„ä»£ç ï¼Œè€Œæ˜¯è°ƒç”¨ä¹‹åŽç›´æŽ¥å¾€ä¸‹æ‰§è¡Œï¼Œå¼‚æ­¥å‡½æ•°çš„â€œæ‰§è¡Œâ€å®žé™…ä¸Šæ˜¯æ”¾åœ¨â€œå…¶ä»–åœ°æ–¹â€ï¼Œå¾…â€œæ‰§è¡Œâ€å®ŒæˆåŽå†æŠŠç»“æžœé€šè¿‡å›žè°ƒå‡½æ•°æ¥è¿›è¡Œè¿›ä¸€æ­¥çš„ä½¿ç”¨æˆ–å¤„ç†ï¼Œè¿™æ ·ä¹Ÿå°±ä¸ä¼šå¯¼è‡´ç¨‹åºå¡æ­»ã€‚ç¼ºç‚¹ï¼šå¼‚æ­¥ç¼–ç¨‹çš„ä»£ç å¯è¯»æ€§è¾ƒå·®ï¼ˆé€šè¿‡è¿‘äº›å¹´çš„ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥åƒå†™åŒæ­¥ä»£ç ä¸€æ ·å®žçŽ°å¼‚æ­¥ï¼‰ï¼Œè€Œä¸”åœ¨æ—©æœŸçš„ç¼–ç é£Žæ ¼ä¸­ï¼Œå¼‚æ­¥ç»å¸¸å¯¼è‡´å›žè°ƒåœ°ç‹±ï¼ˆä¸æ–­çš„å›žè°ƒåµŒå¥—ï¼‰ã€‚ å¼‚æ­¥ç¼–ç¨‹çš„å…­ç§æ–¹æ³•å›žè°ƒå‡½æ•°å›žè°ƒå‡½æ•°æ˜¯å¼‚æ­¥ç¼–ç¨‹æœ€ç®€å•ï¼Œä¹Ÿæ˜¯æœ€åŽŸå§‹çš„æ–¹æ³•ã€‚1234567891011var callback = function () &#123; console.log('This is a callback function')&#125;var fn = function (callback) &#123; setTimeout(() =&gt; &#123; callback() &#125;, 1000)&#125;fn(callback) ä¸Šè¿°ä»£ç ä¸­ï¼Œcallbackéœ€è¦ç­‰å¾…fnæ‰§è¡ŒåŽçš„ç»“æžœï¼Œæ‰€ä»¥å°†callbackä¼ å…¥åˆ°fnä¸­ï¼Œåœ¨fnæ‰§è¡Œå®ŒæˆåŽï¼Œç«‹å³è°ƒç”¨callbackã€‚è¿™çœ‹ä¸ŠåŽ»å¾ˆç®€å•ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¯èƒ½ä¼šå¾ˆå¤æ‚ï¼Œä¾‹å¦‚ä»»åŠ¡Bç­‰å¾…ä»»åŠ¡Aæ‰§è¡Œçš„ç»“æžœï¼Œä»»åŠ¡Cç­‰å¾…ä»»åŠ¡Bæ‰§è¡Œçš„ç»“æžœã€‚ã€‚ã€‚å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä»£ç ï¼š1234567setTimeout(function A () &#123; setTimeout(function B () &#123; setTimeout(function C() &#123; // ... &#125;) &#125;)&#125;) è¿™æ ·å°±ä¼šå¯¼è‡´å›žè°ƒåœ°ç‹±ï¼Œä¸ä»…ä»£ç è€¦åˆæ€§é«˜ï¼Œæµç¨‹æ··ä¹±ï¼Œè€Œä¸”é˜…è¯»æ€§å·®ã€‚ äº‹ä»¶ç›‘å¬äº‹ä»¶ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§äº‹ä»¶é©±åŠ¨çš„æ¨¡å¼ï¼Œä»»åŠ¡çš„æ‰§è¡Œä¸å–å†³äºŽä»£ç é¡ºåºï¼Œè€Œæ˜¯å–å†³äºŽäº‹ä»¶è§¦å‘çš„æ—¶åˆ»ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¸¸è§çš„æ —å­(jQueryå†™æ³•)ï¼š1$('#test').on('click', fn) ä¸Šè¿°ä»£ç ä¸­ï¼Œå½“å…ƒç´ è¢«ç‚¹å‡»åŽï¼Œç«‹å³æ‰§è¡Œfnå‡½æ•°ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹çš„å½¢å¼ã€‚è¿™ç§æ–¹å¼åœ¨æ—¥å¸¸ä¸­ç”¨å¾—ä¹Ÿå¤šï¼Œä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå®¹æ˜“ç†è§£ã€‚ä½†å¦‚æžœå¤§é‡ä½¿ç”¨çš„è¯ï¼Œé‚£ä¹ˆæ•´ä¸ªç¨‹åºå°†å˜æˆäº‹ä»¶é©±åŠ¨æ¨¡å¼ï¼Œè¿è¡Œæµç¨‹ä¸å¤ªæ¸…æ™° å‘å¸ƒ/è®¢é˜…æ¨¡å¼å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œå…¶å®žä¸Žäº‹ä»¶ç›‘å¬æœ‰ç‚¹ç±»ä¼¼ï¼Œä½†ä¼˜äºŽäº‹ä»¶ç›‘å¬æ¨¡å¼ã€‚å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œä¼šæœ‰ä¸ªæ¶ˆæ¯ä¸­å¿ƒï¼Œå½“ä¸€ä¸ªä»»åŠ¡å®Œæˆæ—¶ï¼Œä¼šå‘æ¶ˆæ¯ä¸­å¿ƒå‘é€ä¸€ä¸ªâ€œå·²æ‰§è¡Œå®Œæ¯•â€çš„æ¶ˆæ¯ï¼Œå…¶ä»–ä»»ä½•è®¢é˜…äº†è¿™ä¸ªæ¶ˆæ¯çš„ä»»åŠ¡å°±ä¼šå¼€å§‹æ‰§è¡Œ1234567msgCenter.subscribe('sendMsg', f2)function f1 () &#123; setTimeout(() =&gt; &#123; msgCenter.publish('sendMsg') &#125;)&#125; ä¸Šè¿°ä»£ç ä¸­ï¼Œä»»åŠ¡f2å‘æ¶ˆæ¯ä¸­å¿ƒè®¢é˜…äº†â€™sendMsgâ€™çš„æ¶ˆæ¯ï¼Œè€Œå½“f1æ‰§è¡ŒåŽï¼Œä¼šå‘é€â€™sendMsgâ€™æ¶ˆæ¯ï¼Œf2æ”¶åˆ°â€™sendMsgâ€™æ¶ˆæ¯åŽï¼Œç«‹å³å¼€å§‹æ‰§è¡Œã€‚ å‘å¸ƒ/è®¢é˜…æ¨¡å¼èƒ½å¤Ÿé€šè¿‡æ¶ˆæ¯ä¸­å¿ƒå¾ˆå¥½åœ°ç®¡ç†æ¶ˆæ¯ä¸Žæ¶ˆæ¯è®¢é˜…è€…ï¼Œä½†æ˜¯æ­¤æ–¹æ³•éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…è‡ªä¸»å®žçŽ°ï¼Œç›¸å¯¹è¾ƒå¤æ‚ã€‚ Promise å¯¹è±¡Promise å¯¹è±¡æ˜¯ä¸€ä¸ªå…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿè¢«ç§°ä¸ºthenableå¯¹è±¡ã€‚åœ¨Promiseç¼–ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡éƒ½ä¼šè¿”å›žä¸€ä¸ªPromiseå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰thenæ–¹æ³•ï¼Œå…è®¸æŒ‡å®šå›žè°ƒå‡½æ•°ã€‚Promise å¯¹è±¡åªæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingã€fulfilledã€rejectedï¼Œä¸‰ç§çŠ¶æ€ä¸­ï¼Œåªèƒ½ç”±pendingè½¬æ¢ä¸ºfulfilledæˆ–rejectedï¼Œæ­¤è¿‡ç¨‹ä¸å¯é€†ï¼ŒåŒæ—¶fulfilledä¸Žrejectedä¹Ÿä¸å¯ä»¥ç›¸äº’è½¬æ¢ã€‚ ES6å°†Promiseçº³å…¥äº†æ ‡å‡†ï¼Œä¸å†éœ€è¦ç¬¬ä¸‰æ–¹åº“æ¥å®žçŽ°Promiseï¼Œä¸‹é¢ä»‹ç»Promiseåœ¨ES6ä¸­çš„è¿ç”¨ï¼š1234567891011121314// MDNç¤ºä¾‹var myFirstPromise = new Promise(function(resolve, reject)&#123; //å½“å¼‚æ­¥ä»£ç æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæˆ‘ä»¬æ‰ä¼šè°ƒç”¨resolve(...), å½“å¼‚æ­¥ä»£ç å¤±è´¥æ—¶å°±ä¼šè°ƒç”¨reject(...) //åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨setTimeout(...)æ¥æ¨¡æ‹Ÿå¼‚æ­¥ä»£ç ï¼Œå®žé™…ç¼–ç æ—¶å¯èƒ½æ˜¯XHRè¯·æ±‚æˆ–æ˜¯HTML5çš„ä¸€äº›APIæ–¹æ³•. setTimeout(function()&#123; resolve("æˆåŠŸ!"); //ä»£ç æ­£å¸¸æ‰§è¡Œï¼ &#125;, 250);&#125;);myFirstPromise.then(function(successMessage)&#123; //successMessageçš„å€¼æ˜¯ä¸Šé¢è°ƒç”¨resolve(...)æ–¹æ³•ä¼ å…¥çš„å€¼. //successMessageå‚æ•°ä¸ä¸€å®šéžè¦æ˜¯å­—ç¬¦ä¸²ç±»åž‹ï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¸ªä¾‹å­ console.log("Yay! " + successMessage);&#125;); ä¸Šè¿°å°±æ˜¯ES6ä¸­Promiseçš„è¿ç”¨ï¼Œè¿™åªæ˜¯ç®€å•çš„ä¾‹å­ï¼Œåœ¨MDNä¸­è¿˜æœ‰æ›´å¤šå…³äºŽPromiseçš„ä»‹ç»å’Œç”¨æ³•ã€‚ Generator ç”Ÿæˆå™¨Generator ç”Ÿæˆå™¨ï¼Œè¿™æ˜¯ES6ä¸­çš„æ–°ç‰¹æ€§ã€‚ ç”Ÿæˆå™¨å¯¹è±¡æ˜¯ç”±ä¸€ä¸ª generator function è¿”å›žçš„,å¹¶ä¸”å®ƒç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®ã€‚ä¸‹é¢ç»“åˆä»£ç æ¥ç†è§£ä¸‹ï¼š12345678910 function* getNum() &#123; yield 1; yield 2; yield 3; &#125;//è°ƒç”¨ç”Ÿæˆå™¨ï¼Œç”Ÿæˆä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ const gen = getNum(); gen.next(); // &#123;value: 1, done: false&#125; gen.next(); // &#123;value: 2, done: false&#125; gen.next(); // &#123;value: 3, done: true&#125; ç”Ÿæˆå™¨åœ¨å½¢å¼ä¸Šä¸Žæ™®é€šå‡½æ•°å·®åˆ«ä¸å¤§ï¼Œä¸»è¦ä½¿ç”¨ function* çš„å½¢å¼ï¼ŒåŒæ—¶åœ¨ç”Ÿæˆå™¨ä¸­è¿˜æ‹¥æœ‰ yield å…³é”®å­—ã€‚ç”Ÿæˆå™¨æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ï¼šå½“ä»£ç æ‰§è¡ŒåŽï¼Œé‡åˆ° yield å…³é”®å­—æ—¶ä¼šæš‚åœï¼Œå½“è°ƒç”¨ç”Ÿæˆå™¨ç”Ÿæˆçš„å¯¹è±¡çš„next()æ–¹æ³•æ—¶ï¼Œå°±ç»§ç»­æ‰§è¡Œã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œç”Ÿæˆå™¨å¯ä»¥å°†å‡½æ•°çš„æ‰§è¡Œæƒäº¤å‡ºã€‚ æŽ¥ä¸‹æ¥çœ‹ä¸‹ï¼Œç”Ÿæˆå™¨ Generatorå¦‚ä½•å®žçŽ°å¼‚æ­¥ç¼–ç¨‹ï¼š12345678910111213141516171819202122232425// ä»£ç ä¸­çš„å®šæ—¶å™¨ç”¨äºŽæ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ï¼Œå¯æ›¿æ¢æˆç›¸åº”çš„ajaxä»£ç  function getFirstName () &#123; setTimeout(() =&gt; &#123; gen.next('hello'); &#125;,2000); &#125; function getLastName () &#123; setTimeout(() =&gt; &#123; gen.next('world'); &#125;,1000); &#125; function* getFullName () &#123; let firstName = yield getFirstName() let lastName = yield getLastName() console.log(firstName + lastName) &#125; var gen = getFullName() gen.next() // ç«‹å³æ‰“å°ï¼š&#123;value: undefined, done: false&#125; // å‡ ç§’åŽæ‰“å°ï¼šhelloworld å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°ä»£ç ä»£ç èƒ½å¤Ÿè®©æˆ‘ä»¬åƒä¹¦å†™åŒæ­¥ä»£ç ä¸€æ ·å†™å¼‚æ­¥ä»£ç ï¼Œè€Œä¸”ä¸ç”¨å†å†™å›žè°ƒå‡½æ•°ã€‚è¿™æ˜¯ä¸€ç§éžå¸¸ä¸é”™çš„å¼‚æ­¥ç¼–ç¨‹çš„æ–¹å¼ã€‚ async/awaitè¿™æ˜¯ES7ä¸­æå‡ºå¼‚æ­¥å‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªPromiseå¯¹è±¡ã€‚async/awaitå…¶å®žæ˜¯å¯¹Promiseå’ŒGeneratorçš„å°è£…ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§è¯­æ³•ç³–ã€‚123456789async function add(x) &#123; var a = await resolveAfter2Seconds(20); var b = await resolveAfter2Seconds(30); return x + a + b;&#125;add(10).then(v =&gt; &#123; console.log(v); // 4såŽè¾“å‡º60&#125;); å¼‚æ­¥å‡½æ•°å¯èƒ½ä¼šåŒ…æ‹¬ await è¡¨è¾¾å¼ï¼Œè¿™å°†ä¼šä½¿å¼‚æ­¥å‡½æ•°æš‚åœæ‰§è¡Œå¹¶ç­‰å¾… promise è§£æžä¼ å€¼åŽï¼Œç»§ç»­æ‰§è¡Œå¼‚æ­¥å‡½æ•°å¹¶è¿”å›žè§£æžå€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ async å£°æ˜Žçš„å‡½æ•°ï¼Œå¦‚æžœå‡½æ•°ä½“å†…æœ‰ await å…³é”®å­—ï¼Œé‚£ä¹ˆå°†ç­‰å¾… await åŽçš„å‡½æ•°ä¼ å›žPromiseå¯¹è±¡ï¼Œæ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚ async/await å½¢å¼çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œå…·æœ‰æ›´å¥½çš„è¯­ä¹‰ï¼Œæ›´å¹¿çš„é€‚ç”¨æ€§ï¼ˆasyncå‡½æ•°çš„awaitå‘½ä»¤åŽé¢ï¼Œå¯ä»¥æ˜¯Promiseå¯¹è±¡å’ŒåŽŸå§‹ç±»åž‹çš„å€¼ï¼‰ã€‚è¿™ä¹Ÿæ˜¯ç›®å‰å¼‚æ­¥ç¼–ç¨‹æœ€å¥½çš„ä¸€ç§å½¢å¼ã€‚ å‚è€ƒé“¾æŽ¥ï¼šé˜®ä¸€å³°ï¼šJavascriptå¼‚æ­¥ç¼–ç¨‹çš„4ç§æ–¹æ³•Promise In ES6å‰ç«¯çš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ]]></content>
      <categories>
        <category>ç§¯ç´¯</category>
      </categories>
      <tags>
        <tag>JavaScriptæ ¸å¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[7-days-nodejsè¯»ä¹¦ç¬”è®°]]></title>
    <url>%2F2017%2F06%2F13%2F%E7%AC%94%E8%AE%B0%2F7-days-nodejs%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼Œæœ¬ä¹¦ä¹¦åæœ‰ç‚¹å¤¸å¼ ï¼Œä»»ä½•ä¸€é—¨ç¼–ç¨‹è¯­è¨€éƒ½æ— æ³•åœ¨çŸ­æœŸå†…å­¦ä¼šï¼Œå¿…é¡»åšæŒä¸æ‡ˆè¿›è¡Œå­¦ä¹ ï¼Œæ‰èƒ½å¤Ÿå­¦æœ‰æ‰€æˆã€‚ä½†è¿™æœ¬ä¹¦æ˜¯æŒºé€‚åˆå…¥é—¨çš„ï¼Œé€šè¿‡è¿™æœ¬ä¹¦èƒ½å¤Ÿäº†è§£åˆ°node.jsçš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼Œäº†è§£node.jsèƒ½å¤Ÿå®žçŽ°ä»€ä¹ˆåœºæ™¯ä¸‹çš„ä¸šåŠ¡ã€‚åŒæ—¶æŽ¨èå¦ä¸€æœ¬node.jså…¥é—¨ä¹¦ç±ï¼Œåå­—å°±å«åšã€Šnode.jså…¥é—¨ã€‹ï¼ˆThe Node Beginner Bookï¼‰ã€‚åŸºæœ¬å…¥é—¨ä¹‹åŽï¼Œé‚£ä¹ˆå¿…é¡»è¦æ‹œè¯»ä¸‹æœ´çµå¤§ç¥žçš„è‘—ä½œã€Šnode.jsæ·±å…¥æµ…å‡ºã€‹ï¼Œè¿™æ˜¯è¿›é˜¶å­¦ä¹ node.jsçš„å¿…è¯»ä¹‹ä¹¦ï¼ æ¨¡å—requireå‡½æ•°ç”¨äºŽåœ¨å½“å‰æ¨¡å—ä¸­åŠ è½½å’Œä½¿ç”¨åˆ«çš„æ¨¡å—ï¼Œä¼ å…¥ä¸€ä¸ªæ¨¡å—åï¼Œè¿”å›žä¸€ä¸ªæ¨¡å—å¯¼å‡ºå¯¹è±¡exportså¯¹è±¡æ˜¯å½“å‰æ¨¡å—çš„å¯¼å‡ºå¯¹è±¡ï¼Œç”¨äºŽå¯¼å‡ºæ¨¡å—å…¬æœ‰æ–¹æ³•å’Œå±žæ€§ã€‚123exports.hello = function () &#123; console.log('Hello World!');&#125;; é€šè¿‡moduleå¯¹è±¡å¯ä»¥è®¿é—®åˆ°å½“å‰æ¨¡å—çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œä½†æœ€å¤šçš„ç”¨é€”æ˜¯æ›¿æ¢å½“å‰æ¨¡å—çš„å¯¼å‡ºå¯¹è±¡ã€‚ æ¨¡å—è·¯å¾„è§£æžè§„åˆ™requireå‡½æ•°æ”¯æŒæ–œæ ï¼ˆ/ï¼‰æˆ–ç›˜ç¬¦ï¼ˆC:ï¼‰å¼€å¤´çš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿæ”¯æŒ./å¼€å¤´çš„ç›¸å¯¹è·¯å¾„ã€‚requireå‡½æ•°æ”¯æŒç¬¬ä¸‰ç§å½¢å¼çš„è·¯å¾„ï¼Œå†™æ³•ç±»ä¼¼äºŽfoo/barï¼Œå¹¶ä¾æ¬¡æŒ‰ç…§ä»¥ä¸‹è§„åˆ™è§£æžè·¯å¾„ï¼Œç›´åˆ°æ‰¾åˆ°æ¨¡å—ä½ç½®ï¼š /home/user/node_modules/foo/bar/home/node_modules/foo/bar/node_modules/foo/bar åŒ…JSæ¨¡å—çš„åŸºæœ¬å•ä½æ˜¯å•ä¸ªJSæ–‡ä»¶ï¼Œä½†å¤æ‚äº›çš„æ¨¡å—å¾€å¾€ç”±å¤šä¸ªå­æ¨¡å—ç»„æˆã€‚ä¸ºäº†ä¾¿äºŽç®¡ç†å’Œä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç”±å¤šä¸ªå­æ¨¡å—ç»„æˆçš„å¤§æ¨¡å—ç§°åšåŒ…ï¼Œå¹¶æŠŠæ‰€æœ‰å­æ¨¡å—æ”¾åœ¨åŒä¸€ä¸ªç›®å½•é‡Œã€‚åœ¨ç»„æˆä¸€ä¸ªåŒ…çš„æ‰€æœ‰å­æ¨¡å—ä¸­ï¼Œéœ€è¦æœ‰ä¸€ä¸ªå…¥å£æ¨¡å—ï¼Œå…¥å£æ¨¡å—çš„å¯¼å‡ºå¯¹è±¡è¢«ä½œä¸ºåŒ…çš„å¯¼å‡ºå¯¹è±¡ã€‚ å½“å…¥å£æ¨¡å—çš„æ–‡ä»¶åä¸ºindex.jsæ—¶ï¼ŒåŠ è½½æ¨¡å—å¯ä»¥ä½¿ç”¨æ¨¡å—æ‰€åœ¨ç›®å½•çš„è·¯å¾„ä»£æ›¿æ¨¡å—æ–‡ä»¶è·¯å¾„ï¼š12var cat = require('/home/user/lib/cat');var cat = require('/home/user/lib/cat/index'); ä»¥ä¸Šä¸¤æ¡è¯­å¥ç­‰ä»·ã€‚å› æ­¤é‡‡ç”¨ç¬¬ä¸€ç§å†™æ³•ï¼Œæ„Ÿè§‰æ•´ä¸ªç›®å½•è¢«å½“åšå•ä¸ª æ¨¡å—ä½¿ç”¨ï¼Œæ›´æœ‰æ•´ä½“æ„Ÿã€‚ è‹¥æƒ³è‡ªå®šä¹‰å…¥å£æ¨¡å—çš„æ–‡ä»¶åå’Œå­˜æ”¾ä½ç½®ï¼Œå¯ä»¥åœ¨åŒ…ç›®å½•ä¸‹åŒ…å«ä¸€ä¸ª package.json æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­é…ç½®å…¥å£æ¨¡å—çš„è·¯å¾„ï¼š1234&#123; "name":"cat", "main":"./lib/main.js"&#125; è¿™æ ·ä¾¿å¯ä»¥ä½¿ç”¨require(â€˜home/lib/user/catâ€™)åŠ è½½æ¨¡å—ã€‚ å°æ–‡ä»¶æ‹·è´ï¼Œç›´æŽ¥ä½¿ç”¨fsçš„è¯»å†™æ–¹æ³•ï¼šreadFileSync()å’ŒwriteFileSync()å¤§æ–‡ä»¶æ‹·è´ï¼Œè€ƒè™‘åˆ°å†…å­˜æœ‰é™ï¼Œå› æ­¤åº”é‡‡å–æµçš„æ–¹æ³•è¿›è¡Œè¯»å†™ï¼Œè¯»ä¸€ç‚¹ï¼Œå†™ä¸€ç‚¹ï¼Œä½¿ç”¨fsçš„å¯è¯»æµå’Œå¯å†™æµï¼šcreateReadStream()å’ŒcreateWriteStream() Bufferä¸Žå­—ç¬¦ä¸²æœ‰ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚å­—ç¬¦ä¸²æ˜¯åªè¯»çš„ï¼Œå¹¶ä¸”å¯¹å­—ç¬¦ä¸²çš„ä»»ä½•ä¿®æ”¹å¾—åˆ°çš„éƒ½æ˜¯ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼ŒåŽŸå­—ç¬¦ä¸²ä¿æŒä¸å˜ã€‚è‡³äºŽBufferï¼Œæ›´åƒæ˜¯å¯ä»¥åšæŒ‡é’ˆæ“ä½œçš„Cè¯­è¨€æ•°ç»„ã€‚ æ–‡ä»¶ç³»ç»Ÿfsæ¨¡å—æä¾›çš„APIåŸºæœ¬ä¸Šå¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼šæ–‡ä»¶å±žæ€§è¯»å†™ï¼šå¸¸ç”¨çš„æœ‰fs.statã€fs.chmodã€fs.chownç­‰ æ–‡ä»¶å†…å®¹è¯»å†™ï¼šfs.readFileã€fs.readdirã€fs.writeFileã€fs.closeç­‰ åº•å±‚æ–‡ä»¶æ“ä½œï¼šfs.openã€fs.readã€fs.writeã€fs.closeç­‰ nodeJSæœ€ç²¾åŽçš„å¼‚æ­¥IOæ¨¡åž‹åœ¨fsæ¨¡å—é‡Œæœ‰ç€å……åˆ†çš„ä½“çŽ°ï¼Œä¾‹å¦‚é€šè¿‡å›žè°ƒå‡½æ•°ä¼ é€’ç»“æžœï¼š1234567fs.readFile(pathname,function(err,data)&#123; if(err)&#123; //deal with error &#125;else&#123; //deal with data &#125;&#125;) æ­¤å¤–ï¼Œfsæ¨¡å—çš„æ‰€æœ‰å¼‚æ­¥APIéƒ½æœ‰å¯¹åº”çš„åŒæ­¥ç‰ˆæœ¬ï¼ŒåŒæ­¥APIé™¤äº†æ–¹æ³•åçš„æœ«å°¾å¤šäº†ä¸€ä¸ªSyncä¹‹å¤–ï¼Œå¼‚å¸¸å¯¹è±¡ä¸Žæ‰§è¡Œç»“æžœçš„ä¼ é€’æ–¹å¼ä¹Ÿæœ‰ç›¸åº”å˜åŒ–ã€‚123456try&#123; var data = fs.readFileSynv(pathname) //deal with data&#125;catch(err)&#123; //deal with error&#125; PathnodeJSæä¾›äº†pathå†…ç½®æ¨¡å—æ¥ç®€åŒ–è·¯å¾„ç›¸å…³æ“ä½œï¼Œå¹¶æé«˜ä»£ç å¯è¯»æ€§ã€‚å¸¸ç”¨APIï¼špath.normalizeå°†ä¼ å…¥çš„è·¯å¾„è½¬æ¢ä¸ºæ ‡å‡†è·¯å¾„ï¼Œå…·ä½“è®²ï¼Œå°±æ˜¯é™¤äº†è§£æžè·¯å¾„ä¸­çš„.å’Œ..å¤–ï¼Œè¿˜èƒ½åŽ»é™¤å¤šä½™çš„æ–œæ ã€‚å¦‚æžœæœ‰ç¨‹åºéœ€è¦ä½¿ç”¨è·¯å¾„ä½œä¸ºæŸäº›æ•°æ®çš„ç´¢å¼•ï¼Œä½†åˆå…è®¸ç”¨æˆ·éšæ„è¾“å…¥è·¯å¾„æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨è¯¥æ–¹æ³•ä¿è¯è·¯å¾„çš„å”¯ä¸€æ€§ã€‚12345678910var cache = &#123;&#125;function store(key,value)&#123; cache[path.normalize(key)] = value&#125;store('foo/bar',1)store('foo//baz//../bar',2)console.log(cache) æ³¨æ„ï¼šæ ‡å‡†åŒ–ä¹‹åŽçš„è·¯å¾„é‡Œçš„æ–œæ åœ¨Windowsç³»ç»Ÿä¸‹æ˜¯\ï¼Œè€Œåœ¨Linuxç³»ç»Ÿä¸‹æ˜¯/ã€‚å¦‚æžœæƒ³ä¿è¯ä»»ä½•ç³»ç»Ÿä¸‹éƒ½ä½¿ç”¨/ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦çš„è¯ï¼Œéœ€è¦ç”¨.replace(/\/g, â€˜/â€˜)å†æ›¿æ¢ä¸€ä¸‹æ ‡å‡†è·¯å¾„ã€‚ path.joinå°†ä¼ å…¥çš„å¤šä¸ªè·¯å¾„æ‹¼æŽ¥ä¸ºæ ‡å‡†è·¯å¾„ã€‚è¯¥æ–¹æ³•å¯é¿å…æ‰‹å·¥æ‹¼æŽ¥è·¯å¾„å­—ç¬¦ä¸²çš„ç¹çï¼Œå¹¶ä¸”èƒ½åœ¨ä¸åŒç³»ç»Ÿä¸‹æ­£ç¡®ä½¿ç”¨ç›¸åº”çš„è·¯å¾„åˆ†éš”ç¬¦ã€‚1path.join('foo/','baz/','../bar').replace(/\\/g, '/') path.extnameå½“æˆ‘ä»¬éœ€è¦æ ¹æ®ä¸åŒæ–‡ä»¶æ‰©å±•ååšä¸åŒæ“ä½œæ—¶ï¼Œè¯¥æ–¹æ³•å°±æ˜¾å¾—å¾ˆå¥½ç”¨ã€‚1path.extname('foo/bar.js') éåŽ†ç›®å½•é€’å½’ç®—æ³•éåŽ†ç›®å½•æ—¶ä¸€èˆ¬ä½¿ç”¨é€’å½’ç®—æ³•ï¼Œå¦åˆ™å°±éš¾ä»¥ç¼–å†™å‡ºç®€æ´çš„ä»£ç ã€‚é€’å½’ç®—æ³•é€šè¿‡ä¸æ–­ç¼©å°é—®é¢˜çš„è§„æ¨¡æ¥è§£å†³é—®é¢˜ã€‚1234567function factorial(n)&#123; if(n === 1)&#123; return 1 &#125;else&#123; return n*factorial(n-1) &#125;&#125; æ³¨æ„ï¼šä½¿ç”¨é€’å½’ç®—æ³•ç¼–å†™çš„ä»£ç è™½ç„¶ç®€æ´ï¼Œä½†ç”±äºŽæ¯é€’å½’ä¸€æ¬¡å°±äº§ç”Ÿä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œåœ¨éœ€è¦ä¼˜å…ˆè€ƒè™‘æ€§èƒ½æ—¶ï¼Œéœ€è¦æŠŠé€’å½’ç®—æ³•è½¬æ¢ä¸ºå¾ªçŽ¯ç®—æ³•ï¼Œä»¥å‡å°‘å‡½æ•°è°ƒç”¨æ¬¡æ•°ã€‚ éåŽ†ç®—æ³•ç›®å½•æ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æž„ï¼Œåœ¨éåŽ†æ—¶ä¸€èˆ¬ä½¿ç”¨æ·±åº¦ä¼˜å…ˆ+å…ˆåºéåŽ†ç®—æ³•ã€‚æ·±åº¦ä¼˜å…ˆï¼Œæ„å‘³ç€åˆ°è¾¾ä¸€ä¸ªèŠ‚ç‚¹åŽï¼Œé¦–å…ˆæŽ¥ç€éåŽ†å­èŠ‚ç‚¹è€Œä¸æ˜¯é‚»å±…èŠ‚ç‚¹ã€‚å…ˆåºéåŽ†ï¼Œæ„å‘³ç€é¦–æ¬¡åˆ°è¾¾äº†æŸèŠ‚ç‚¹å°±ç®—éåŽ†å®Œæˆï¼Œè€Œä¸æ˜¯æœ€åŽä¸€æ¬¡è¿”å›žæŸèŠ‚ç‚¹æ‰ç®—æ•°ã€‚å› æ­¤ä½¿ç”¨è¿™ç§éåŽ†æ–¹å¼æ—¶ï¼Œä¸‹è¾¹è¿™æ£µæ ‘çš„éåŽ†é¡ºåºæ˜¯A &gt; B &gt; D &gt; E &gt; C &gt; Fã€‚ A / \ B C / \ \ D E F åŒæ­¥éåŽ†1234567891011function travel(dir,callback)&#123; fs.readdirSync(dir).forEach(function(file)&#123; var pathname = path.join(dir,file) if(fs.statSync(pathname).isDirectory())&#123; travel(pathname,callback) &#125;else&#123; callback(pathname) &#125; &#125;)&#125; å¼‚æ­¥éåŽ†å¦‚æžœè¯»å–ç›®å½•æˆ–è¯»å–æ–‡ä»¶çŠ¶æ€æ—¶ä½¿ç”¨çš„æ˜¯å¼‚æ­¥APIï¼Œç›®å½•éåŽ†å‡½æ•°å®žçŽ°èµ·æ¥ä¼šæœ‰äº›å¤æ‚ï¼Œä½†åŽŸç†ç›¸åŒã€‚12345678910111213141516171819function travel(dir,callback,finish)&#123; fs.readdir(dir,function(err,files)&#123; (function(i)&#123; if(i &lt; files.length)&#123; var pathname = path.join(dir,files[i]) fs.stat(pathname,function(err,stats)&#123; if(stats.isDirectory())&#123; travel(pathname,callback,function()&#123; next(i+1) &#125;) &#125; &#125;) &#125;else&#123; finish &amp;&amp; finish() &#125; &#125;)(0) &#125;)&#125; æ–‡ä»¶ç¼–ç BOMç”¨äºŽæ ‡è®°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä½¿ç”¨Unicodeç¼–ç ï¼Œå…¶æœ¬èº«æ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦(â€˜\uFEFFâ€™)ï¼Œä½äºŽæ–‡æœ¬æ–‡ä»¶å¤´éƒ¨ã€‚å¯é€šè¿‡BOMæ ‡è®°æ¥åˆ¤æ–­æ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œä½†åœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¦‚æžœä¸åŽ»æŽ‰BOMï¼Œåˆ™åœ¨æŸäº›æƒ…å†µä¸‹ä¼šæœ‰é—®é¢˜ï¼Œå¦‚åˆå¹¶å‡ ä¸ªJSæ–‡ä»¶ï¼Œè‹¥ä¸­é—´æœ‰BOMæ ‡è®°ï¼Œåˆ™ä¼šå¯¼è‡´æŠ¥é”™ã€‚BOMçš„ç§»é™¤ï¼š123456789function readText(pathname)&#123; var bin = fs.readFileSync(pathname) if(bin[0] === 0xEF &amp;&amp; bin[1] === 0xBB &amp;&amp;0xBF)&#123; bin = bin.slice(3) &#125; return bin.toString('utf-8')&#125; ç½‘ç»œæ“ä½œHTTPhttpæ¨¡å—æä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼šä½œä¸ºæœåŠ¡ç«¯ä½¿ç”¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œç›‘å¬HTTPå®¢æˆ·ç«¯è¯·æ±‚å¹¶è¿”å›žå“åº”ï¼›ä½œä¸ºå®¢æˆ·ç«¯ä½¿ç”¨æ—¶ï¼Œå‘èµ·ä¸€ä¸ªHTTPå®¢æˆ·ç«¯è¯·æ±‚ï¼ŒèŽ·å–æœåŠ¡ç«¯å“åº”ã€‚ HTTPè¯·æ±‚æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°æ®æµï¼Œç”±è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç»„æˆã€‚HTTPå“åº”æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ•°æ®æµï¼Œç”±å“åº”å¤´å’Œå“åº”ä½“ç»„æˆã€‚ requestå¯¹è±¡å¯ä»¥å½“ä½œä¸€ä¸ªåªè¯»æ•°æ®æµæ¥è®¿é—®è¯·æ±‚æ•°æ®ï¼›responseå¯¹è±¡å¯ä»¥å½“ä½œä¸€ä¸ªåªå†™æµæ¥å†™å…¥å“åº”æ•°æ®ã€‚ URLparse()æ–¹æ³•å°†ä¸€ä¸ªURLå­—ç¬¦ä¸²è§£æžä¸ºURLå¯¹è±¡ï¼›format()æ–¹æ³•å…è®¸å°†ä¸€ä¸ªURLå¯¹è±¡è½¬æ¢ä¸ºURLå­—ç¬¦ä¸²ï¼›resolve()æ–¹æ³•ç”¨äºŽæ‹¼æŽ¥URLã€‚ Query Stringquerystringæ¨¡å—ç”¨äºŽå®žçŽ°URLå‚æ•°å­—ç¬¦ä¸²ä¸Žå‚æ•°å¯¹è±¡çš„äº’ç›¸è½¬æ¢ã€‚querystring.parse()å°†URLå‚æ•°å­—ç¬¦ä¸²è½¬æ¢ä¸ºURLå‚æ•°å¯¹è±¡ï¼›querystring.stringify()å°†URLå‚æ•°å¯¹è±¡è½¬æ¢ä¸ºURLå‚æ•°å­—ç¬¦ä¸². Zlibzlibæ¨¡å—æä¾›äº†æ•°æ®åŽ‹ç¼©å’Œè§£åŽ‹åŠŸèƒ½ã€‚zlib.gzip()åŽ‹ç¼©æ•°æ®ï¼›zlib.gunzip()è§£åŽ‹æ•°æ®ï¼› Netnetæ¨¡å—å¯ç”¨äºŽåˆ›å»ºSocketæœåŠ¡å™¨æˆ–Socketå®¢æˆ·ç«¯ã€‚ è¿›ç¨‹ç®¡ç†NodeJSå¯ä»¥åˆ›å»ºå­è¿›ç¨‹å¹¶ä¸Žå…¶ååŒå·¥ä½œï¼ŒæŠŠå¤šä¸ªç¨‹åºç»„åˆåœ¨ä¸€èµ·å…±åŒå®ŒæˆæŸé¡¹å·¥ä½œï¼Œå¹¶åœ¨å…¶ä¸­å……å½“èƒ¶æ°´å’Œè°ƒåº¦å™¨çš„ä½œç”¨ã€‚ processprocessä¸æ˜¯å†…ç½®æ¨¡å—ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå¯ä»¥æ„ŸçŸ¥å’ŒæŽ§åˆ¶NodeJSè‡ªèº«è¿›ç¨‹çš„æ–¹æ–¹é¢é¢ã€‚ Child Processchild_processæ¨¡å—å¯ä»¥åˆ›å»ºå’ŒæŽ§åˆ¶å­è¿›ç¨‹ã€‚ Clusterclusteræ¨¡å—æ˜¯å¯¹child_processæ¨¡å—çš„è¿›ä¸€æ­¥å°è£…ï¼Œä¸“ç”¨äºŽè§£å†³å•è¿›ç¨‹NodeJS webæœåŠ¡å™¨æ— æ³•å……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„é—®é¢˜ã€‚ åº”ç”¨åœºæ™¯ï¼šèŽ·å–å‘½ä»¤è¡Œå‚æ•°é€šè¿‡process.argvèŽ·å–å‘½ä»¤è¡Œå‚æ•°ï¼Œä½†nodeæ‰§è¡Œç¨‹åºè·¯å¾„å’Œä¸»æ¨¡å—æ–‡ä»¶è·¯å¾„å›ºå®šå æ®äº†argv[0]å’Œargv[1]ä¸¤ä¸ªä½ç½®ï¼Œè€Œç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ä»Žargv[2]å¼€å§‹ã€‚ å¦‚ä½•é€€å‡ºç¨‹åº12345try&#123; //...&#125;catch(err)&#123; process.exit(1);&#125; å¦‚ä½•æŽ§åˆ¶è¾“å…¥è¾“å‡ºæ ‡å‡†è¾“å…¥æµï¼ˆstdinï¼‰ã€ä¸€ä¸ªæ ‡å‡†è¾“å‡ºæµï¼ˆstdoutï¼‰ã€ä¸€ä¸ªæ ‡å‡†é”™è¯¯æµï¼ˆstderrï¼‰ï¼šprocess.stdinã€process.stdoutå’Œprocess.stderrï¼Œç¬¬ä¸€ä¸ªæ˜¯åªè¯»æµï¼ŒåŽä¸¤ä¸ªæ˜¯åªå†™æµã€‚ å¦‚ä½•é™æƒåœ¨Linuxç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬çŸ¥é“éœ€è¦ä½¿ç”¨rootæƒé™æ‰èƒ½ç›‘å¬1024ä»¥ä¸‹ç«¯å£ã€‚ä½†æ˜¯ä¸€æ—¦å®Œæˆç«¯å£ç›‘å¬åŽï¼Œç»§ç»­è®©ç¨‹åºè¿è¡Œåœ¨rootæƒé™ä¸‹å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œå› æ­¤æœ€å¥½èƒ½æŠŠæƒé™é™ä¸‹æ¥ã€‚12345678http.createServer(callback).listen(80,function()&#123; var env = process.env, uid = parseInt(env['SUDO_UID'] || process.getuid(), 10), gid = parseInt(env['SUDO_GID'] || process.getgid(), 10) process.setgid(gid) process.setuid(uid)&#125;) Tips: å¦‚æžœæ˜¯é€šè¿‡sudoèŽ·å–rootæƒé™çš„ï¼Œè¿è¡Œç¨‹åºçš„ç”¨æˆ·çš„UIDå’ŒGIDä¿å­˜åœ¨çŽ¯å¢ƒå˜é‡SUDO_UIDå’ŒSUDO_GIDé‡Œè¾¹ã€‚å¦‚æžœæ˜¯é€šè¿‡chmod +sæ–¹å¼èŽ·å–rootæƒé™çš„ï¼Œè¿è¡Œç¨‹åºçš„ç”¨æˆ·çš„UIDå’ŒGIDå¯ç›´æŽ¥é€šè¿‡process.getuidå’Œprocess.getgidæ–¹æ³•èŽ·å–ã€‚ process.setuidå’Œprocess.setgidæ–¹æ³•åªæŽ¥å—numberç±»åž‹çš„å‚æ•°ã€‚ é™æƒæ—¶å¿…é¡»å…ˆé™GIDå†é™UIDï¼Œå¦åˆ™é¡ºåºåè¿‡æ¥çš„è¯å°±æ²¡æƒé™æ›´æ”¹ç¨‹åºçš„GIDäº†ã€‚ å¦‚ä½•åˆ›å»ºå­è¿›ç¨‹1234567891011121314var child_process = require('child_process')var child = child_process.spawn('node',['net_server.js'])child.stdout.on('data',function(data)&#123; console.log('stdout' + data)&#125;)child.stderr.on('data',function(data)&#123; console.log('stderr:' + data)&#125;)child.on('close',function(code)&#123; console.log('child process exited with code ' + code)&#125;) spawn(exec, args, options)æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ”¯æŒä¸‰ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥æ˜¯æ‰§è¡Œæ–‡ä»¶çš„ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ¹æ®PATHçŽ¯å¢ƒå˜é‡èƒ½æ‰¾åˆ°çš„æ‰§è¡Œæ–‡ä»¶åã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸­ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæˆå‘˜éƒ½æŒ‰é¡ºåºå¯¹åº”ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°å¯é€‰ï¼Œç”¨äºŽé…ç½®å­è¿›ç¨‹çš„æ‰§è¡ŒçŽ¯å¢ƒä¸Žè¡Œä¸ºã€‚ è¿›ç¨‹é—´å¦‚ä½•é€šè®¯åœ¨Linuxç³»ç»Ÿä¸‹ï¼Œè¿›ç¨‹ä¹‹é—´å¯ä»¥é€šè¿‡ä¿¡å·äº’ç›¸é€šä¿¡ã€‚1234567891011/* parent.js */var child_process = require('child_process')var child = child_process.spawn('node',['child.js'])child.kill('SIGTERM')/* child.js */process.on('SIGTERM',function()&#123; cleanUp() process.exit(0)&#125;) killæ–¹æ³•æœ¬è´¨ä¸Šæ˜¯ç”¨æ¥ç»™è¿›ç¨‹å‘é€ä¿¡å·çš„ï¼Œå¹¶ä¸æ˜¯å…³é—­è¿›ç¨‹ã€‚è¿›ç¨‹æ”¶åˆ°ä¿¡å·åŽå…·ä½“è¦åšå•¥ï¼Œå®Œå…¨å–å†³äºŽä¿¡å·çš„ç§ç±»å’Œè¿›ç¨‹è‡ªèº«çš„ä»£ç ã€‚ å¦‚ä½•å®ˆæŠ¤å­è¿›ç¨‹å®ˆæŠ¤è¿›ç¨‹ä¸€èˆ¬ç”¨äºŽç›‘æŽ§å·¥ä½œè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼Œåœ¨å·¥ä½œè¿›ç¨‹ä¸æ­£å¸¸é€€å‡ºæ—¶é‡å¯å·¥ç¨‹è¿›ç¨‹ï¼Œä¿éšœå·¥ç¨‹è¿›ç¨‹ä¸é—´æ–­è¿è¡Œã€‚ç›‘å¬â€˜exitâ€™äº‹ä»¶ï¼Œå½“é€€å‡ºçŠ¶æ€ç ä¸ç­‰äºŽ0æ—¶ï¼Œé‡æ–°å¯ç”¨è¿›ç¨‹ã€‚1234567891011function spawn(mainModule)&#123; var worker = child_process.spawn('node',[mainModule]) worker.on('exit',function(code)&#123; if(code !== 0)&#123; spawn(mainModule); &#125; &#125;)&#125;spawn('worker.js') å¼‚æ­¥ç¼–ç¨‹NodeJSæœ€å¤§çš„å–ç‚¹â€”â€”äº‹ä»¶æœºåˆ¶å’Œå¼‚æ­¥IOã€‚è€Œå¼‚æ­¥ç¼–ç¨‹æ˜¯NodeJSæœ€å¤§çš„ç‰¹ç‚¹ï¼Œæ²¡æœ‰æŽŒæ¡å¼‚æ­¥ç¼–ç¨‹å°±ä¸èƒ½è¯´æ˜¯çœŸæ­£å­¦ä¼šäº†NodeJSã€‚ å›žè°ƒå¼‚æ­¥ç¼–ç¨‹çš„ç›´æŽ¥ä½“çŽ°å°±æ˜¯å›žè°ƒã€‚JSæ˜¯å•çº¿ç¨‹è¿è¡Œï¼Œè¿™å†³å®šäº†JSåœ¨æ‰§è¡Œå®Œä¸€æ®µä»£ç ä¹‹å‰æ— æ³•æ‰§è¡ŒåŒ…æ‹¬å›žè°ƒå‡½æ•°åœ¨å†…çš„åˆ«çš„ä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¹³è¡Œçº¿ç¨‹å®Œæˆå·¥ä½œäº†ï¼Œé€šçŸ¥JSä¸»çº¿ç¨‹æ‰§è¡Œå›žè°ƒå‡½æ•°äº†ï¼Œå›žè°ƒå‡½æ•°ä¹Ÿè¦ç­‰åˆ°JSä¸»çº¿ç¨‹æœ‰ç©ºé—²æ—¶æ‰èƒ½å¼€å§‹æ‰§è¡Œã€‚ ä»£ç è®¾è®¡æ¨¡å¼1ã€å‡½æ•°è¿”å›žå€¼åŒæ­¥æ–¹å¼ä¸‹ï¼š1var output = fn1(fn2('input')) è€Œåœ¨å¼‚æ­¥æ–¹å¼ä¸‹ï¼Œç”±äºŽå‡½æ•°æ‰§è¡Œç»“æžœä¸æ˜¯é€šè¿‡è¿”å›žå€¼ï¼Œè€Œæ˜¯é€šè¿‡å›žè°ƒå‡½æ•°ä¼ é€’ï¼š12345fn2('input',function(output2)&#123; fn1(output2,function(output1)&#123; &#125;)&#125;) å¤šä¸ªå›žè°ƒåµŒå¥—ï¼Œä»£ç ç»“æž„ä¼šæ¯”è¾ƒæ··ä¹±ï¼Œé˜…è¯»æ€§å·®ã€‚ 2ã€éåŽ†æ•°ç»„ 3ã€å¼‚å¸¸å¤„ç†JSè‡ªèº«æä¾›çš„å¼‚å¸¸æ•èŽ·å’Œå¤„ç†æœºåˆ¶â€”â€”try..catch..ï¼Œåªèƒ½ç”¨äºŽåŒæ­¥æ‰§è¡Œçš„ä»£ç ã€‚ 4ã€åŸŸNodeJSæä¾›äº†domainæ¨¡å—ï¼Œå¯ä»¥ç®€åŒ–å¼‚æ­¥ä»£ç çš„å¼‚å¸¸å¤„ç†ã€‚åŸŸçš„æ¦‚å¿µï¼šä¸€ä¸ªåŸŸå°±æ˜¯ä¸€ä¸ªJSè¿è¡ŒçŽ¯å¢ƒï¼Œåœ¨ä¸€ä¸ªè¿è¡ŒçŽ¯å¢ƒä¸­ï¼Œå¦‚æžœä¸€ä¸ªå¼‚å¸¸æ²¡æœ‰è¢«æ•èŽ·ï¼Œå°†ä½œä¸ºä¸€ä¸ªå…¨å±€å¼‚å¸¸è¢«æŠ›å‡ºã€‚NodeJSé€šè¿‡processå¯¹è±¡æä¾›äº†æ•èŽ·å…¨å±€å¼‚å¸¸çš„æ–¹æ³•ã€‚123process.on('uncaughtException',function(err)&#123; console.log('Error: %s',err.message)&#125;) åŸŸçš„ç¤ºä¾‹ï¼š123456789101112131415161718192021222324252627282930var http = require('http')function async(request,callback)&#123; asyncA(request,function(data)&#123; asyncB(request,function(data)&#123; asyncC(request,function(data)&#123; callback(data) &#125;) &#125;) &#125;)&#125;http.createServer(function(request,response)&#123; var d = domain.create() d.on('error',function()&#123; response.writeHead(500) response.end() &#125;) d.run(function()&#123; async(request,function(data)&#123; response.writeHead(200) response.end(data) &#125;) &#125;)&#125;) é€šè¿‡create()æ–¹æ³•åˆ›å»ºå­åŸŸå¯¹è±¡ï¼Œå¹¶é€šè¿‡run()æ–¹æ³•è¿›å…¥éœ€è¦åœ¨å­åŸŸä¸­è¿è¡Œçš„ä»£ç çš„å…¥å£ç‚¹ã€‚ é™·é˜±æ— è®ºæ˜¯é€šè¿‡processå¯¹è±¡çš„uncaughtExceptionäº‹ä»¶æ•èŽ·åˆ°å…¨å±€å¼‚å¸¸ï¼Œè¿˜æ˜¯é€šè¿‡å­åŸŸå¯¹è±¡çš„erroräº‹ä»¶æ•èŽ·åˆ°äº†å­åŸŸå¼‚å¸¸ï¼Œåœ¨NodeJSå®˜æ–¹æ–‡æ¡£ä¸­éƒ½å¼ºçƒˆå»ºè®®å¤„ç†å®Œå¼‚å¸¸åŽç«‹å³é‡å¯ç¨‹åºï¼Œè€Œä¸æ˜¯è®©ç¨‹åºç»§ç»­è¿è¡Œã€‚ æ€»ç»“ æœ¬ä¹¦è®²å¾—ç›¸å¯¹æµ…æ˜¾æ˜“æ‡‚ï¼Œèƒ½å¤Ÿè®©æ–°æ‰‹å¿«é€Ÿå…¥é—¨node.jsï¼ŒåŸºæœ¬äº†è§£node.jsï¼Œä½†è¦æƒ³å­¦å¥½ï¼Œå¹¶ä¸”æ›´å¥½åœ°åº”ç”¨äºŽå®žè·µä¸­ï¼Œè¿˜éœ€è¦ç»§ç»­å­¦ä¹ ä¸“ç ”ï¼Œå†æ¬¡æŽ¨èä¸‹ã€Šnode.jsæ·±å…¥æµ…å‡ºã€‹ï¼]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macç»ˆç«¯çŽ¯å¢ƒé…ç½®-iTerm2]]></title>
    <url>%2F2017%2F06%2F13%2FMac%E7%BB%88%E7%AB%AF%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-iTerm2%2F</url>
    <content type="text"><![CDATA[å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ ä¸€ä¸ªä¾¿åˆ©çš„å¼€å‘å·¥å…·ï¼Œå¾€å¾€èƒ½å¤Ÿè®©æˆ‘ä»¬äº‹åŠåŠŸå€ï¼Œæžå¤§æå‡æˆ‘ä»¬çš„å¼€å‘æ•ˆçŽ‡ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´æ„‰æ‚¦åœ°å†™ä»£ç ðŸ˜ƒ é¦–å…ˆåº”è¯¥å®‰è£…homebrewï¼Œhomebrewæ˜¯Mac OSXä¸­éžå¸¸å¥½ç”¨çš„ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œè¢«èª‰ä¸ºMac OSXä¸­å¤±ä¼ å·²ä¹…çš„åŒ…ç®¡ç†å™¨ã€‚å®‰è£…å¾ˆç®€å•ï¼š1ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" è£…å®ŒåŒ…ç®¡ç†å™¨ï¼ŒæŽ¥ç€å®‰è£…iTerm2ï¼ŒiTerm2æ˜¯Macä¸Šæœ€å¥½ç”¨çš„ç»ˆç«¯ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚1brew install iTerm2 æŽ¥ç€å®‰è£…gitï¼Œç„¶åŽå®‰è£…oh-my-zsh12git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh /* ä¸‹è½½oh-my-zsh */cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc /* æ›¿æ¢zshrcæ–‡ä»¶ */ å®‰è£…å®Œè¿™äº›åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ”¹iTerm2çš„é…è‰²ï¼Œä¸€ç§å¥½çš„é…è‰²æ–¹æ¡ˆèƒ½å¤Ÿæå‡ç”¨æˆ·ä½“éªŒï¼Œæé«˜å·¥ä½œæ•ˆçŽ‡ï¼è¿™é‡Œé‡‡ç”¨solarizedSolarized çš„ä¸»é¡µï¼šhttp://ethanschoonover.com/solarized å¯ä»¥ç›´æŽ¥åˆ°solarizedçš„ä¸»é¡µä¸‹è½½æˆ–è€…ä½¿ç”¨gitä¸‹è½½ï¼š1git clone git://github.com/altercation/solarized.git ä¸‹è½½å®ŒæˆåŽï¼Œæ‰“å¼€solarized/iterm2-colors-solarizedï¼ŒåŒå‡»é‡Œé¢çš„æ–‡ä»¶å³å¯å°†é…è‰²æ–¹æ¡ˆæ·»åŠ åˆ°iTerm2çš„æ–¹æ¡ˆåˆ—è¡¨ä¸­ã€‚ç„¶åŽæ‰“å¼€iTerm2ï¼Œç‚¹å‡»macé¡¶éƒ¨èœå•ä¸­iTerm2ï¼Œé€‰æ‹©Preferences-&gt;Profiles-&gt;colorsï¼Œç„¶åŽåœ¨é¢æ¿å³ä¸‹è§’Color Presetsä¸­é€‰æ‹©Solarized Dark æˆ–è€… Solarized Lightã€‚åŒæ—¶åœ¨å½“å‰è¿™ä¸ªé¢æ¿å¯ä»¥è®¾ç½®iTerm2çª—å£çš„å…¶ä»–ä¸€äº›é¢œè‰²è¿™æ ·é…ç½®å®Œæˆï¼Œé‡æ–°æ‰“å¼€iTerm2åŽï¼Œçª—å£å¯èƒ½ä¼šå˜æˆç°è’™è’™çš„ï¼Œæˆ–è€…æ‰“å¼€vimæ—¶ä¼šå‡ºçŽ°è¿™æƒ…å†µã€‚æ­¤æ—¶ï¼Œåº”è¯¥ç‚¹å‡»macé¡¶éƒ¨èœå•ä¸­iTerm2ï¼Œé€‰æ‹©Preferences-&gt;Profiles-&gt;Textï¼Œå°†Text Renderingä¸­çš„Draw bold text in bright colors é€‰é¡¹å–æ¶ˆå‹¾é€‰ã€‚ æŽ¥ç€ï¼ŒiTerm2æœ‰ä¸ªæ¯”è¾ƒé…·ç‚«çš„åŠŸèƒ½ï¼Œå°±æ˜¯å¯ä»¥è°ƒæ•´ç»ˆç«¯çª—å£çš„é€æ˜Žåº¦ï¼Œè®¾ç½®é€æ˜Žåº¦åŽï¼Œé€¼æ ¼å†æ¬¡æå‡ðŸ˜ƒæ­¥éª¤ï¼šç‚¹å‡»macé¡¶éƒ¨èœå•ä¸­iTerm2ï¼Œé€‰æ‹©Preferences-&gt;Profiles-&gt;windowï¼Œè°ƒæ•´Transparencyæœ€åŽé‡å¯ä¸‹iTerm2ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬é…·ç‚«çš„ç»ˆç«¯çŽ¯å¢ƒå•¦ï¼]]></content>
      <categories>
        <category>å¼€å‘çŽ¯å¢ƒ</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè®¾è®¡æ¨¡å¼ï¼ˆå·¥åŽ‚æ¨¡å¼ï¼‰]]></title>
    <url>%2F2017%2F05%2F27%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2FJavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ç®€å•å·¥åŽ‚æ¨¡å¼ åˆ›å»ºåž‹æ¨¡å¼ï¼Œåˆå«åšé™æ€å·¥åŽ‚æ–¹æ³•æ¨¡å¼ï¼Œä¸å±žäºŽ23ç§GOFè®¾è®¡æ¨¡å¼ã€‚ç®€å•å·¥åŽ‚æ¨¡å¼æ˜¯ç”±ä¸€ä¸ªå·¥åŽ‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®žä¾‹ã€‚å®žä¾‹æ‹¥æœ‰å…±åŒçš„çˆ¶ç±»ã€‚ 123456789101112function Person(name, age, sex) &#123; var obj = &#123;&#125;; obj.name = name; obj.age = age; obj.sex = sex; obj.sayHello = function() &#123; console.log('My name is' + this.name); &#125;&#125;var person1 = new Person('Peter', 23, 'male');var person2 = new Person('Helen', 22, 'female'); å·¥åŽ‚æ–¹æ³•æ¨¡å¼ å®šä¹‰åˆ›å»ºå„ç±»å¯¹è±¡çš„æŽ¥å£ï¼Œä½†æ˜¯è®©å­ç±»å†³å®šå®žä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥åŽ‚æ–¹æ³•å°†ç±»çš„å®žä¾‹åŒ–å»¶è¿Ÿåˆ°å­ç±»ã€‚æœ¬è´¨ä¸Šå°±æ˜¯æ ¹æ®ä¸åŒçš„è¾“å…¥ï¼Œåˆ›å»ºå‡ºä¸åŒç±»åž‹å¯¹è±¡ã€‚ 123456789101112131415161718192021function Computer(type) &#123; let computer; if (type === 'Macbook') &#123; computer = new Mackbook(); &#125; else if (type === 'Surface') &#123; computer = new Surface(); &#125;&#125;function Macbook() &#123; this.price = 10000; this.os = 'OSX';&#125;function Surface() &#123; this.price = 9999; this.os = 'windows';&#125;var computer1 = Computer('Macbook');var computer2 = Computer('Surface');]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè®¾è®¡æ¨¡å¼ï¼ˆå•ä¾‹ï¼‰]]></title>
    <url>%2F2017%2F05%2F24%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2FJavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%95%E4%BE%8B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å•ä¾‹æ¨¡å¼ å•ä¾‹æ¨¡å¼ï¼Œåˆç§°å•ä½“æ¨¡å¼ï¼Œå®šä¹‰ä¸ºäº§ç”Ÿä¸€ä¸ªç±»çš„å”¯ä¸€å®žä¾‹ã€‚è¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å°†ä»£ç åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªå‘½åç©ºé—´ï¼ŒåŒæ—¶ä¹Ÿå‡å°‘äº†å˜é‡å¯¹å…¨å±€å‘½åç©ºé—´çš„æ±¡æŸ“ã€‚é€šå¸¸æ˜¯åŸºäºŽæŸä¸ªåŠŸèƒ½æ¨¡å—ï¼Œåˆ›å»ºä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼Œè¿™æ ·èƒ½å¤Ÿè‰¯å¥½çš„å°†è¯¥åŠŸèƒ½æ¨¡å—ä»£ç ä¸Žå…¶ä»–åŠŸèƒ½æ¨¡å—ä»£ç éš”ç¦» æœ€å¸¸è§ï¼Œæœ€ç®€å•çš„çš„å•ä¾‹æ¨¡å¼å°±æ˜¯å¯¹è±¡å­—é¢é‡1234567var singleton = &#123; attribute1: 'hello', attribute2: 'world', method: function () &#123; console.log('This is a singleton example') &#125;&#125; é€šè¿‡åªå°†ä¸€ä¸ªå¯¹è±¡å˜é‡æš´éœ²åœ¨å…¨å±€å˜é‡ä¸­ï¼Œå…¶ä½™çš„å±žæ€§å’Œæ–¹æ³•éƒ½æ·»åŠ åœ¨è¿™å¯¹è±¡ä¸Šï¼Œå‡å°‘äº†å˜é‡å¯¹å…¨å±€å˜é‡çš„æ±¡æŸ“ï¼ŒåŒæ—¶ä¹Ÿå°†ä»£ç åˆ’åˆ†åˆ°ä¸€ä¸ªä¸ªä¸åŒçš„å‘½åç©ºé—´ä¸­ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä¸Žé—­åŒ…ç»“åˆ,å®žçŽ°æ‹¥æœ‰ç§æœ‰å˜é‡çš„å•ä¾‹å¯¹è±¡ï¼š1234567891011121314151617181920var Singleton = (function () &#123; var instance; function initInstance () &#123; var object = new Object(); object.msg = "Singleton instance"; return object; &#125; return &#123; getInstance: function () &#123; if(!instance) &#123; instance = initInstance(); &#125; return instance; &#125; &#125;;&#125;)();var instance1 = Singleton.getInstance();var instance2 = Singleton.getInstance();instance1 === instance2; // true ä¸Šè¿°äº§ç”Ÿçš„å®žä¾‹éƒ½æ˜¯åŒä¸€ä¸ªã€‚ åœ¨æ—¥å¸¸ï¼Œæˆ‘æ›´å–œæ¬¢è¿™æ ·å†™å•ä¾‹æ¨¡å¼ï¼š12345678910111213141516171819202122232425262728(function() &#123; var singleton, _self; singleton = _self = &#123; // æ•°æ® data: &#123; url: 'someurl' &#125;, // åŽŸç´  elem: &#123; someElem: document.getElementById('#someElem'), jQueryElem: $('#jQueryElem') &#125;, bind: function () &#123; _self.elem.someElem.onClick = function() &#123; &#125; &#125;, fns: &#123; method: function () &#123; console.log(_self.data.url) &#125; &#125;, init: function () &#123; _self.bind(); &#125; &#125; singleton.init();&#125;)();]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šé«˜æ€§èƒ½JavaScriptã€‹è¯»ä¹¦ç¬”è®°ï¼ˆä¸‰ï¼‰]]></title>
    <url>%2F2017%2F05%2F22%2F%E7%AC%94%E8%AE%B0%2F%E3%80%8A%E9%AB%98%E6%80%A7%E8%83%BDJavaScript%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸ƒç«  Ajax å¼‚æ­¥JavaScriptå’ŒXMLAjaxå¯ä»¥é€šè¿‡å»¶è¿Ÿä¸‹è½½å¤§é‡èµ„æºä½¿é¡µé¢åŠ è½½æ›´å¿«ã€‚å®ƒé€šè¿‡åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å¼‚æ­¥ä¼ é€æ•°æ®ï¼Œé¿å…é¡µé¢é›†ä½“åŠ è½½ã€‚è¿˜ç”¨äºŽåœ¨ä¸€æ¬¡HTTPè¯·æ±‚ä¸­èŽ·å–æ•´ä¸ªé¡µé¢çš„èµ„æºã€‚ æ•°æ®ä¼ è¾“Ajaxï¼Œåœ¨å®ƒæœ€åŸºæœ¬çš„å±‚é¢ï¼Œæ˜¯ä¸€ç§ä¸ŽæœåŠ¡å™¨é€šè®¯è€Œä¸é‡è½½å½“å‰é¡µé¢çš„æ–¹æ³•ï¼Œæ•°æ®å¯ä»ŽæœåŠ¡å™¨èŽ·å¾—æˆ–å‘é€ç»™æœåŠ¡å™¨ã€‚ è¯·æ±‚æ•°æ®æœ‰ä»¥ä¸‹äº”ç§å¸¸ç”¨æŠ€æœ¯ç”¨äºŽå‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼š XMLHttpRequest(XHR);åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥ï¼›iframes;Comet;å¤šéƒ¨åˆ†çš„XHRã€‚ XMLHttpRequestç›®å‰æœ€å¸¸ç”¨çš„æ–¹æ³•ä¸­ï¼ŒXMLHttpRequest(XHR)ç”¨æ¥å¼‚æ­¥æ”¶å‘æ•°æ®ã€‚æ‰€æœ‰çŽ°ä»£æµè§ˆå™¨éƒ½èƒ½å¤Ÿå¾ˆå¥½åœ°æ”¯æŒå®ƒï¼Œè€Œä¸”èƒ½å¤Ÿç²¾ç»†åœ°æŽ§åˆ¶å‘é€è¯·æ±‚å’Œæ•°æ®æŽ¥æ”¶ã€‚ä½ å¯ä»¥å‘è¯·æ±‚æŠ¥æ–‡ä¸­æ·»åŠ ä»»æ„çš„å¤´ä¿¡æ¯å’Œå‚æ•°ï¼ˆåŒ…æ‹¬GETå’ŒPOSTï¼‰ï¼Œå¹¶è¯»å–ä»ŽæœåŠ¡å™¨è¿”å›žçš„å¤´ä¿¡æ¯ï¼Œä»¥åŠå“åº”æ–‡æœ¬è‡ªèº«ã€‚12345678910111213141516var url ='/data.php';var params = [ 'id=934875', 'limit=20']; var req = new XMLHttpRequest();req.onreadystatechange = function()&#123; if(red.readyState === 4)&#123; //è¡¨ç¤ºæ•´ä¸ªå“åº”å·²ç»æŽ¥æ”¶å®Œå¹¶å¯ç”¨äºŽæ“ä½œ var responseHeaders = req.getAllRequestHeaders(); var data = req.responseText; &#125;&#125;req.open('GET',url+'?'+params.join('&amp;',true));req.setRequestHeader('X-Requested-With','XMLHttpRequest');req.send(null); æ ¹æ®readyStateçš„å±žæ€§å€¼æ¥åˆ¤åˆ«å½“å‰å“åº”çš„çŠ¶æ€ï¼›readyStateç­‰äºŽ4è¡¨ç¤ºæŽ¥æ”¶å®Œå¹¶å¯ç”¨äºŽæ“ä½œï¼›ç­‰äºŽ3æ—¶è¡¨ç¤ºæ­¤æ—¶æ­£åœ¨ä¸ŽæœåŠ¡å™¨äº¤äº’ï¼Œå“åº”æŠ¥æ–‡è¿˜åœ¨ä¼ è¾“ä¸­ã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œæµâ€ï¼Œå®ƒæ˜¯æé«˜æ•°æ®è¯·æ±‚æ€§èƒ½çš„å¼ºå¤§å·¥å…·ã€‚è€ç‰ˆæœ¬çš„ IE ä¹Ÿä¸æä¾› readyState 3ï¼Œå®ƒä¸æ”¯æŒæµã€‚ä»Žè¯·æ±‚è¿”å›žçš„æ•°æ®åƒä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ª XML å¯¹è±¡é‚£æ ·å¯¹å¾…ï¼Œè¿™æ„å‘³ç€å¤„ç†å¤§é‡æ•°æ®å°†ç›¸å½“ç¼“æ…¢ã€‚ ä½¿ç”¨XHRæ—¶ï¼Œåº”ä½¿ç”¨POSTè¿˜æ˜¯GETå¦‚æžœ è¯·æ±‚ä¸æ”¹å˜æœåŠ¡å™¨çŠ¶æ€ åªæ˜¯å–å›žæ•°æ®ï¼ˆåˆç§°ä½œ å¹‚ç­‰åŠ¨ä½œï¼‰åˆ™ä½¿ç”¨GETæ“ä½œã€‚GETè¯·æ±‚è¢«ç¼“å­˜èµ·æ¥ï¼Œå¦‚æžœä½ å¤šæ¬¡æå–ç›¸åŒçš„æ•°æ®å¯æé«˜æ€§èƒ½ã€‚ åªæœ‰å½“URLå’Œå‚æ•°é•¿åº¦è¶…è¿‡äº†2048ä¸ªå­—ç¬¦æ—¶æ‰ä½¿ç”¨POSTæå–æ•°æ®ã€‚å› ä¸ºIEé™åˆ¶äº†URLçš„é•¿åº¦ï¼Œè¿‡é•¿å°†å¯¼è‡´è¯·æ±‚ï¼ˆå‚æ•°ï¼‰è¢«æˆªæ–­ã€‚ åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥è¿™ä»¥æŠ€æœ¯å…‹æœäº†XHRçš„æœ€å¤§é™åˆ¶ï¼šå®ƒå¯ä»¥ä»Žä¸åŒåŸŸçš„æœåŠ¡å™¨ä¸ŠèŽ·å–æ•°æ®ã€‚123var script = document.createElement("script");script.src = "http://any-domain.com/js/index.js";document.getElementsByTagName("head")[0].appendChild(script); åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥ä¸ŽXHRç›¸æ¯”åªæä¾›æ›´å°‘çš„æŽ§åˆ¶ã€‚ ä½ ä¸èƒ½é€šè¿‡è¯·æ±‚å‘é€ä¿¡æ¯å¤´ã€‚ å‚æ•°åªèƒ½é€šè¿‡GETæ–¹æ³•ä¼ é€’ï¼Œä¸èƒ½ç”¨POSTã€‚ä½ å¿…é¡»ç­‰å¾…æ‰€æœ‰æ•°æ®è¿”å›žä¹‹åŽæ‰å¯ä»¥è®¿é—®å®ƒä»¬ã€‚ä½ ä¸èƒ½è®¿é—®å“åº”ä¿¡æ¯å¤´æˆ–è€…åƒè®¿é—®å­—ç¬¦ä¸²é‚£æ ·è®¿é—®æ•´ä¸ªå“åº”æŠ¥æ–‡ã€‚ å› ä¸ºå“åº”æŠ¥æ–‡ è¢«ç”¨ä½œè„šæœ¬æ ‡ç­¾çš„æºç ï¼Œå®ƒå¿…é¡»æ˜¯å¯æ‰§è¡Œçš„JavaScriptã€‚ä½ ä¸èƒ½ä½¿ç”¨è£¸XMLï¼Œæˆ–è£¸JSONï¼Œä»»ä½•æ•°æ®ï¼Œæ— è®ºä»€ä¹ˆæ ¼å¼ï¼Œå¿…é€‰åœ¨ä¸€ä¸ªå›žè°ƒå‡½æ•°ä¹‹ä¸­è¢«ç»„è£…èµ·æ¥ã€‚ å…¶å“åº”ç»“æžœæ˜¯è¿è¡ŒJavaScriptã€‚ è¯·å°å¿ƒä½¿ç”¨è¿™ç§æŠ€æœ¯ä»Žä½ ä¸èƒ½ç›´æŽ¥æŽ§åˆ¶çš„æœåŠ¡å™¨ä¸Šè¯·æ±‚æ•°æ®ã€‚JavaScript æ²¡æœ‰æƒé™æˆ–è®¿é—®æŽ§åˆ¶çš„æ¦‚å¿µï¼Œæ‰€ä»¥ä½ çš„é¡µé¢ä¸Šä»»ä½•ä½¿ç”¨åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥çš„ä»£ç éƒ½å¯ä»¥å®Œå…¨æŽ§åˆ¶æ•´ä¸ªé¡µé¢ã€‚åŒ…æ‹¬ä¿®æ”¹ä»»ä½•å†…å®¹ã€å°†ç”¨æˆ·é‡å®šå‘åˆ°å¦ä¸€ä¸ªç«™ç‚¹ï¼Œæˆ–è·Ÿè¸ªä»–ä»¬åœ¨é¡µé¢ä¸Šçš„æ“ä½œå¹¶å°†æ•°æ®å‘é€ç»™ç¬¬ä¸‰æ–¹ã€‚ä½¿ç”¨å¤–éƒ¨æ¥æºçš„ä»£ç æ—¶åŠ¡å¿…éžå¸¸å°å¿ƒã€‚ å¤šéƒ¨åˆ†XHRå¤šéƒ¨åˆ†XHRå…è®¸ä½ ä¸€ä¸ªHTTPè¯·æ±‚å°±å¯ä»¥ä»ŽæœåŠ¡å™¨ç«¯èŽ·å–å¤šä¸ªèµ„æºã€‚å®ƒé€šè¿‡å°†èµ„æºï¼ˆå¯ä»¥æ˜¯CSSæ–‡ä»¶ï¼ŒHTMLç‰‡æ®µï¼ŒJavaScriptä»£ç æˆ–base64ç¼–ç çš„å›¾ç‰‡ï¼‰æ‰“åŒ…æˆä¸€ä¸ªç”±ç‰¹å®šåˆ†éš”ç¬¦ç•Œå®šçš„å¤§å­—ç¬¦ä¸²ï¼Œä»ŽæœåŠ¡å™¨ç«¯å‘é€åˆ°å®¢æˆ·ç«¯ã€‚ è®©æˆ‘ä»¬ä»Žå¤´åˆ°å°¾è·Ÿéšè¿™ä¸ªè¿‡ç¨‹ã€‚é¦–å…ˆï¼Œå‘é€ä¸€ä¸ªè¯·æ±‚å‘æœåŠ¡å™¨ç´¢å–å‡ ä¸ªå›¾åƒèµ„æºï¼š123456789101112131415161718192021222324252627282930var req = new XMLHttpRequest(); req.open('GET','rollup_images.php',true);req.onreadystatechange = function()&#123; if(req.readyState == 4)&#123; splitImages(req.responseText); &#125;&#125;;req.send(null);//rollup_images.php$images = array('kitten.jpg', 'sunset.jpg', 'baby.jpg');foreach ($images as $image) &#123;$image_fh = fopen($image, 'r');$image_data = fread($image_fh, filesize($image));fclose($image_fh);$payloads[] = base64_encode($image_data);&#125;$newline = chr(1); echo implode($newline, $payloads);//splitImages()function splitImages(imageString) &#123; var imageData = imageString.split("\u0001"); var imageElement; for (var i = 0, len = imageData.length; i &lt; len; i++) &#123; imageElement = document.createElement('img'); imageElement.src = 'data:image/jpeg;base64,' + imageData[i]; document.getElementById('container').appendChild(imageElement); &#125;&#125; ä¸Šè¿°ä»£ç ä¸­ï¼Œå›¾åƒä¸æ˜¯ä»Ž base64 è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œè€Œæ˜¯ä½¿ç”¨ data:URL å¹¶æŒ‡å®š image/jpeg åª’ä½“ç±»åž‹ã€‚ ä¸‹é¢çš„å‡½æ•°ç”¨äºŽå°† JavaScript ä»£ç ã€CSS æ ·å¼è¡¨å’Œå›¾ç‰‡è½¬æ¢ä¸ºæµè§ˆå™¨å¯ç”¨çš„èµ„æºï¼š12345678910111213141516function handleImageData(data, mimeType) &#123; var img = document.createElement('img'); img.src = 'data:' + mimeType + ';base64,' + data; return img;&#125;function handleCss(data) &#123; var style = document.createElement('style'); style.type = 'text/css'; var node = document.createTextNode(data); style.appendChild(node); document.getElementsByTagName_r('head')[0].appendChild(style);&#125;function handleJavaScript(data) &#123; (data);&#125; ç”±äºŽMXHRå“åº”æŠ¥æ–‡è¶Šæ¥è¶Šå¤§ï¼Œæœ‰å¿…è¦åœ¨æ¯ä¸ªèµ„æºæ”¶åˆ°æ—¶ç«‹å³å¤„ç†ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ•´ä¸ªå“åº”æŠ¥æ–‡æŽ¥æ”¶å®Œæˆã€‚é€šè¿‡ç›‘å¬readyState3å®žçŽ°ï¼š123456789101112131415161718192021222324var req = new XMLHttpRequest();var getLatestPacketInterval, lastLength = 0;req.open('GET', 'rollup_images.php', true);req.onreadystatechange = readyStateHandler;req.send(null);function readyStateHandler()&#123; if(req.readyState === 3 &amp;&amp;getLatestPacketInterval === null)&#123; getLatestPacketInterval = window.setInterval(function()&#123; getLatestPacket(); &#125;,15); &#125; if(req.readyState === 4)&#123; clearInterval(getLatestPacketInterval); getLatestPacket(); &#125;&#125;function getLatestPacket()&#123; var length = req.responseText.length; var packet = req.responseText.substring(lastLeng,length); processPacket(packet); lastLength = length;&#125; å½“ readyState 3 ç¬¬ä¸€æ¬¡å‘å‡ºæ—¶ï¼Œå¯åŠ¨äº†ä¸€ä¸ªå®šæ—¶å™¨ã€‚æ¯éš” 15 æ¯«ç§’æ£€æŸ¥ä¸€æ¬¡å“åº”æŠ¥æ–‡ä¸­çš„æ–°æ•°æ®ã€‚æ•°æ®ç‰‡æ®µè¢«æ”¶é›†èµ·æ¥ç›´åˆ°å‘çŽ°ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œç„¶åŽä¸€åˆ‡éƒ½ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„èµ„æºå¤„ç†ã€‚ ä½¿ç”¨MXHRçš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼šä»¥æ­¤æ–¹æ³• èŽ·å¾—çš„èµ„æºä¸èƒ½è¢«æµè§ˆå™¨ç¼“å­˜ã€‚æ­¤å¤–ï¼Œåœ¨IE7åŠå…¶æ›´ä½Žç‰ˆæœ¬ä¸æ”¯æŒreadyStateæˆ–data:URLã€‚ å°½ç®¡æœ‰è¿™äº›ç¼ºç‚¹ï¼Œä½†æŸäº›æƒ…å†µä¸‹ MXHR ä»ç„¶æ˜¾è‘—æé«˜äº†æ•´ä½“é¡µé¢çš„æ€§èƒ½ï¼šç½‘é¡µåŒ…å«è®¸å¤šå…¶ä»–åœ°æ–¹ä¸ä¼šç”¨åˆ°çš„èµ„æºï¼ˆæ‰€ä»¥ä¸éœ€è¦ç¼“å­˜ï¼‰ï¼Œå°¤å…¶æ˜¯å›¾ç‰‡ï¼›ç½‘ç«™ä¸ºæ¯ä¸ªé¡µé¢ä½¿ç”¨äº†ç‹¬ä¸€æ— äºŒçš„æ‰“åŒ…çš„JavaScriptæˆ–CSSæ–‡ä»¶ä»¥å‡å°‘HTTPè¯·æ±‚ï¼Œå› ä¸ºå®ƒä»¬å¯¹æ¯ä¸ªé¡µé¢éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ä»Žç¼“å­˜ä¸­è¯»å–ï¼Œé™¤éžé‡æ–°è½½å…¥ç‰¹å®šé¡µé¢ã€‚ ç”±äºŽHTTPè¯·æ±‚æ˜¯Ajaxä¸­æœ€æžç«¯çš„ç“¶é¢ˆä¹‹ä¸€ï¼Œå‡å°‘å…¶éœ€æ±‚æ•°é‡å¯¹æ•´ä¸ªé¡µé¢æ€§èƒ½æœ‰å¾ˆå¤§å½±å“ã€‚ å‘é€æ•°æ®å½“æ•°æ®åªéœ€å‘é€æœåŠ¡å™¨æ—¶ï¼Œæœ‰ä¸¤ç§å¹¿æ³›åº”ç”¨çš„æŠ€æœ¯ï¼šXHRå’Œç¯æ ‡ã€‚ XMLHttpRequestXHRä¸»è¦ç”¨äºŽä»ŽæœåŠ¡å™¨èŽ·å–æ•°æ®ï¼Œ å®ƒä¹Ÿå¯ä»¥ç”¨æ¥å°†æ•°æ®å‘å›žã€‚ æ•°æ®å¯ä»¥ç”¨ GET æˆ– POST æ–¹å¼å‘å›žï¼Œä»¥åŠä»»æ„æ•°é‡çš„ HTTP ä¿¡æ¯å¤´ã€‚å½“ä½ å‘æœåŠ¡å™¨å‘å›žçš„æ•°æ®é‡è¶…è¿‡æµè§ˆå™¨çš„æœ€å¤§URLé•¿åº¦æ—¶XHRç‰¹åˆ«æœ‰ç”¨ã€‚12345678910111213141516171819202122var url = '/data.php';var params = [ 'id=934875', 'limit=20'];var req = new XMLHttpRequest();req.onerror = function() &#123; setTimeout(function() &#123; xhrPost(url, params, callback); &#125;, 1000);&#125;;req.onreadystatechange = function() &#123; if (req.readyState == 4) &#123; if (callback &amp;&amp; typeof callback === 'function') &#123; callback(); &#125; &#125;&#125;;req.open('POST', url, true);req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');req.setRequestHeader('Content-Length', params.length);req.send(params.join('&amp;')); å½“ä½¿ç”¨ XHR å°†æ•°æ®å‘å›žæœåŠ¡å™¨æ—¶ï¼Œå®ƒæ¯”ä½¿ç”¨ GET è¦å¿«ã€‚è¿™æ˜¯å› ä¸ºå¯¹å°‘é‡æ•°æ®è€Œè¨€ï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªGET è¯·æ±‚è¦å ç”¨ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åŒ…ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ª POST è‡³å°‘å‘é€ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä¸€ä¸ªç”¨äºŽä¿¡æ¯å¤´ã€‚å¦ä¸€ä¸ªç”¨äºŽ POST ä½“ã€‚ ç¯æ ‡æ­¤æŠ€æœ¯ä¸ŽåŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥éžå¸¸ç›¸ä¼¼ã€‚JavaScriptç”¨äºŽåˆ›å»ºä¸€ä¸ªæ–°çš„Imageå¯¹è±¡ï¼Œå°†srcè®¾ç½®ä¸ºæœåŠ¡å™¨ä¸Šä¸€ä¸ªè„šæœ¬æ–‡ä»¶çš„URL.æ­¤URLåŒ…å«æˆ‘ä»¬æ‰“ç®—é€šè¿‡GETæ ¼å¼ä¼ å›žçš„é”®å€¼å¯¹æ•°æ®ã€‚æ³¨æ„ï¼Œå¹¶æ²¡æœ‰åˆ›å»ºimgå…ƒç´ æˆ–è€…å°†å®ƒä»¬æ’å…¥åˆ°DOMä¸­ã€‚123var url = '/status_tracker.php';var params = ['step=2','time=124802'];(new Image()).src=url+'?'+params.join('&amp;'); è¿™æ˜¯å°†ä¿¡æ¯è¿”å›žæœåŠ¡å™¨æœ€æœ‰æ•ˆçš„æ–¹æ³•ã€‚å¯ä»¥é€šè¿‡ç›‘å¬Imageå¯¹è±¡çš„loadäº‹ä»¶ï¼Œå®ƒå¯ä»¥å‘ŠçŸ¥æœåŠ¡å™¨æ˜¯å¦æˆåŠŸæŽ¥æ”¶äº†æ•°æ®ã€‚è¿˜å¯ä»¥æ£€æŸ¥æœåŠ¡å™¨è¿”å›žå›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ï¼ˆå¦‚æžœè¿”å›žäº†ä¸€å¼ å›¾ç‰‡ï¼‰ï¼Œå¹¶ç”¨è¿™äº›æ•°å­—é€šçŸ¥ä½ æœåŠ¡å™¨çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œå®½åº¦ä¸º1è¡¨ç¤ºâ€œæˆåŠŸâ€ï¼Œ2è¡¨ç¤ºâ€œé‡è¯•â€ã€‚ å¦‚æžœä½ ä¸éœ€è¦ä¸ºæ­¤å“åº”è¿”å›žæ•°æ®ï¼Œé‚£ä¹ˆä½ åº”å½“å‘é€ä¸€ä¸ª 204 No Content å“åº”ä»£ç ï¼Œæ— æ¶ˆæ¯æ­£æ–‡ã€‚å®ƒå°†é˜»æ­¢å®¢æˆ·ç«¯ç»§ç»­ç­‰å¾…æ°¸è¿œä¸ä¼šåˆ°æ¥çš„æ¶ˆæ¯ä½“ã€‚ ç¯æ ‡æ˜¯å‘æœåŠ¡å™¨å›žé€æ•°æ®æœ€å¿«å’Œæœ€æœ‰æ•ˆçš„æ–¹æ³•ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯æŽ¥æ”¶åˆ°çš„å“åº”ç±»åž‹æ˜¯å—é™çš„ã€‚å¦‚æžœéœ€è¦å‘å®¢æˆ·ç«¯å‘é€å¤§é‡æ•°æ®ï¼Œé‚£ä¹ˆä½¿ç”¨XHRã€‚å¦‚æžœåªå…³å¿ƒå°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ç«¯ï¼Œé‚£ä¹ˆä½¿ç”¨å›¾åƒç¯æ ‡ã€‚ æ•°æ®æ ¼å¼åœ¨è€ƒè™‘æ•°æ®æ ¼å¼æ—¶ï¼Œå”¯ä¸€éœ€è¦æ¯”è¾ƒçš„å°ºåº¦çš„å°±æ˜¯é€Ÿåº¦ã€‚ XMLå½“Ajaxå¼€å§‹æµè¡Œæ—¶ï¼Œå®ƒé€‰æ‹©äº†XMLæ•°æ®æ ¼å¼ã€‚å¾ˆå¤šäº‹æƒ…æ˜¯å›´ç»•ç€å®ƒåšçš„ï¼šæžç«¯çš„äº’é€šæ€§ï¼ˆæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯éƒ½èƒ½å¤Ÿè‰¯å¥½ä¿æŒï¼‰ï¼Œæ ¼å¼ä¸¥æ ¼ï¼Œæ˜“äºŽéªŒè¯ã€‚ ä¸Žå…¶ä»–æ ¼å¼ç›¸æ¯”ï¼ŒXMLæžå…¶å†—é•¿ã€‚æ¯ä¸ªç¦»æ•£çš„æ•°æ®ç‰‡æ–­éœ€è¦å¤§é‡ç»“æž„ï¼Œæ‰€ä»¥æœ‰æ•ˆæ•°æ®çš„æ¯”ä¾‹éžå¸¸ä½Žã€‚æ­¤å¤–ï¼Œè§£æžXMLä¹Ÿæ¯”è¾ƒç¹çã€‚ä¸€ä¸ªæ›´æœ‰æ•ˆçš„æ–¹å¼æ˜¯å°†æ¯ä¸ªå€¼éƒ½å­˜å‚¨ä¸º&lt;user&gt;æ ‡ç­¾çš„å±žæ€§ã€‚æ•°æ®ç›¸åŒè€Œæ–‡ä»¶å°ºå¯¸å´æ›´å°ã€‚ JSONJSONæ˜¯ä¸€ä¸ªè½»é‡çº§å¹¶æ˜“äºŽè§£æžçš„æ•°æ®æ ¼å¼ï¼Œå®ƒæŒ‰ç…§JavaScriptå¯¹è±¡å’Œæ•°ç»„å­—é¢è¯­æ³•æ‰€ç¼–å†™ã€‚åœ¨è§£æžJSONæ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¿æŒæ•°æ®çš„é¡ºåºã€‚ ä½¿ç”¨()å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScriptä»£ç ã€‚æ•°ç»„å½¢å¼çš„jsonæ•°æ®æ–‡ä»¶å°ºå¯¸æœ€å°ï¼Œä¸‹è½½æœ€å¿«ï¼Œå¹³å‡è§£æžæ—¶é—´æœ€çŸ­ã€‚ JSON-På½“ä½¿ç”¨XHRæ—¶JSONæ•°æ®ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›žï¼Œè¯¥å­—ç¬¦ä¸²ä½¿ç”¨()è½¬æ¢ä¸ºä¸€ä¸ªæœ¬åœ°å¯¹è±¡ã€‚ç„¶è€Œï¼Œå½“ä½¿ç”¨åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥æ—¶ï¼ŒJSONæ•°æ®è¢«è§†ä¸ºå¦ä¸€ä¸ªJavaScriptæ–‡ä»¶å¹¶ä½œä¸ºæœ¬åœ°ä»£ç æ‰§è¡Œã€‚ä¸ºåšåˆ°è¿™ä¸€ç‚¹ï¼Œæ•°æ®å¿…é¡»è¢«åŒ…è£…åœ¨å›žè°ƒå‡½æ•°ä¹‹ä¸­ã€‚è¿™å°±æ˜¯â€œJSONå¡«å……â€æˆ–JSON-Pã€‚ JSON-P å› ä¸ºå›žè°ƒåŒ…è£…çš„åŽŸå› ç•¥å¾®å¢žåŠ äº†æ–‡ä»¶å°ºå¯¸ï¼Œä½†ä¸Žå…¶è§£æžæ€§èƒ½çš„æ”¹è¿›ç›¸æ¯”è¿™ç‚¹å¢žåŠ å¾®ä¸è¶³é“ã€‚ç”±äºŽæ•°æ®ä½œä¸ºæœ¬åœ° JavaScript å¤„ç†ï¼Œå®ƒçš„è§£æžé€Ÿåº¦åƒæœ¬åœ° JavaScript ä¸€æ ·å¿«ã€‚ æœ€å¿«çš„JSONæ ¼å¼æ˜¯ï¼šä½¿ç”¨æ•°ç»„çš„JSON-Pæ ¼å¼ã€‚ è¿˜æœ‰ä¸€ä¸ªä¸Žæ€§èƒ½æ— å…³çš„åŽŸå› è¦é¿å…ä½¿ç”¨ JSON-Pï¼šå› ä¸º JSON-P å¿…é¡»æ˜¯å¯æ‰§è¡Œçš„ JavaScriptï¼Œå®ƒä½¿ç”¨åŠ¨æ€è„šæœ¬æ ‡ç­¾æ³¨å…¥æŠ€æœ¯å¯åœ¨ä»»ä½•ç½‘ç«™ä¸­è¢«ä»»ä½•äººè°ƒç”¨ã€‚ä»Žå¦ä¸€ä¸ªè§’åº¦è¯´ï¼ŒJSON åœ¨è¿è¡Œä¹‹å‰å¹¶ä¸æ˜¯æœ‰æ•ˆçš„ã€‚JavaScriptï¼Œä½¿ç”¨ XHR æ—¶åªæ˜¯è¢«å½“ä½œå­—ç¬¦ä¸²èŽ·å–ã€‚ä¸è¦å°†ä»»ä½•æ•æ„Ÿçš„æ•°æ®ç¼–ç ä¸º JSON-Pï¼Œå› ä¸ºä½ æ— æ³•ç¡®å®šå®ƒæ˜¯å¦åŒ…å«ç§å¯†ä¿¡æ¯ï¼Œæˆ–è€…åŒ…å«éšæœºçš„ URL æˆ– cookieã€‚ HTMLJavaScriptèƒ½å¤Ÿæ¯”è¾ƒå¿«åœ°å°†ä¸€ä¸ªå¤§æ•°æ®ç»“æž„è½¬åŒ–ä¸ºç®€å•çš„HTMLï¼Œä½†æ˜¯æœåŠ¡å™¨å®ŒæˆåŒæ ·å·¥ä½œæ›´å¿«ã€‚ä¸€ç§æŠ€æœ¯è€ƒè™‘æ˜¯åœ¨æœåŠ¡å™¨ç«¯æž„å»ºæ•´ä¸ª HTML ç„¶åŽä¼ é€’ç»™å®¢æˆ·ç«¯ï¼ŒJavaScript åªæ˜¯ç®€å•åœ°ä¸‹è½½å®ƒç„¶åŽæ”¾å…¥ innerHTMLã€‚æ­¤æŠ€æœ¯çš„é—®é¢˜åœ¨äºŽï¼ŒHTMLæ˜¯ä¸€ç§è¯¦ç»†çš„æ•°æ®æ ¼å¼ï¼Œæ¯”XMLæ›´åŠ å†—é•¿ã€‚å› æ­¤ï¼Œåªæœ‰å½“å®¢æˆ·ç«¯ CPU æ¯”å¸¦å®½æ›´å—é™æ—¶æ‰ä½¿ç”¨æ­¤æŠ€æœ¯ã€‚ å­—ç¬¦ä¸²æ“ä½œæ˜¯JavaScriptæœ€æ…¢çš„æ“ä½œä¹‹ä¸€ã€‚ è‡ªå®šä¹‰æ ¼å¼æœ€ç†æƒ³çš„æ•°æ®æ ¼å¼åªåŒ…å«å¿…è¦çš„ç»“æž„ï¼Œä½¿ä½ èƒ½å¤Ÿåˆ†è§£å‡ºæ¯ä¸ªå­—æ®µã€‚å¯ä»¥è‡ªå®šä¹‰ä¸€ç§æ ¼å¼åªæ˜¯ç®€å•åœ°ç”¨ä¸€ä¸ªåˆ†éš”ç¬¦å°†æ•°æ®è¿žæŽ¥èµ·æ¥ã€‚ç„¶åŽè°ƒç”¨å­—ç¬¦ä¸²çš„split()æ–¹æ³•å°†åˆ†éš”ç¬¦ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå³å¯åˆ†è§£æ•°æ®ã€‚ split()æ˜¯æœ€å¿«çš„å­—ç¬¦ä¸²æ“ä½œä¹‹ä¸€ã€‚123456789101112131415function parseCustomFormat(responseText) &#123; var users = []; var usersEncoded = responseText.split(';'); var userArray; for (var i = 0, len = usersEncoded.length; i &lt; len; i++) &#123; userArray = usersEncoded[i].split(':'); users[i] = &#123; id: userArray[0], username: userArray[1], realname: userArray[2], email: userArray[3] &#125;; &#125; return users;&#125; å¯¹äºŽéžå¸¸å¤§çš„æ•°æ®é›†ï¼Œå®ƒæ˜¯æœ€å¿«çš„ä¼ è¾“æ ¼å¼ï¼Œç”šè‡³å¯ä»¥åœ¨è§£æžé€Ÿåº¦å’Œä¸‹è½½æ—¶é—´ä¸Šå‡»è´¥æœ¬æœºæ‰§è¡Œçš„JSONã€‚ç”¨æ­¤æ ¼å¼å‘å®¢æˆ·ç«¯ä¼ é€å¤§é‡æ•°æ®åªç”¨å¾ˆå°‘çš„æ—¶é—´ã€‚ æ•°æ®æ ¼å¼æ€»ç»“æœ€å¥½çš„æ ¼å¼æ˜¯JSONå’Œå­—ç¬¦åˆ†éš”çš„è‡ªå®šä¹‰æ ¼å¼ã€‚JSON-Pæ•°æ®ï¼Œç”¨åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥æ³•èŽ·å–ã€‚å®ƒå°†æ•°æ®è§†ä¸ºå¯è¿è¡Œçš„JavaScriptä»£ç è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œè§£æžé€Ÿåº¦æžå¿«ï¼Œå¹¶ä¸”å¯å®žçŽ°è·¨åŸŸã€‚å­—ç¬¦åˆ†éš”çš„è‡ªå®šä¹‰æ ¼å¼ï¼Œä½¿ç”¨XHRæˆ–åŠ¨æ€è„šæœ¬æ ‡ç­¾æ’å…¥æŠ€æœ¯æå–ï¼Œä½¿ç”¨split()è§£æžã€‚ Ajaxæ€§èƒ½å‘å¯¼ç¼“å­˜æ•°æ®æœ€å¿«çš„Ajaxå°±æ˜¯ä½ ä¸è¦ç”¨å®ƒã€‚æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•é¿å…å‘å‡ºä¸€ä¸ªä¸å¿…è¦çš„è¯·æ±‚ï¼šåœ¨æœåŠ¡å™¨ç«¯ï¼Œè®¾ç½®HTTPå¤´ï¼Œç¡®ä¿è¿”å›žæŠ¥æ–‡å°†è¢«ç¼“å­˜åœ¨æµè§ˆå™¨ä¸­ï¼›åœ¨å®¢æˆ·ç«¯ï¼ŒäºŽæœ¬åœ°ç¼“å­˜å·²èŽ·å–çš„æ•°æ®ï¼Œä¸è¦å¤šæ¬¡è¯·æ±‚åŒä¸€ä¸ªæ•°æ®ï¼› è®¾ç½®HTTPå¤´å¦‚æžœå¸Œæœ›Ajaxå“åº”æŠ¥æ–‡èƒ½å¤Ÿè¢«æµè§ˆå™¨æ‰€ç¼“å­˜ï¼Œä½ å¿…é¡»åœ¨å‘èµ·è¯·æ±‚æ—¶ä½¿ç”¨GETæ–¹æ³•ï¼Œå¹¶ä¸”å¿…é¡»åœ¨å“åº”æŠ¥æ–‡ä¸­å‘é€æ­£ç¡®çš„HTTPå¤´ã€‚Expireså¤´å‘Šè¯‰æµè§ˆå™¨åº”å½“ç¼“å­˜å“åº”æŠ¥æ–‡å¤šé•¿æ—¶é—´ã€‚ ä»€ä¹ˆæ˜¯Expireså¤´ï¼ŸExpireså­˜å‚¨çš„æ˜¯ä¸€ä¸ªç”¨æ¥æŽ§åˆ¶ç¼“å­˜å¤±æ•ˆçš„æ—¥æœŸã€‚å½“æµè§ˆå™¨çœ‹åˆ°å“åº”ä¸­æœ‰ä¸€ä¸ªExpireså¤´æ—¶ï¼Œå®ƒä¼šå’Œç›¸åº”çš„ç»„ä»¶ä¸€èµ·ä¿å­˜åˆ°å…¶ç¼“å­˜ä¸­ï¼Œåªè¦ç»„ä»¶æ²¡æœ‰è¿‡æœŸï¼Œæµè§ˆå™¨å°±ä¼šä½¿ç”¨ç¼“å­˜ç‰ˆæœ¬è€Œä¸ä¼šè¿›è¡Œä»»ä½•çš„HTTPè¯·æ±‚ã€‚Expiresè®¾ç½®çš„æ—¥æœŸæ ¼å¼å¿…é¡»ä¸ºGMTï¼ˆæ ¼æž—å°¼æ²»æ ‡å‡†æ—¶é—´ï¼‰ã€‚ Expires å¤´ç¤ºä¾‹å¦‚ä¸‹ï¼šExpires: Mon, 28 Jul 2014 23:30:00 GMT ä¸€ä¸ª Expires å¤´æ˜¯ç¡®ä¿æµè§ˆå™¨ç¼“å­˜ Ajax å“åº”æŠ¥æ–‡æœ€ç®€å•çš„æ–¹æ³•ã€‚ æœ¬åœ°å­˜å‚¨æ•°æ®é™¤äº†ä¾èµ–æµè§ˆå™¨å¤„ç†ç¼“å­˜ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æœ¬åœ°å­˜å‚¨æ•°æ®çš„æ–¹æ³•ï¼Œå°†ä»ŽæœåŠ¡å™¨æŽ¥æ”¶åˆ°çš„å“åº”æŠ¥æ–‡å­˜å‚¨ã€‚å°†å“åº”æŠ¥æ–‡å­˜æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œä»¥URLä¸ºé”®å€¼ç´¢å¼•ã€‚1234567891011121314151617181920212223var localCache =&#123;&#125;;function xhrRequest(url, callback)&#123; if(localCache[url])&#123; //æ£€æŸ¥URLæ­¤å‰æ˜¯å¦è¢«å–ç”¨è¿‡ callback.success(localCache[url]); return ; &#125; var req = createXhrObject(); req.onerror = function()&#123; callback.error(); &#125;; req.onreadystatechange = function()&#123; if(req.readyState === 4)&#123; if(req.responseText === '' || req.status == '404')&#123; callback.error(); return; &#125; localCache[url] = req.responseText; callback.success(req.responseText); &#125; &#125; req.open('GET',url,true); req.send(null);&#125; äº†è§£Ajaxåº“çš„é™åˆ¶æ‰€æœ‰ JavaScript åº“å…è®¸ä½ è®¿é—®ä¸€ä¸ª Ajax å¯¹è±¡ï¼Œå®ƒå±è”½æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚ï¼Œç»™ä½ ä¸€ä¸ªä¸€è‡´çš„æŽ¥å£ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹è¿™éžå¸¸å¥½ï¼Œå› ä¸ºå®ƒä½¿ä½ å¯ä»¥å…³æ³¨ä½ çš„é¡¹ç›®ï¼Œè€Œä¸æ˜¯é‚£äº›å¤æ€ªçš„æµè§ˆå™¨ä¸Š XHR çš„å·¥ä½œç»†èŠ‚ã€‚ç„¶è€Œï¼Œä¸ºäº†ç»™ä½ ä¸€ä¸ªç»Ÿä¸€çš„æŽ¥å£ï¼Œè¿™äº›åº“å¿…é¡»ç®€åŒ–æŽ¥å£ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å®žçŽ°äº†æ¯ä¸ªåŠŸèƒ½ã€‚è¿™ä½¿å¾—ä½ ä¸èƒ½è®¿é—® XMLHttpRequestçš„å®Œæ•´åŠŸèƒ½ã€‚ æ€»ç»“é«˜æ€§èƒ½AjaxåŒ…æ‹¬ï¼šçŸ¥é“ä½ é¡¹ç›®çš„å…·ä½“éœ€æ±‚ï¼Œé€‰æ‹©æ­£ç¡®çš„æ•°æ®æ ¼å¼å’Œä¸Žä¹‹ç›¸é…çš„ä¼ è¾“æŠ€æœ¯ã€‚ ä½œä¸ºæ•°æ®æ ¼å¼ï¼Œçº¯æ–‡æœ¬å’Œ HTML æ˜¯é«˜åº¦é™åˆ¶çš„ï¼Œä½†å®ƒä»¬å¯èŠ‚çœå®¢æˆ·ç«¯çš„ CPU å‘¨æœŸã€‚XML è¢«å¹¿æ³›åº”ç”¨æ™®éæ”¯æŒï¼Œä½†å®ƒéžå¸¸å†—é•¿ä¸”è§£æžç¼“æ…¢ã€‚JSON æ˜¯è½»é‡çº§çš„ï¼Œè§£æžè¿…é€Ÿï¼ˆä½œä¸ºæœ¬åœ°ä»£ç è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼‰ï¼Œäº¤äº’æ€§ä¸Ž XML ç›¸å½“ã€‚å­—ç¬¦åˆ†éš”çš„è‡ªå®šä¹‰æ ¼å¼éžå¸¸è½»é‡ï¼Œåœ¨å¤§é‡æ•°æ®é›†è§£æžæ—¶é€Ÿåº¦æœ€å¿«ï¼Œä½†éœ€è¦ç¼–å†™é¢å¤–çš„ç¨‹åºåœ¨æœåŠ¡å™¨ç«¯æž„é€ æ ¼å¼ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯è§£æžã€‚ è¿›ä¸€æ­¥æé«˜Ajaxçš„é€Ÿåº¦çš„æ–¹æ³•ï¼š å‡å°‘è¯·æ±‚æ•°é‡ï¼Œå¯é€šè¿‡JavaScriptå’ŒCSSæ–‡ä»¶æ‰“åŒ…ï¼Œæˆ–è€…ä½¿ç”¨MXHRï¼›ç¼©çŸ­é¡µé¢åŠ è½½æ—¶é—´ï¼Œåœ¨é¡µé¢å…¶ä»–å†…å®¹åŠ è½½ä¹‹åŽï¼Œä½¿ç”¨AjaxèŽ·å–å°‘é‡é‡è¦æ–‡ä»¶ï¼›ç¡®ä¿ä»£ç é”™è¯¯ä¸è¦ç›´æŽ¥æ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œå¹¶åœ¨æœåŠ¡å™¨ç«¯å¤„ç†é”™è¯¯ã€‚å­¦ä¼šä½•æ—¶ä½¿ç”¨ä¸€ä¸ªå¥å£®çš„ Ajax åº“ï¼Œä½•æ—¶ç¼–å†™è‡ªå·±çš„åº•å±‚ Ajax ä»£ç ã€‚ ç¬¬å…«ç«  ç¼–ç¨‹å®žè·µé¿å…äºŒæ¬¡è§£æžJavaScriptä¸Žå…¶ä»–çš„è®¸å¤šè„šæœ¬è¯­è¨€ä¸€æ ·ï¼Œå…è®¸ä½ åœ¨ç¨‹åºä¸­èŽ·å–ä¸€ä¸ªåŒ…å«ä»£ç çš„å­—ç¬¦ä¸²ç„¶åŽè¿è¡Œå®ƒã€‚æœ‰å››ç§æ–¹æ³•å¯ä»¥å®žçŽ°ï¼ševal()ï¼ŒFunction()æž„é€ å™¨ï¼ŒsetTimeout()å’ŒsetInterval()ã€‚æ¯ä¸ªå‡½æ•°è¿è¡Œä¼ å…¥ä¸€ä¸²JavaScriptä»£ç ï¼Œç„¶åŽè¿è¡Œå®ƒã€‚ å½“åœ¨JavaScriptä»£ç ä¸­æ‰§è¡Œï¼ˆå¦ä¸€æ®µï¼‰JavaScriptä»£ç æ—¶ï¼Œéœ€è¦ä»˜å‡ºäºŒæ¬¡è§£æžçš„ä»£ä»·ã€‚æ­¤ä»£ç å…ˆè¢«è§£æžä¸ºæ­£å¸¸ä»£ç ï¼Œç„¶åŽåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¿è¡Œå­—ç¬¦ä¸²ä¸­çš„ä»£ç æ—¶å‘ç”Ÿå¦ä¸€æ¬¡è§£æžã€‚äºŒæ¬¡è§£æžæ˜¯éžå¸¸æ˜‚è´µçš„æ“ä½œï¼Œä¸Žç›´æŽ¥åŒ…å«ç›¸åº”ä»£ç ç›¸æ¯”å°†å ç”¨æ›´å¤šçš„æ—¶é—´ã€‚ æ¯æ¬¡è°ƒç”¨eval()/Function()æž„é€ å™¨/setTimeout()/setInterval()æ—¶è¦åˆ›å»ºä¸€ä¸ªæ–°çš„è§£é‡Š/ç¼–è¯‘å®žä¾‹ï¼Œä½¿å¾—ä»£ç æ‰§è¡Œé€Ÿåº¦å˜æ…¢ã€‚ å› æ­¤ï¼Œåº”å°½é‡é¿å…ä½¿ç”¨eval()å’ŒFunction()æž„é€ å™¨ï¼Œåœ¨ä½¿ç”¨setTimeout()å’Œ setInterval()æ—¶ï¼Œå»ºè®®ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ ä½¿ç”¨å¯¹è±¡/æ•°ç»„ç›´æŽ¥é‡åœ¨JavaScriptä¸­æœ‰å¤šç§æ–¹æ³•åˆ›å»ºå¯¹è±¡å’Œæ•°ç»„ï¼Œä½†æ²¡æœ‰ä»€ä¹ˆæ¯”åˆ›å»ºå¯¹è±¡å’Œæ•°ç»„ç›´æŽ¥é‡é€Ÿåº¦æ›´å¿«äº†ã€‚ç›´æŽ¥é‡èµ‹å€¼å¾ˆå¿«ï¼Œå¹¶ä¸”åœ¨ä»£ç ä¸­å ç”¨è¾ƒå°‘ç©ºé—´ï¼Œæ‰€ä»¥æ•´ä¸ªæ–‡ä»¶å°ºå¯¸å¯ä»¥æ›´å°ã€‚12345678910//å¯¹è±¡ç›´æŽ¥é‡var myObject = &#123; name : "Peter", count : 50, flag : true, pointer : null&#125;;//æ•°ç»„ç›´æŽ¥é‡var myArray = ["Peter",50,true,null]; ä¸è¦é‡å¤å·¥ä½œåœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸæœ€é‡è¦çš„æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ä¹‹ä¸€æ˜¯é¿å…å·¥ä½œã€‚é¿å…å·¥ä½œçš„æ¦‚å¿µå®žé™…ä¸Šæ„å‘³ç€ä¸¤ä»¶äº‹ï¼šä¸è¦åšä¸å¿…è¦çš„å·¥ä½œï¼›ä¸è¦åšé‡å¤åšå·²ç»å®Œæˆçš„å·¥ä½œã€‚ æœ€å¸¸è§çš„é‡å¤å·¥ä½œç±»åž‹æ˜¯æµè§ˆå™¨æ£€æµ‹ã€‚æœ‰å¤šç§åŠžæ³•å¯ä»¥é¿å…é‡å¤å·¥ä½œï¼šå»¶è¿ŸåŠ è½½ï¼ˆlazy loadingï¼‰å»¶è¿ŸåŠ è½½æ„å‘³ç€åœ¨ä¿¡æ¯è¢«ä½¿ç”¨ä¹‹å‰ä¸åšä»»ä½•å·¥ä½œã€‚12345678910111213141516171819202122232425262728function addHandler(target, eventType, handler)&#123; if(target.addEventListener)&#123; //é‡å†™addHandler()å‡½æ•° addHandler = function(target,eventType,handler)&#123; target.addEventListener(eventType,handler,false); &#125;; &#125;else&#123; //é‡å†™addHandler()å‡½æ•° addHandler = function(target,eventType,handler)&#123; target.attachEvent("on"+eventType,handler); &#125;; &#125; //è°ƒç”¨å‡½æ•° addHandler(target,eventType,handler);&#125;function removeHandler(target, eventType, handler)&#123; if (target.removeEventListener)&#123; removeHandler = function(target, eventType, handler)&#123; target.addEventListener(eventType, handler, false); &#125;; &#125; else &#123; removeHandler = function(target, eventType, handler)&#123; target.detachEvent("on" + eventType, handler); &#125;; &#125; removeHandler(target, eventType, handler);&#125; ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨æ—¶ï¼Œæ£€æŸ¥ä¸€æ¬¡å¹¶å†³å®šä½¿ç”¨å“ªç§æ–¹æ³•é™„åŠ æˆ–åˆ†ç¦»äº‹ä»¶å¥æŸ„ã€‚ç„¶åŽåŽŸå§‹å‡½æ•°å°±è¢«åŒ…å«é€‚å½“æ“ä½œçš„æ–°å‡½æ•°è¦†ç›–äº†ã€‚ å»¶è¿ŸåŠ è½½é€‚ç”¨äºŽå‡½æ•°ä¸ä¼šåœ¨é¡µé¢ä¸Šç«‹å³è¢«ç”¨åˆ°çš„åœºåˆã€‚ æ¡ä»¶é¢„åŠ è½½æ¡ä»¶é¢„åŠ è½½ï¼Œåœ¨è„šæœ¬åŠ è½½ä¹‹å‰æå‰æ£€æŸ¥ï¼Œè€Œä¸ç­‰å¾…å‡½æ•°è°ƒç”¨ã€‚1234567891011121314151617//ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦è¿›è¡Œåˆ¤æ–­var addHandler = document.body.addEventListener ?function(target,eventType,handler)&#123; target.addEventListener(eventType,handler,false);&#125; : function(target,eventType,handler)&#123; target.attachEvent("on"+eventType,handler);&#125;;//ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦è¿›è¡Œåˆ¤æ–­var removeHandler = document.body.removeEventListener ?function(target, eventType, handler)&#123; target.removeEventListener(eventType, handler, false);&#125; : function(target, eventType, handler)&#123; target.detachEvent("on" + eventType, handler);&#125;; æ¡ä»¶é¢„åŠ è½½ç¡®ä¿æ‰€æœ‰å‡½æ•°è°ƒç”¨æ—¶é—´ç›¸åŒã€‚é€‚ç”¨äºŽä¸€ä¸ªå‡½æ•°é©¬ä¸Šå°±ä¼šè¢«ç”¨åˆ°ï¼Œè€Œä¸”åœ¨æ•´ä¸ªé¡µé¢ç”Ÿå‘½å‘¨æœŸä¸­ç»å¸¸ä½¿ç”¨çš„åœºåˆã€‚ ä½¿ç”¨é€Ÿåº¦å¿«çš„éƒ¨åˆ†è™½ç„¶ JavaScript é€Ÿåº¦æ…¢å¾ˆå®¹æ˜“è¢«å½’å’ŽäºŽå¼•æ“Žï¼Œç„¶è€Œå¼•æ“Žé€šå¸¸æ˜¯å¤„ç†è¿‡ç¨‹ä¸­æœ€å¿«çš„éƒ¨åˆ†ï¼Œå®žé™…ä¸Šé€Ÿåº¦æ…¢çš„æ˜¯ä½ çš„ä»£ç ã€‚ ä½æ“ä½œè¿ç®—ç¬¦JavaScriptä¸­æœ‰å››ç§ä½é€»è¾‘æ“ä½œç¬¦ä½ä¸Žï¼šä¸¤ä¸ªæ“ä½œæ•°çš„ä½éƒ½æ˜¯1ï¼Œç»“æžœæ‰æ˜¯1ï¼›ä½æˆ–ï¼šæœ‰ä¸€ä¸ªæ“ä½œæ•°çš„ä½æ˜¯1ï¼Œç»“æžœå°±æ˜¯1ï¼›ä½å¼‚æˆ–ï¼šä¸¤ä¸ªæ“ä½œæ•°çš„ä½ä¸­åªæœ‰ä¸€ä¸ª1ï¼Œç»“æžœæ‰æ˜¯1ï¼›ä½éžï¼šé‡0è¿”å›ž1ï¼Œåä¹‹äº¦ç„¶ã€‚ æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥ä½¿ç”¨ä½è¿ç®—æé«˜JavaScriptçš„é€Ÿåº¦ã€‚é¦–å…ˆå¯ä»¥ç”¨ä½è¿ç®—æ›¿ä»£çº¯æ•°å­¦æ“ä½œã€‚ä¾‹å¦‚ï¼Œé€šå¸¸é‡‡ç”¨å¯¹2å–æ¨¡è¿ç®—å®žçŽ°è¡¨è¡Œé¢œè‰²äº¤æ›¿æ˜¾ç¤ºã€‚åœ¨32 ä½æ•°å­—çš„åº•å±‚ï¼ˆäºŒè¿›åˆ¶ï¼‰è¡¨ç¤ºæ³•ï¼Œå¶æ•°çš„æœ€ä½Žä½æ˜¯ 0ï¼Œ å¥‡æ•°çš„æœ€ä½Žä½æ˜¯ 1ã€‚ å¦‚æžœæ­¤æ•°ä¸ºå¶æ•°ï¼Œ é‚£ä¹ˆå®ƒå’Œ 1 è¿›è¡Œä½ä¸Žæ“ä½œçš„ç»“æžœå°±æ˜¯ 0ï¼›å¦‚æžœæ­¤æ•°ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆå®ƒå’Œ 1 è¿›è¡Œä½ä¸Žæ“ä½œçš„ç»“æžœå°±æ˜¯ 1ã€‚1234567for(var i = 0,len = rows.length; i &lt; len; i++)&#123; if(i&amp;1)&#123; className="odd"; &#125;else&#123; className="even"; &#125;&#125; ç¬¬äºŒç§ä½¿ç”¨ä½æ“ä½œçš„æŠ€æœ¯ç§°ä½œä½æŽ©ç ã€‚ä½æŽ©ç å¯ä»¥åŒæ—¶åˆ¤æ–­å¤šä¸ªå¸ƒå°”é€‰é¡¹ï¼Œå¿«é€Ÿåœ°å°†æ•°å­—è½¬æ¢ä¸ºå¸ƒå°”æ ‡å¿—æ•°ç»„ã€‚æŽ©ç ä¸­æ¯ä¸ªé€‰é¡¹çš„å€¼ç­‰äºŽ2çš„å¹‚ã€‚ åŽŸç”Ÿæ–¹æ³•JavaScript çš„åŽŸç”Ÿéƒ¨åˆ†â€”â€”åœ¨ä½ å†™ä»£ç ä¹‹å‰å®ƒä»¬å·²ç»å­˜åœ¨äºŽæµè§ˆå™¨ä¹‹ä¸­äº†â€”â€”éƒ½æ˜¯ç”¨ä½Žçº§è¯­è¨€å†™çš„ï¼Œé€Ÿåº¦éžå¸¸å¿«ã€‚ä¾‹å¦‚JavaScriptä¸­çš„Mathå¯¹è±¡ï¼Œå¤„ç†å¤æ‚çš„æ•°å­¦è®¡ç®—åº”è¯¥ä¼˜å…ˆè€ƒè™‘ã€‚ å½“åŽŸç”Ÿæ–¹æ³•å¯ç”¨æ—¶ï¼Œå°½é‡ä½¿ç”¨å®ƒä»¬ï¼Œå°¤å…¶æ˜¯æ•°å­¦è¿ç®—å’ŒDOMæ“ä½œã€‚ æ€»ç»“é€šè¿‡é¿å…ä½¿ç”¨ eval()å’Œ Function()æž„é€ å™¨é¿å…äºŒæ¬¡è§£æžã€‚æ­¤å¤–ï¼Œç»™ setTimeout()å’Œ setInterval()ä¼ é€’å‡½æ•°å‚æ•°è€Œä¸æ˜¯å­—ç¬¦ä¸²å‚æ•°ï¼›åˆ›å»ºæ–°å¯¹è±¡å’Œæ•°ç»„æ—¶ä½¿ç”¨å¯¹è±¡ç›´æŽ¥é‡å’Œæ•°ç»„ç›´æŽ¥é‡ï¼›é¿å…é‡å¤è¿›è¡Œç›¸åŒå·¥ä½œã€‚å½“éœ€è¦æ£€æµ‹æµè§ˆå™¨æ—¶ï¼Œä½¿ç”¨å»¶è¿ŸåŠ è½½æˆ–æ¡ä»¶é¢„åŠ è½½ï¼›å½“æ‰§è¡Œæ•°å­¦è¿ç®—æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨ä½æ“ä½œï¼Œå®ƒç›´æŽ¥åœ¨æ•°å­—åº•å±‚è¿›è¡Œæ“ä½œï¼›åŽŸç”Ÿæ–¹æ³•æ€»æ˜¯æ¯” JavaScript å†™çš„ä¸œè¥¿è¦å¿«ã€‚å°½é‡ä½¿ç”¨åŽŸç”Ÿæ–¹æ³•ã€‚ ç¬¬ä¹ç«  åˆ›å»ºå¹¶éƒ¨ç½²é«˜æ€§èƒ½JavaScriptåº”ç”¨ç¨‹åºApache AntApache Ant æ˜¯ä¸€ä¸ªè‡ªåŠ¨æž„å»ºè½¯ä»¶çš„å·¥å…·ã€‚ç±»ä¼¼äºŽmakeï¼Œåœ¨Javaä¸­å®žçŽ°ï¼Œå¹¶ä½¿ç”¨XMLæ¥æè¿°ç”Ÿæˆã€‚Antå…·æœ‰å¯ç§»æ¤æ€§ã€‚é»˜è®¤çš„ Ant å¼€å‘æ–‡ä»¶ä¸º XMl æ ¼å¼çš„ build.xmlã€‚æ¯ä¸ªå¼€å‘æ–‡ä»¶åªåŒ…å«ä¸€ä¸ªé¡¹ç›®å’Œè‡³å°‘ä¸€ä¸ªç›®æ ‡ä½“ã€‚ä¸€ä¸ªAnt ç›®æ ‡ä½“å¯ä¾èµ–äºŽå…¶ä»–ç›®æ ‡ä½“ã€‚ åˆå¹¶JavaScriptæ–‡ä»¶ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯æœ€é‡è¦çš„æé«˜é€Ÿåº¦çš„å‡†åˆ™æ˜¯ï¼šå‡å°‘æ¸²æŸ“é¡µé¢æ‰€éœ€çš„HTTPè¯·æ±‚ã€‚åˆå¹¶èµ„æºæ–‡ä»¶èƒ½å¤Ÿå‡å°‘HTTPè¯·æ±‚ã€‚Apache Ant é€šè¿‡ concat ä»»åŠ¡æä¾›åˆå¹¶å‡ ä¸ªæ–‡ä»¶çš„èƒ½åŠ› é¢„å¤„ç†JavaScriptæ–‡ä»¶é¢„å¤„ç†å™¨çš„ä»»åŠ¡æ˜¯å°†è¾“å…¥æ•°æ®å¤„ç†æˆå¦ä¸€ç§ç¼–ç¨‹è¯­è¨€æ‰€ä½¿ç”¨çš„æ•°æ®ã€‚æ²¡æœ‰ä¸“é—¨ä¸º JavaScript è®¾è®¡çš„é¢„å¤„ç†å™¨ã€‚ JavaScriptç´§å‡‘JavaScript ç´§å‡‘æŒ‡çš„æ˜¯å‰”é™¤ä¸€ä¸ª JavaScript æ–‡ä»¶ä¸­ä¸€åˆ‡è¿è¡Œæ— å…³å†…å®¹çš„è¿‡ç¨‹ã€‚åŒ…æ‹¬æ³¨é‡Šå’Œä¸å¿…è¦çš„ç©ºæ ¼ã€‚å¸¸ç”¨YUIåŽ‹ç¼©å™¨å¯¹JavaScriptè¿›è¡ŒåŽ‹ç¼©ã€‚ é™¤äº†å‰”é™¤æ³¨é‡Šå’Œä¸å¿…è¦çš„ç©ºæ ¼ï¼ŒYUI åŽ‹ç¼©å™¨è¿˜æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼šå°†å±€éƒ¨å˜é‡åæ›¿æ¢ä»¥æ›´çŸ­çš„å½¢å¼ï¼ˆ1 ä¸ªï¼Œ2 ä¸ªï¼Œæˆ– 3 ä¸ªå­—ç¬¦ï¼‰ï¼Œä»¥ä¼˜åŒ–åŽç»­çš„ gzip åŽ‹ç¼©å·¥ä½œï¼›å°½å¯èƒ½å°†ä¸­æ‹¬å·æ“ä½œç¬¦æ›¿æ¢ä¸ºç‚¹æ“ä½œç¬¦ï¼ˆä¾‹å¦‚ foo:[â€œbarâ€]å˜æˆ foo.barï¼‰ï¼›å°½å¯èƒ½æ›¿æ¢å¼•å·ç›´æŽ¥é‡å±žæ€§åï¼ˆä¾‹å¦‚{â€œfooâ€:â€barâ€}å˜æˆ{foo:â€barâ€}ï¼‰ï¼›æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰å¼•å·ï¼ˆä¾‹å¦‚â€™aaa\â€™bbbâ€™å˜æˆâ€aaaâ€™bbbâ€ï¼‰ï¼›å¸¸é‡æŠ˜å ï¼ˆä¾‹å¦‚â€fooâ€+â€barâ€å˜æˆâ€foobarâ€ï¼‰ã€‚ é€šè¿‡ä»¥ä¸‹æ­¥éª¤ï¼Œè¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ŒèŠ‚çœç©ºé—´ï¼š å°†å±€éƒ¨å¼•ç”¨å­˜å‚¨åœ¨å¯¹è±¡/å€¼ä¸­ï¼Œç”¨é—­åŒ…å°è£…ä»£ç ï¼Œä½¿ç”¨å¸¸é‡æ›¿ä»£é‡å¤å€¼ï¼Œé¿å… evalï¼ˆä»¥åŠç›¸ä¼¼çš„ Function æž„é€ å™¨ï¼ŒsetTimeout å’Œ setInterval ä½¿ç”¨å­—ç¬¦ä¸²ç›´æŽ¥é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œwith å…³é”®å­—ï¼ŒJScript æ¡ä»¶æ³¨é‡Šï¼Œéƒ½æœ‰åŠ©äºŽè¿›ä¸€æ­¥ç²¾ç¼©æ–‡ä»¶ã€‚ å¼€å‘è¿‡ç¨‹ä¸­çš„ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶è¿žæŽ¥ï¼Œé¢„å¤„ç†ï¼Œå’Œç´§å‡‘æ—¢å¯ä»¥åœ¨ç¼–è¯‘æ—¶å‘ç”Ÿï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶å‘ç”Ÿã€‚ å¼€å‘é«˜æ€§èƒ½åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªæ™®éè§„åˆ™æ˜¯ï¼Œåªè¦èƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶å®Œæˆçš„å·¥ä½œï¼Œå°±ä¸è¦åœ¨è¿è¡Œæ—¶åŽ»åšã€‚ JavaScript åŽ‹ç¼©å½“ç½‘é¡µæµè§ˆå™¨è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œå®ƒé€šå¸¸å‘é€ä¸€ä¸ªAccept-Encodingçš„HTTPå¤´ï¼ˆä»¥HTTP/1.1å¼€å§‹ï¼‰è®©ç½‘é¡µæœåŠ¡å™¨çŸ¥é“ä¼ è¾“æ‰€æ”¯æŒçš„ç¼–ç ç±»åž‹ã€‚Accept-Encoding çš„å–å€¼èŒƒå›´æ˜¯ï¼šgzipï¼Œcompressï¼Œdeflateå’Œ identityã€‚gzipé€šå¸¸å¯å°†æœ‰æ•ˆè½½è·å‡å°‘åˆ°70%ï¼Œä¸»è¦ç”¨äºŽæ–‡æœ¬æŠ¥æ–‡ï¼ŒåŒ…æ‹¬JavaScriptæ–‡ä»¶ã€‚ ç¼“å­˜JavaScriptæ–‡ä»¶ä½¿ç”¨HTTPç»„ä»¶å¯ç¼“å­˜å°†å¤§å¤§æé«˜ç”¨æˆ·å†æ¬¡è®¿é—®ç½‘ç«™æ—¶çš„ç”¨æˆ·ä½“éªŒã€‚ç½‘é¡µæœåŠ¡å™¨ä½¿ç”¨ Expires å“åº”æŠ¥æ–‡ HTTP å¤´è®©å®¢æˆ·ç«¯çŸ¥é“ç¼“å­˜èµ„æºçš„æ—¶é—´ã€‚å¦ä¸€ç§æŠ€æœ¯æ˜¯ä½¿ç”¨HTML5ç¦»çº¿åº”ç”¨ç¨‹åºç¼“å­˜ã€‚æ­¤æŠ€æœ¯ä¾èµ–ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ—å‡ºåº”å½“è¢«ç¼“å­˜çš„èµ„æºã€‚æ­¤é…ç½®æ–‡ä»¶é€šè¿‡&lt;html&gt;æ ‡ç­¾çš„manifestå±žæ€§ã€‚12&lt;!DOCTYPE html&gt;&lt;html manifest="demo.manifest"&gt; å…³äºŽç¼“å­˜çš„é—®é¢˜å……åˆ†åˆ©ç”¨ç¼“å­˜æŽ§åˆ¶å¯çœŸæ­£æé«˜ç”¨æˆ·ä½“éªŒï¼Œä½†å®ƒæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šå½“åº”ç”¨ç¨‹åºæ›´æ–°ä¹‹åŽï¼Œä½ å¸Œæœ›ç¡®ä¿ç”¨æˆ·å¾—åˆ°é™æ€å†…å®¹çš„æœ€æ–°ç‰ˆæœ¬ã€‚è¿™é€šè¿‡å¯¹æ”¹åŠ¨çš„é™æ€èµ„æºè¿›è¡Œé‡å‘½åå®žçŽ°ã€‚ ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆcdnï¼‰å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰æ˜¯æŒ‰ç…§åœ°ç†ä½ç½®åˆ†å¸ƒçš„è®¡ç®—æœºç½‘ç»œï¼Œé€šè¿‡ä»¥å¤ªç½‘è´Ÿè´£å‘æœ€ç»ˆç”¨æˆ·åˆ†å‘å†…å®¹ã€‚ä½¿ç”¨CDNçš„ä¸»è¦åŽŸå› æ˜¯å¯é æ€§ï¼Œå¯æ‰©å±•æ€§ï¼Œä½†æ›´ä¸»è¦çš„æ˜¯æ€§èƒ½ã€‚äº‹å®žä¸Šï¼Œé€šè¿‡åœ°ç†ä½ç½®ä¸Šæœ€è¿‘çš„ä½ç½®å‘ç”¨æˆ·æä¾›æœåŠ¡ï¼ŒCDNå¯ä»¥æžå¤§åœ°å‡å°‘ç½‘ç»œå»¶è¿Ÿã€‚ æ€»ç»“å¼€å‘å’Œéƒ¨ç½²è¿‡ç¨‹å¯¹åŸºäºŽ JavaScript çš„åº”ç”¨ç¨‹åºå¯ä»¥äº§ç”Ÿå·¨å¤§å½±å“ï¼Œæœ€é‡è¦çš„å‡ ä¸ªæ­¥éª¤å¦‚ä¸‹ï¼šåˆå¹¶ JavaScript æ–‡ä»¶ï¼Œå‡å°‘ HTTP è¯·æ±‚çš„æ•°é‡ï¼›ä½¿ç”¨ YUI åŽ‹ç¼©å™¨ç´§å‡‘å¤„ç† JavaScript æ–‡ä»¶ï¼›ä»¥åŽ‹ç¼©å½¢å¼æä¾› JavaScript æ–‡ä»¶ï¼ˆgzip ç¼–ç ï¼‰ï¼›é€šè¿‡è®¾ç½® HTTP å“åº”æŠ¥æ–‡å¤´ä½¿ JavaScript æ–‡ä»¶å¯ç¼“å­˜ï¼Œé€šè¿‡å‘æ–‡ä»¶åé™„åŠ æ—¶é—´æˆ³è§£å†³ç¼“å­˜é—®é¢˜ï¼›ä½¿ç”¨å†…å®¹ä¼ é€’ç½‘ç»œï¼ˆCDNï¼‰æä¾› JavaScript æ–‡ä»¶ï¼ŒCDN ä¸ä»…å¯ä»¥æé«˜æ€§èƒ½ï¼Œå®ƒè¿˜å¯ä»¥ä¸ºä½ ç®¡ç†åŽ‹ç¼©å’Œç¼“å­˜ã€‚ ç¬¬åç«  å·¥å…·å½“ç¡®å®šè„šæœ¬åŠ è½½å’Œè¿è¡Œæ—¶çš„ç“¶é¢ˆæ‰€åœ¨æ—¶ï¼Œåˆæ‰‹çš„å·¥å…·æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ æ€§èƒ½åˆ†æžåœ¨è„šæœ¬è¿è¡ŒæœŸå®šæ—¶æ‰§è¡Œä¸åŒå‡½æ•°å’Œæ“ä½œï¼Œæ‰¾å‡ºéœ€è¦ä¼˜åŒ–çš„éƒ¨åˆ†ã€‚æ€§èƒ½åˆ†æžå·¥å…·ç¡®ä¿ä¼˜åŒ–å·¥ä½œèŠ±è´¹åœ¨ç³»ç»Ÿä¸­æœ€æ…¢ï¼Œå½±å“å¤§å¤šæ•°æµè§ˆå™¨çš„åœ°æ–¹ï¼Œè€Œä¸æ˜¯åŽ»åˆ¤å®šé‚£äº›å‡½æ•°æˆ–æ“ä½œç¼“æ…¢ã€‚ ç½‘ç»œåˆ†æžæ£€æŸ¥å›¾ç‰‡ï¼Œæ ·å¼è¡¨å’Œè„šæœ¬çš„åŠ è½½è¿‡ç¨‹ï¼Œæ±‡æŠ¥å®ƒä»¬å¯¹æ•´ä¸ªé¡µé¢åŠ è½½å’Œæ¸²æŸ“çš„å½±å“ YUIåˆ†æžå™¨YUI åˆ†æžå™¨æ˜¯ç”¨ JavaScript ç¼–å†™çš„JavaScript åˆ†æžå™¨ã€‚é™¤äº†è®¡æ—¶åŠŸèƒ½ï¼Œå®ƒè¿˜æä¾›äº†ç”¨äºŽå‡½æ•°ã€å¯¹è±¡ã€å’Œæž„é€ å™¨çš„æ€§èƒ½åˆ†æžæŽ¥å£ï¼Œè¿˜åŒ…æ‹¬æ€§èƒ½åˆ†æžæ•°æ®çš„è¯¦ç»†æŠ¥å‘Šã€‚å®ƒå¯ä»¥è·¨æµè§ˆå™¨å·¥ä½œï¼Œå…¶è¾“å‡ºæ•°æ®å¯æä¾›æ›´å¼ºå¤§çš„æŠ¥å‘Šå’Œåˆ†æžã€‚1Y.Profiler.registerFunction("initUI"); FirebugFirebug æä¾›äº†ä¸€ä¸ªæŽ§åˆ¶å°æ—¥å¿—è¾“å‡ºï¼Œ å½“å‰é¡µé¢çš„ DOM æ ‘æ˜¾ç¤ºï¼Œ æ ·å¼ä¿¡æ¯ï¼Œ èƒ½å¤Ÿåè§‚ DOM å’Œ JavaScriptå¯¹è±¡ï¼Œä»¥åŠæ›´å¤šåŠŸèƒ½ã€‚å®ƒè¿˜åŒ…æ‹¬ä¸€ä¸ªæ€§èƒ½å’Œç½‘ç»œåˆ†æžå™¨ï¼Œè¿™æ˜¯æœ¬èŠ‚çš„é‡ç‚¹ã€‚Firebug æ˜“äºŽæ‰©å±•ï¼Œå¯æ·»åŠ è‡ªå®šä¹‰é¢æ¿ã€‚ è„šæœ¬é˜»å¡žæµè§ˆå™¨æ¯æ¬¡åªèƒ½å‘å‡ºä¸€ä¸ªè„šæœ¬è¯·æ±‚ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†ç®¡ç†æ–‡ä»¶ä¹‹é—´çš„ä»¥æ¥å…³ç³»ã€‚åªè¦ä¸€ä¸ªæ–‡ä»¶ä¾èµ–äºŽå¦ä¸€ä¸ªåœ¨æºç ä¸­é åŽçš„æ–‡ä»¶ï¼Œå®ƒæ‰€ä¾èµ–çš„æ–‡ä»¶å°†ä¿è¯åœ¨å®ƒè¿è¡Œä¹‹å‰è¢«å‡†å¤‡å¥½ã€‚è„šæœ¬ä¹‹é—´çš„å·®è·è¡¨æ˜Žè„šæœ¬è¢«é˜»å¡žäº†ã€‚è„šæœ¬é˜»å¡žå°†å› ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åˆå§‹åŒ–ç¼“æ…¢è€Œå˜å¾—æ›´åŠ ä¸¥é‡ï¼Œå€¼å¾—å¯¹å®ƒåšæŸäº›ç±»åž‹çš„åˆ†æžï¼Œå¹¶æœ‰å¯èƒ½ä¼˜åŒ–æˆ–é‡æž„ã€‚è„šæœ¬åŠ è½½ä¼šå‡æ…¢æˆ–åœæ­¢é¡µé¢æ¸²æŸ“ï¼Œé€ æˆç”¨æˆ·ç­‰å¾…ã€‚ æ€»ç»“ä½¿ç”¨ç½‘ç»œåˆ†æžå™¨æ‰¾å‡ºåŠ è½½è„šæœ¬å’Œå…¶å®ƒé¡µé¢èµ„æºçš„ç“¶é¢ˆæ‰€åœ¨ï¼Œè¿™æœ‰åŠ©äºŽå†³å®šå“ªäº›è„šæœ¬éœ€è¦å»¶è¿ŸåŠ è½½ï¼Œæˆ–è€…è¿›è¡Œè¿›ä¸€æ­¥åˆ†æžï¼›åº”å°½é‡å‡å°‘ HTTP è¯·æ±‚çš„æ•°é‡ï¼Œå°½é‡å»¶è¿ŸåŠ è½½è„šæœ¬ä»¥ä½¿é¡µé¢æ¸²æŸ“é€Ÿåº¦æ›´å¿«ï¼Œå‘ç”¨æˆ·æä¾›æ›´å¥½çš„æ•´ä½“ä½“éªŒï¼›ä½¿ç”¨æ€§èƒ½åˆ†æžå™¨æ‰¾å‡ºè„šæœ¬è¿è¡Œæ—¶é€Ÿåº¦æ…¢çš„éƒ¨åˆ†ï¼Œæ£€æŸ¥æ¯ä¸ªå‡½æ•°æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œä»¥åŠå‡½æ•°è¢«è°ƒç”¨çš„æ¬¡æ•°ï¼Œé€šè¿‡è°ƒç”¨æ ˆè‡ªèº«æä¾›çš„ä¸€äº›çº¿ç´¢æ¥æ‰¾å‡ºå“ªäº›åœ°æ–¹åº”å½“åŠªåŠ›ä¼˜åŒ–ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é«˜æ€§èƒ½JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šé«˜æ€§èƒ½JavaScriptã€‹è¯»ä¹¦ç¬”è®°ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2017%2F05%2F21%2F%E7%AC%94%E8%AE%B0%2F%E3%80%8A%E9%AB%98%E6%80%A7%E8%83%BDJavaScript%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ç¬¬å››ç«  ç®—æ³•å’Œæµç¨‹æŽ§åˆ¶ä»£ç çš„æ•´ä½“ç»“æž„æ˜¯æ‰§è¡Œé€Ÿåº¦çš„å†³å®šå› ç´ ä¹‹ä¸€ã€‚æ€§èƒ½æŸå¤±ä¸Žä»£ç ç»„ç»‡æ–¹å¼å’Œå…·ä½“é—®é¢˜è§£å†³åŠžæ³•ç›´æŽ¥ç›¸å…³ã€‚ å¾ªçŽ¯å¾ªçŽ¯æ˜¯æœ€å¸¸ç”¨çš„æ¨¡å¼ä¹‹ä¸€ï¼Œç†è§£JavaScriptä¸­å¾ªçŽ¯å¯¹æ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ï¼Œå› ä¸ºæ­»å¾ªçŽ¯æˆ–è€…é•¿æ—¶é—´çš„å¾ªçŽ¯ä¼šä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚ å¾ªçŽ¯çš„ç±»åž‹ECMAæ ‡å‡†å®šä¹‰äº†å››ç§ç±»åž‹çš„å¾ªçŽ¯ã€‚ç¬¬ä¸€ä¸ªæ˜¯æ ‡å‡†çš„forå¾ªçŽ¯ã€‚forå¾ªçŽ¯æ˜¯æœ€å¸¸ç”¨çš„JavaScriptå¾ªçŽ¯ç»“æž„ï¼Œå®ƒç”±å››éƒ¨åˆ†ç»„æˆï¼šåˆå§‹åŒ–ä½“ï¼Œå‰æµ‹æ¡ä»¶ï¼ŒåŽæ‰§è¡Œä½“ï¼Œå¾ªçŽ¯ä½“ã€‚forå¾ªçŽ¯å°è£…ä¸Šçš„ç›´æŽ¥æ€§æ˜¯å¼€å‘è€…å–œæ¬¢çš„åŽŸå› ã€‚ ç¬¬äºŒç§å¾ªçŽ¯æ˜¯whileå¾ªçŽ¯ã€‚whileå¾ªçŽ¯æ˜¯ä¸€ä¸ªç®€å•çš„é¢„æµ‹è¯•å¾ªçŽ¯ï¼Œç”±ä¸€ä¸ªé¢„æµ‹æ¡ä»¶å’Œä¸€ä¸ªå¾ªçŽ¯ä½“æž„æˆã€‚ä»»ä½•forå¾ªçŽ¯éƒ½å¯ä»¥å†™æˆwhileå¾ªçŽ¯ã€‚ ç¬¬ä¸‰ç§å¾ªçŽ¯ç±»åž‹æ˜¯do-whileå¾ªçŽ¯ã€‚do-whileå¾ªçŽ¯æ˜¯JavaScriptä¸­å”¯ä¸€ä¸€ç§åŽæµ‹è¯•çš„å¾ªçŽ¯ï¼Œå®ƒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼šå¾ªçŽ¯ä½“å’ŒåŽæµ‹è¯•æ¡ä»¶ä½“ã€‚do-whileå¾ªçŽ¯ä¸­ï¼Œå¾ªçŽ¯ä½“è‡³å°‘è¿è¡Œä¸€æ¬¡ã€‚ ç¬¬å››ç§å¾ªçŽ¯ç§°ä¸ºfor-inå¾ªçŽ¯ã€‚æ­¤å¾ªçŽ¯æœ‰ä¸€ä¸ªéžå¸¸ç‰¹æ®Šçš„ç”¨é€”ï¼šå®ƒå¯ä»¥æžšä¸¾ä»»ä½•å¯¹è±¡çš„å‘½åå±žæ€§ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š123for(var prop in object)&#123; //loop body&#125; æ¯æ¬¡å¾ªçŽ¯æ‰§è¡Œï¼Œå±žæ€§å˜é‡è¢«å¡«å……ä»¥å¯¹è±¡å±žæ€§çš„åå­—ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼Œç›´åˆ°æ‰€æœ‰çš„å¯¹è±¡å±žæ€§éåŽ†å®Œæˆæ‰è¿”å›žã€‚è¿”å›žçš„å±žæ€§åŒ…æ‹¬å¯¹è±¡çš„å®žä¾‹å±žæ€§å’Œå®ƒä»ŽåŽŸåž‹é“¾ç»§æ‰¿è€Œæ¥çš„å±žæ€§ã€‚ å¾ªçŽ¯æ€§èƒ½åœ¨å››ç§å¾ªçŽ¯ä¸­ï¼Œåªæœ‰for-inå¾ªçŽ¯æ¯”å…¶ä»–å¾ªçŽ¯æ˜Žæ˜¾è¦æ…¢ã€‚å› æ­¤æŽ¨èçš„åšæ³•æ˜¯ï¼šé™¤éžä½ éœ€è¦å¯¹æ•°ç›®ä¸è¯¦çš„å¯¹è±¡å±žæ€§è¿›è¡Œæ“ä½œï¼Œå¦åˆ™é¿å…ä½¿ç”¨for-inå¾ªçŽ¯ã€‚å¦‚æžœè¿­ä»£éåŽ†ä¸€ä¸ªæœ‰é™çš„ï¼Œå·²çŸ¥çš„å±žæ€§åˆ—è¡¨ï¼Œä½¿ç”¨å¦‚ä¸‹æ¨¡å¼ï¼š12345var props = ["prop1","prop2"],i = 0;while(i &lt; props.length)&#123; process(object[props[i]]); i++;&#125; å…¶ä»–ä¸‰ç§å¾ªçŽ¯æ€§èƒ½ç›¸å½“ï¼Œé€‰æ‹©å¾ªçŽ¯åº”åŸºäºŽéœ€æ±‚è€Œä¸æ˜¯æ€§èƒ½ã€‚è€ƒè™‘å¦‚ä¸‹ä¸¤ä¸ªå› ç´ ï¼š æ¯æ¬¡è¿­ä»£å¹²ä»€ä¹ˆï¼Ÿè¿­ä»£çš„æ¬¡æ•°ã€‚é€šè¿‡å‡å°‘è¿™ä¸¤è€…ä¸­ä¸€ä¸ªæˆ–å…¨éƒ¨ï¼ˆçš„æ‰§è¡Œæ—¶é—´ï¼‰ï¼Œä½ å¯ä»¥ç§¯æžåœ°å½±å“å¾ªçŽ¯çš„æ•´ä½“æ€§èƒ½ã€‚ å‡å°‘è¿­ä»£çš„å·¥ä½œé‡é™åˆ¶åœ¨å¾ªçŽ¯ä½“å†…è¿›è¡Œè€—æ—¶æ“ä½œçš„æ•°é‡æ˜¯ä¸€ä¸ªåŠ å¿«å¾ªçŽ¯çš„å¥½æ–¹æ³•ã€‚ åœ¨ä¸€ä¸ªå…¸åž‹çš„æ•°ç»„å¤„ç†å¾ªçŽ¯ä¸­ï¼Œæ¯æ¬¡è¿è¡Œå¾ªçŽ¯ä½“éƒ½è¦å‘ç”Ÿå¦‚ä¸‹å‡ ä¸ªæ“ä½œï¼š1.åœ¨æŽ§åˆ¶æ¡ä»¶ä¸­è¯»ä¸€æ¬¡å±žæ€§ï¼ˆitems.lengthï¼‰;2.åœ¨æŽ§åˆ¶æ¡ä»¶ä¸­æ‰§è¡Œä¸€æ¬¡æ¯”è¾ƒï¼ˆi &lt; items.lengthï¼‰;3.æ¯”è¾ƒæ“ä½œï¼Œå¯Ÿçœ‹æ¡ä»¶æŽ§åˆ¶ä½“çš„è¿ç®—ç»“æžœæ˜¯å¦ä¸ºtrueï¼ˆi &lt; items.length == trueï¼‰ï¼›4.ä¸€æ¬¡è‡ªåŠ æ“ä½œï¼ˆi++ï¼‰ï¼›5.ä¸€æ¬¡æ•°ç»„æŸ¥æ‰¾ï¼ˆitems[i]ï¼‰;6.ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼ˆprocess(items[i])ï¼‰ã€‚ åœ¨ç®€å•çš„å¾ªçŽ¯ä¸­ï¼Œæ¯æ¬¡è¿­ä»£ä¹Ÿè¦è¿›è¡Œè®¸å¤šæ“ä½œã€‚å‡å°‘æ¯æ¬¡è¿­ä»£ä¸­æ“ä½œçš„æ€»æ•°å¯ä»¥å¤§å¹…åº¦æé«˜å¾ªçŽ¯æ•´ä½“æ€§èƒ½ã€‚ ä¼˜åŒ–å¾ªçŽ¯å·¥ä½œé‡çš„ç¬¬ä¸€æ­¥æ˜¯å‡å°‘å¯¹è±¡æˆå‘˜å’Œæ•°ç»„é¡¹æŸ¥æ‰¾çš„æ¬¡æ•°ã€‚ä¾‹å¦‚ï¼Œå°†æ•°ç»„çš„é•¿åº¦ï¼ˆitems.lengthï¼‰èµ‹å€¼ç»™ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œåœ¨æŽ§åˆ¶æ¡ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªå±€éƒ¨å˜é‡ï¼Œä»Žè€Œæé«˜å¾ªçŽ¯çš„æ€§èƒ½ã€‚è¿˜å¯ä»¥é€šè¿‡æ”¹å˜æ•°ç»„å…ƒç´ çš„é¡ºåºæé«˜å¾ªçŽ¯æ€§èƒ½ã€‚å€’åºå¾ªçŽ¯æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­å¸¸ç”¨çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ã€‚ é‡‡ç”¨å€’åºå¾ªçŽ¯åŽï¼Œæ¯æ¬¡è¿­ä»£åªè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š1.åœ¨æŽ§åˆ¶æ¡ä»¶ä¸­è¿›è¡Œä¸€æ¬¡æ¯”è¾ƒï¼ˆi == trueï¼‰ï¼›2.ä¸€æ¬¡å‡æ³•æ“ä½œï¼ˆiâ€“ï¼‰;3.ä¸€æ¬¡æ•°ç»„æŸ¥è¯¢ï¼ˆitems[i]ï¼‰;4.ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼ˆprocess(items[i])ï¼‰ï¼› å€’åºå¾ªçŽ¯çš„æ¯æ¬¡è¿­ä»£ä¸­å‡å°‘ä¸¤ä¸ªæ“ä½œï¼Œéšç€è¿­ä»£æ¬¡æ•°çš„å¢žé•¿ï¼Œæ€§èƒ½å°†æ˜¾è‘—æå‡ã€‚ å‡å°‘è¿­ä»£æ¬¡æ•°å³ä½¿å¾ªçŽ¯ä½“ä¸­æœ€å¿«çš„ä»£ç ï¼Œç´¯è®¡è¿­ä»£ä¸Šåƒæ¬¡ï¼ˆä¹Ÿå°†æ˜¯ä¸å°çš„è´Ÿæ‹…ï¼‰ã€‚æ‰€ä»¥ï¼Œå‡å°‘å¾ªçŽ¯çš„è¿­ä»£æ¬¡æ•°å¯èŽ·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚æœ€å¹¿ä¸ºäººçŸ¥çš„é™åˆ¶å¾ªçŽ¯è¿­ä»£æ¬¡æ•°çš„æ¨¡å¼ç§°ä½œâ€œè¾¾å¤«è®¾å¤‡â€ã€‚ è¾¾å¤«è®¾å¤‡æ˜¯ä¸€ä¸ªå¾ªçŽ¯ä½“å±•å¼€æŠ€æœ¯ï¼Œåœ¨ä¸€æ¬¡è¿­ä»£ä¸­å®žé™…ä¸Šæ‰§è¡Œäº†å¤šæ¬¡è¿­ä»£æ“ä½œã€‚å…¸åž‹å®žçŽ°å¦‚ä¸‹ï¼š12345678910111213141516var iterations = Math.floor(items.length/8), startAt = items.length%8,i = 0;do&#123; switch(startAt)&#123; case 0:process(items[i++]); case 7:process(items[i++]); case 6:process(items[i++]); case 5:process(items[i++]); case 4:process(items[i++]); case 3:process(items[i++]); case 2:process(items[i++]); case 1:process(items[i++]); &#125; startAt = 0;&#125;while(--iterations); è¾¾å¤«è®¾å¤‡èƒŒåŽçš„åŸºæœ¬ç†å¿µæ˜¯ï¼šæ¯æ¬¡å¾ªçŽ¯ä¸­æœ€å¤šå¯8æ¬¡è°ƒç”¨process()å‡½æ•°ã€‚å¾ªçŽ¯è¿­ä»£æ¬¡æ•°ä¸ºå…ƒç´ æ€»æ•°é™¤ä»¥8.å› ä¸ºæ€»æ•°ä¸ä¸€å®šæ˜¯8çš„æ•´æ•°å€ï¼Œæ‰€ä»¥startAtå˜é‡å­˜æ”¾ä½™æ•°ï¼ŒæŒ‡å‡ºç¬¬ä¸€æ¬¡å¾ªçŽ¯ä¸­åº”å½“æ‰§è¡Œå¤šå°‘æ¬¡process(); æ­¤ç®—æ³•ä¸€ä¸ªç¨å¿«çš„ç‰ˆæœ¬å–æ¶ˆäº†switchè¡¨è¾¾å¼ï¼Œå°†ä½™æ•°å¤„ç†å’Œä¸»å¾ªçŽ¯åˆ†å¼€ï¼š123456789101112131415var i = items.length%8;while(i)&#123; process(items[i--]);&#125;i = Math.floor(items.length/8);while(i)&#123; process(items[i--]); process(items[i--]); process(items[i--]); process(items[i--]); process(items[i--]); process(items[i--]); process(items[i--]); process(items[i--]);&#125; æ˜¯å¦å€¼å¾—ä½¿ç”¨è¾¾å¤«è®¾å¤‡ï¼Œå–å†³äºŽè¿­ä»£çš„æ¬¡æ•°ï¼Œå¦‚æžœå¾ªçŽ¯è¿­ä»£æ¬¡æ•°å°‘äºŽ1000æ¬¡ï¼Œå®ƒæå‡çš„æ€§èƒ½å¾®ä¸è¶³é“ï¼Œä½†è¿­ä»£æ¬¡æ•°è¶…è¿‡1000æ¬¡ï¼Œè¾¾å¤«è®¾å¤‡çš„æ•ˆçŽ‡å°†æ˜Žæ˜¾æå‡ã€‚ åŸºäºŽå‡½æ•°çš„è¿­ä»£ECMA-262æ ‡å‡†ä»‹ç»äº†æœ¬åœ°æ•°ç»„å¯¹è±¡çš„ä¸€ä¸ªæ–°æ–¹æ³•forEach()ã€‚æ­¤æ–¹æ³•éåŽ†ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰æˆå‘˜ï¼Œå¹¶åœ¨æ¯ä¸ªæˆå‘˜ä¸Šæ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚åœ¨æ¯ä¸ªå…ƒç´ ä¸Šæ‰§è¡Œçš„å‡½æ•°ä½œä¸ºforEach()çš„å‚æ•°ä¼ è¿›åŽ»ï¼Œå¹¶åœ¨è°ƒç”¨æ—¶æŽ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œå®ƒä»¬æ˜¯ï¼šæ•°ç»„é¡¹çš„å€¼ï¼Œæ•°ç»„é¡¹çš„ç´¢å¼•å’Œæ•°ç»„è‡ªèº«ã€‚123items.forEach(function(value,index,array)&#123; process(value);&#125;); forEach()å‡½æ•°åœ¨Firefox,Chromeå’ŒSafariä¸­ä¸ºåŽŸç”Ÿå‡½æ•°ã€‚å¦å¤–åœ¨JavaScriptåº“éƒ½æœ‰ç­‰ä»·å®žçŽ°ï¼š1234567891011121314151617181920//YUI 3Y.Array.each(items, function(value, index, array)&#123; process(value);&#125;);//jQueryjQuery.each(items, function(index, value)&#123; process(value);&#125;);//Dojodojo.forEach(items, function(value, index, array)&#123; process(value);&#125;);//Prototypeitems.each(function(value, index)&#123; process(value);&#125;);//MooTools$each(items, function(value, index)&#123; process(value);&#125;); åŸºäºŽå‡½æ•°çš„è¿­ä»£æ›´åŠ ä¾¿åˆ©ï¼Œä½†è¿˜æ˜¯æ¯”åŸºäºŽå¾ªçŽ¯çš„è¿­ä»£è¦æ…¢ä¸€äº›ã€‚æ¯ä¸€ä¸ªæ•°ç»„é¡¹è¦å…³è”é¢å¤–çš„å‡½æ•°è°ƒç”¨æ˜¯é€ æˆé€Ÿåº¦æ…¢çš„åŽŸå› ã€‚åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼ŒåŸºäºŽå‡½æ•°çš„è¿­ä»£å ç”¨æ—¶é—´æ˜¯åŸºäºŽå¾ªçŽ¯çš„è¿­ä»£çš„å…«å€ï¼Œå› æ­¤åœ¨å…³æ³¨æ‰§è¡Œæ—¶é—´çš„æƒ…å†µä¸‹å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„æ–¹æ³•ã€‚ æ¡ä»¶è¡¨è¾¾å¼ä¸Žå¾ªçŽ¯ç›¸ä¼¼ï¼Œæ¡ä»¶è¡¨è¾¾å¼å†³å®šJavaScriptè¿è¡Œæµçš„èµ°å‘ã€‚ if-elseä¸Žswitchæ¯”è¾ƒä½¿ç”¨if-elseæˆ–è€…switchçš„æµè¡Œç†è®ºæ˜¯åŸºäºŽæµ‹è¯•æ¡ä»¶çš„æ•°é‡ï¼šæ¡ä»¶æ•°é‡è¾ƒå¤§ï¼Œå€¾å‘äºŽä½¿ç”¨switchè€Œä¸æ˜¯if-elseã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹switchè¡¨è¾¾å¼æ¯”if-elseæ›´å¿«ï¼Œä½†åªæœ‰å½“æ¡ä»¶æ•°é‡å¾ˆå¤§æ—¶æ‰æ˜Žæ˜¾æ›´å¿«ã€‚ä¸¤è€…é—´çš„ä¸»è¦æ€§èƒ½åŒºåˆ«åœ¨äºŽï¼šå½“æ¡ä»¶ä½“å¢žåŠ æ—¶ï¼Œif-elseæ€§èƒ½è´Ÿæ‹…å¢žåŠ çš„ç¨‹åº¦æ¯”switchæ›´å¤šã€‚ä¸€èˆ¬æ¥è¯´ï¼Œif-elseé€‚ç”¨äºŽåˆ¤æ–­ä¸¤ä¸ªç¦»æ•£çš„å€¼æˆ–è€…åˆ¤æ–­å‡ ä¸ªä¸åŒçš„å€¼åŸŸã€‚å¦‚æžœåˆ¤æ–­å¤šäºŽä¸¤ä¸ªç¦»æ•£å€¼ï¼Œswitchè¡¨è¾¾å¼ä¼šæ›´å¥½ã€‚ ä¼˜åŒ–if-elseä¼˜åŒ–if-elseçš„ç›®æ ‡æ€»æ˜¯æœ€å°åŒ–æ‰¾åˆ°æ­£ç¡®åˆ†æ”¯ä¹‹å‰æ‰€åˆ¤æ–­æ¡ä»¶ä½“çš„æ•°é‡ã€‚æœ€ç®€å•çš„ä¼˜åŒ–æ–¹æ³•æ˜¯å°†æœ€å¸¸è§çš„æ¡ä»¶ä½“æ”¾åœ¨é¦–ä½ã€‚if-else ä¸­çš„æ¡ä»¶ä½“åº”å½“æ€»æ˜¯æŒ‰ç…§ä»Žæœ€å¤§æ¦‚çŽ‡åˆ°æœ€å°æ¦‚çŽ‡çš„é¡ºåºæŽ’åˆ—ï¼Œä»¥ä¿è¯ç†è®ºè¿è¡Œé€Ÿåº¦æœ€å¿«ã€‚ å¦ä¸€ç§å‡å°‘æ¡ä»¶åˆ¤æ–­æ•°é‡çš„æ–¹æ³•æ˜¯å°†if-elseç»„ç»‡æˆä¸€ç³»åˆ—åµŒå¥—çš„if-elseè¡¨è¾¾å¼ã€‚ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„ä¸€é•¿ä¸²çš„if-elseé€šå¸¸å¯¼è‡´è¿è¡Œç¼“æ…¢ï¼Œå› ä¸ºæ¯ä¸ªæ¡ä»¶ä½“éƒ½è¦è¢«è®¡ç®—ã€‚ æŸ¥è¡¨æ³•æœ‰äº›æƒ…å†µä¸‹è¦é¿å…ä½¿ç”¨if-elseæˆ–switchã€‚å½“æœ‰å¤§é‡ç¦»æ•£å€¼éœ€è¦æµ‹è¯•æ—¶ï¼Œif-elseå’Œswitchéƒ½æ¯”ä½¿ç”¨æŸ¥è¡¨æ³•è¦æ…¢å¾—å¤šã€‚åœ¨JavaScriptä¸­ï¼ŒæŸ¥è¡¨æ³•å¯ä½¿ç”¨æ•°ç»„æˆ–æ™®é€šå¯¹è±¡å®žçŽ°ã€‚12var results = [result0,result1,result2,result3,result4,result5,result6,result7,result8,result9,result10]return results[value]; ä½¿ç”¨æŸ¥è¡¨æ³•æ—¶ï¼Œå¿…é¡»å®Œå…¨æ¶ˆé™¤æ‰€æœ‰æ¡ä»¶åˆ¤æ–­ã€‚æ“ä½œè½¬æ¢æˆä¸€ä¸ªæ•°ç»„é¡¹æŸ¥è¯¢æˆ–è€…ä¸€ä¸ªå¯¹è±¡æˆå‘˜æŸ¥è¯¢ã€‚ä½¿ç”¨æŸ¥è¡¨æ³•çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼šç”±äºŽæ²¡æœ‰æ¡ä»¶åˆ¤æ–­ï¼Œå½“å€™é€‰å€¼æ•°é‡å¢žåŠ æ—¶ï¼Œå¾ˆå°‘ï¼Œç”šè‡³æ²¡æœ‰å¢žåŠ é¢å¤–çš„æ€§èƒ½å¼€é”€ã€‚ é€’å½’å¤æ‚ç®—æ³•é€šå¸¸æ¯”è¾ƒå®¹æ˜“ä½¿ç”¨é€’å½’å®žçŽ°ã€‚ä½†é€’å½’ä¹Ÿå­˜åœ¨äº›é—®é¢˜ï¼šä¸€ä¸ªé”™è¯¯å®šä¹‰ï¼Œæˆ–è€…ç¼ºå°‘ç»ˆç»“æ¡ä»¶å¯å¯¼è‡´é•¿æ—¶é—´è¿è¡Œï¼Œå†»ç»“ç”¨æˆ·ç•Œé¢ã€‚æ­¤å¤–ï¼Œé€’å½’å‡½æ•°è¿˜ä¼šé‡åˆ°æµè§ˆå™¨è°ƒç”¨æ ˆå¤§å°çš„é™åˆ¶ã€‚ è°ƒç”¨æ ˆé™åˆ¶JavaScriptå¼•æ“Žæ‰€æ”¯æŒçš„é€’å½’æ•°é‡ä¸ŽJavaScriptè°ƒç”¨æ ˆå¤§å°ç›´æŽ¥ç›¸å…³ã€‚åªæœ‰IEä¾‹å¤–ï¼Œå®ƒçš„è°ƒç”¨æ ˆä¸Žå¯ç”¨ç³»ç»Ÿå†…å­˜ç›¸å…³ï¼Œå…¶ä»–æµè§ˆå™¨æœ‰å›ºå®šçš„è°ƒç”¨æ ˆé™åˆ¶ã€‚Chrome æ˜¯å”¯ä¸€ä¸æ˜¾ç¤ºè°ƒç”¨æ ˆæº¢å‡ºé”™è¯¯çš„æµè§ˆå™¨ã€‚å…³äºŽè°ƒç”¨æ ˆæº¢å‡ºé”™è¯¯ï¼Œæœ€ä»¤äººæ„Ÿå…´è¶£çš„éƒ¨åˆ†å¤§æ¦‚æ˜¯ï¼šåœ¨æŸäº›æµè§ˆå™¨ä¸­ï¼Œä»–ä»¬çš„ç¡®æ˜¯ JavaScript é”™è¯¯ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª try-catch è¡¨è¾¾å¼æ•èŽ·ã€‚å¼‚å¸¸ç±»åž‹å› æµè§ˆå™¨è€Œä¸åŒã€‚åœ¨ Firefox ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ª InternalErrorï¼›åœ¨ Safariå’Œ Chrome ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ª RangeErrorï¼›åœ¨ Internet Explorer ä¸­æŠ›å‡ºä¸€ä¸ªä¸€èˆ¬æ€§çš„ Error ç±»åž‹ã€‚ ï¼ˆOpera ä¸æŠ›å‡ºé”™è¯¯ï¼›å®ƒç»ˆæ­¢ JavaScript å¼•æ“Žï¼‰ã€‚è¿™ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨ JavaScript ä¸­æ­£ç¡®å¤„ç†è¿™äº›é”™è¯¯ï¼š12345try&#123; recurse();&#125;catch(ex)&#123; alert("Too much recursion!");&#125; é€’å½’æ¨¡å¼1.ç›´æŽ¥é€’å½’æ¨¡å¼ï¼ˆå‡½æ•°è°ƒç”¨è‡ªèº«ï¼‰1234function recurse()&#123; arguments.callee();&#125;recurse(); 2.ç²¾å·§æ¨¡å¼åŒ…å«ä¸¤ä¸ªå‡½æ•°ï¼š1234567function first()&#123; second();&#125;function second()&#123; first();&#125;first(); å¸¸è§çš„æ ˆæº¢å‡ºåŽŸå› æ˜¯ä¸€ä¸ªä¸æ­£ç¡®çš„ç»ˆæ­¢æ¡ä»¶ï¼Œæ‰€ä»¥å®šä½æ¨¡å¼é”™è¯¯çš„ç¬¬ä¸€æ­¥æ˜¯éªŒè¯ç»ˆæ­¢æ¡ä»¶ã€‚å¦‚æžœç»ˆæ­¢æ¡ä»¶æ­£ç¡®ï¼Œé‚£ä¹ˆç®—æ³•åŒ…å«äº†å¤ªå¤šå±‚é€’å½’ï¼Œä¸ºäº†èƒ½å¤Ÿå®‰å…¨åœ°åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œåº”è¯¥æ”¹ç”¨è¿­ä»£ï¼Œåˆ¶è¡¨ï¼Œæˆ–ä¸¤è€…å…¼è€Œæœ‰ä¹‹ã€‚ è¿­ä»£ä»»ä½•å¯ä»¥ç”¨é€’å½’å®žçŽ°çš„ç®—æ³•éƒ½å¯ä»¥ç”¨è¿­ä»£å®žçŽ°ã€‚ä½¿ç”¨ä¼˜åŒ–çš„å¾ªçŽ¯æ›¿ä»£é•¿æ—¶é—´è¿è¡Œçš„é€’å½’å‡½æ•°å¯ä»¥æé«˜æ€§èƒ½ï¼Œå› ä¸ºè¿è¡Œä¸€ä¸ªå¾ªçŽ¯æ¯”åå¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„å¼€é”€è¦ä½Žã€‚åˆå¹¶æŽ’åºç®—æ³•æ˜¯æœ€å¸¸ç”¨çš„ä»¥é€’å½’å®žçŽ°çš„ç®—æ³•ã€‚123456789101112131415161718192021function merge(left, right)&#123; var result = []; while(left.length &gt; 0 &amp;&amp; right.length &gt; 0)&#123; if(left[0] &lt; right[0])&#123; result.push(left.shift()); &#125;else&#123; result.push(right.shift()); &#125; &#125; return result.concat(left).concat(right);&#125;function mergeSort(items)&#123; if(items.length == 1)&#123; return items; &#125; var middle = Math.floor(items.length/2), left = items.slice(0,middle), right = items.slice(middle); return merge(mergeSort(left), mergeSort(right));&#125; ä¸Šè¿°åˆå¹¶æŽ’åºä»£ç ç›¸å½“ç®€å•ï¼Œä½†æ˜¯ mergeSort()å‡½æ•°è¢«è°ƒç”¨éžå¸¸é¢‘ç¹ï¼Œå¯èƒ½åœ¨Firefoxä¸Šå¯¼è‡´æ ˆæº¢å‡ºã€‚æ”¹ç”¨è¿­ä»£å®žçŽ°åˆå¹¶æŽ’åºç®—æ³•ï¼š1234567891011121314151617181920212223242526272829function merge(left, right)&#123; var result = []; while(left.length &gt; 0&amp;&amp;right.length &gt; 0)&#123; if(left[0] &lt; right[0])&#123; result.push(left.shift()); &#125;else&#123; result.push(right.shift()); &#125; &#125; return result.concat(left).concat(right);&#125;function mergeSort(items)&#123; if(items.length == 1)&#123; return items; &#125; var work = []; for(var i = 0,len = items.length; i &lt; len; i++)&#123; work.push([items[i]]); &#125; work.push([]); for(var lim = len; lim &gt; 1; lim = (lim + 1) / 2)&#123; for(var j = 0, k = 0; k &lt; lim; j++, k += 2)&#123; work[j] = merge(work[k], work[k + 1]); &#125; work[j] = []; &#125; return work[0];&#125; æ­¤mergeSort()å‡½æ•°é‡‡ç”¨è¿­ä»£è€Œä¸æ˜¯é€’å½’ï¼Œè™½ç„¶è¿­ä»£ç‰ˆæœ¬çš„åˆå¹¶æŽ’åºå¯èƒ½æ¯”é€’å½’ç‰ˆæœ¬æ…¢äº›ï¼Œä½†å®ƒä¸ä¼šåƒé€’å½’ç‰ˆæœ¬é‚£æ ·å½±å“è°ƒç”¨æ ˆã€‚å°†é€’å½’ç®—æ³•åˆ‡æ¢ä¸ºè¿­ä»£æ˜¯é¿å…æ ˆæº¢å‡ºé”™è¯¯çš„æ–¹æ³•ä¹‹ä¸€ã€‚ åˆ¶è¡¨å‡å°‘å·¥ä½œé‡å°±æ˜¯æœ€å¥½çš„æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ã€‚åˆ¶è¡¨ï¼Œé€šè¿‡ç¼“å­˜å…ˆå‰è®¡ç®—ç»“æžœä¸ºåŽç»­è®¡ç®—æ‰€é‡å¤ä½¿ç”¨ï¼Œé¿å…äº†é‡å¤å·¥ä½œã€‚å› æ­¤ï¼Œå¸¸å¸¸ç»“åˆåˆ¶è¡¨æ¥å®žçŽ°é€’å½’ç®—æ³•ã€‚123456789101112function memfactorial(n)&#123; if(!memfactorial.cache)&#123; memfactorial.cache = &#123; "0": 1, "1": 1 &#125;; &#125; if (!memfactorial.cache.hasOwnProperty(n)) &#123; memfactorial.cache[n] = n * memfactorial(n-1); return memfactorial.cache[n];&#125; ä¸Šè¿°ä»£ç ä½¿ç”¨äº†åˆ¶è¡¨æŠ€æœ¯çš„é˜¶ä¹˜å‡½æ•°çš„å…³é”®æ˜¯å»ºç«‹ä¸€ä¸ªç¼“å­˜å¯¹è±¡ã€‚æ­¤å¯¹è±¡ä½äºŽå‡½æ•°å†…éƒ¨ï¼Œå¹¶é¢„ç½®äº†ä¸¤ä¸ªæœ€ç®€å•çš„é˜¶ä¹˜ï¼š0å’Œ1ã€‚åœ¨è®¡ç®—é˜¶ä¹˜ä¹‹å‰ï¼Œé¦–å…ˆæ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å·²ç»å­˜åœ¨ç›¸åº”çš„è®¡ç®—ç»“æžœã€‚æ²¡æœ‰å¯¹åº”çš„ç¼“å†²å€¼è¯´æ˜Žè¿™æ˜¯ç¬¬ä¸€æ¬¡è¿›è¡Œæ­¤æ•°å€¼çš„è®¡ç®—ï¼Œè®¡ç®—å®Œæˆä¹‹åŽç»“æžœè¢«å­˜å…¥ç¼“å­˜ä¹‹ä¸­ï¼Œä»¥å¤‡ä»ŠåŽä½¿ç”¨ã€‚ ä¸ºäº†ä½¿ä¸€ä¸ªå‡½æ•°çš„åˆ¶è¡¨è¿‡ç¨‹æ›´åŠ å®¹æ˜“ï¼Œå¯å®šä¹‰ä¸€ä¸ªmemoize()å‡½æ•°å°è£…åŸºæœ¬åŠŸèƒ½ï¼š12345678910function memoize(fundamental,cache)&#123; cache = cache || &#123;&#125;; var shell = function(arg)&#123; if(!cache.hasOwnProperty(arg))&#123; cache[arg] = fundamental(arg); &#125; return cache[arg]; &#125;; return shell;&#125; æ­¤memoize()å‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç”¨æ¥åˆ¶è¡¨çš„å‡½æ•°å’Œä¸€ä¸ªå¯é€‰çš„ç¼“å­˜å¯¹è±¡ã€‚è°ƒç”¨å¦‚ä¸‹ï¼š1var memfactorial = memoize(factoroal, &#123;"0": 1,"1":1&#125;); æ€»ç»“ä¸Žå…¶å®ƒè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒJavaScriptå¯ç”¨èµ„æºæœ‰é™ã€‚1ã€for,while,do-whileå¾ªçŽ¯çš„æ€§èƒ½ç‰¹æ€§ç›¸ä¼¼ï¼Œè°ä¹Ÿä¸æ¯”è°æ›´å¿«æˆ–æ›´æ…¢ï¼›2ã€é™¤éžä½ è¦è¿­ä»£éåŽ†ä¸€ä¸ªå±žæ€§æœªçŸ¥çš„å¯¹è±¡ï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨for-inå¾ªçŽ¯ï¼›3ã€æ”¹å–„å¾ªçŽ¯æ€§èƒ½çš„æœ€å¥½åŠžæ³•æ˜¯å‡å°‘æ¯æ¬¡è¿­ä»£ä¸­çš„è¿ç®—é‡ï¼Œå¹¶å‡å°‘å¾ªçŽ¯è¿­ä»£æ¬¡æ•°ï¼›4ã€ä¸€èˆ¬æ¥è¯´ï¼Œswitchæ€»æ˜¯æ¯”if-elseæ›´å¿«ï¼Œä½†å¹¶ä¸æ€»æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ³•ï¼›5ã€å½“åˆ¤æ–­æ¡ä»¶è¾ƒå¤šæ—¶ï¼ŒæŸ¥è¡¨æ³•æ¯”if-elseæˆ–è€…switchæ›´å¿«ï¼›6ã€æµè§ˆå™¨çš„è°ƒç”¨æ ˆå°ºå¯¸é™åˆ¶äº†é€’å½’ç®—æ³•åœ¨JavaScriptä¸­çš„åº”ç”¨ï¼šæ ˆæº¢å‡ºé”™è¯¯å¯¼è‡´å…¶ä»–ä»£ç ä¹Ÿä¸èƒ½æ­£å¸¸æ‰§è¡Œï¼›7ã€å¦‚æžœé‡åˆ°ä¸€ä¸ªæ ˆæº¢å‡ºé”™è¯¯ï¼Œå°†æ–¹æ³•ä¿®æ”¹ä¸ºä¸€ä¸ªè¿­ä»£ç®—æ³•æˆ–è€…ä½¿ç”¨åˆ¶è¡¨æ³•å¯ä»¥é¿å…é‡å¤å·¥ä½œï¼› ç¬¬äº”ç«  å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²æ‹¼æŽ¥å­—ç¬¦ä¸²æ‹¼æŽ¥è¡¨çŽ°å‡ºæƒŠäººçš„æ€§èƒ½ç´§å¼ ã€‚ å­—ç¬¦ä¸²æ‹¼æŽ¥çš„æ–¹æ³•ï¼š â€œ+â€å’Œâ€œ+=â€æ“ä½œç¬¦ï¼›æ•°ç»„çš„join()æ–¹æ³•ï¼›å­—ç¬¦ä¸²çš„concat()æ–¹æ³•ã€‚1str += "one"+"two"; æ­¤ä»£ç æ‰§è¡Œæ—¶ï¼Œå‘ç”Ÿå››ä¸ªæ­¥éª¤ï¼š å†…å­˜ä¸­åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶å­—ç¬¦ä¸² ä¸´æ—¶å­—ç¬¦ä¸²çš„å€¼è¢«èµ‹äºˆâ€œonetwoâ€ ä¸´æ—¶å­—ç¬¦ä¸²ä¸Žstrçš„å€¼è¿›è¡Œè¿žæŽ¥ ç»“æžœèµ‹äºˆstr ä¸‹é¢çš„ä»£ç é€šè¿‡ä¸¤ä¸ªç¦»æ•£è¡¨è¾¾å¼ç›´æŽ¥å°†å†…å®¹é™„åŠ åœ¨strä¸Šï¼Œé¿å…äº†ä¸´æ—¶å­—ç¬¦ä¸²ã€‚åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸Šè¿™æ ·åšå¯åŠ å¿«10%-40%ã€‚12str += "one";str += "two"; æˆ–è€…1str = str + "one" +"two"; ä½¿ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œæ‹¼æŽ¥å­—ç¬¦ä¸²ï¼Œå¿…é¡»æŠŠstræ”¾åœ¨ç¬¬ä¸€ä¸ªæ‹¼æŽ¥çš„å­—ç¬¦ä¸²ã€‚ é™¤IEä»¥å¤–ï¼Œæµè§ˆå™¨å°è¯•æ‰©å±•è¡¨è¾¾å¼å·¦ç«¯å­—ç¬¦ä¸²çš„å†…å­˜ï¼Œç„¶åŽç®€å•åœ°å°†ç¬¬äºŒä¸ªå­—ç¬¦ä¸²æ‹·è´åˆ°å®ƒçš„å°¾éƒ¨ã€‚å¦‚æžœä¸€ä¸ªå¾ªçŽ¯ä¸­ï¼ŒåŸºæœ¬å­—ç¬¦ä¸²ä½äºŽæœ€å·¦ç«¯ï¼Œå°±å¯ä»¥é¿å…å¤šæ¬¡å¤åˆ¶ä¸€ä¸ªè¶Šæ¥è¶Šå¤§çš„åŸºæœ¬å­—ç¬¦ä¸²ã€‚ åœ¨ IE8 ä¸­ï¼Œè¿žæŽ¥å­—ç¬¦ä¸²åªæ˜¯è®°å½•ä¸‹æž„æˆæ–°å­—ç¬¦ä¸²çš„å„éƒ¨åˆ†å­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚åœ¨æœ€åŽæ—¶åˆ»ï¼ˆå½“ä½ çœŸæ­£ä½¿ç”¨è¿žæŽ¥åŽçš„å­—ç¬¦ä¸²æ—¶ï¼‰ï¼Œå„éƒ¨åˆ†å­—ç¬¦ä¸²æ‰è¢«é€ä¸ªæ‹·è´åˆ°ä¸€ä¸ªæ–°çš„â€œçœŸæ­£çš„â€å­—ç¬¦ä¸²ä¸­ï¼Œç„¶åŽç”¨å®ƒå–ä»£å…ˆå‰çš„å­—ç¬¦ä¸²å¼•ç”¨ï¼Œæ‰€ä»¥å¹¶éžæ¯æ¬¡ä½¿ç”¨å­—ç¬¦ä¸²æ—¶éƒ½å‘ç”Ÿåˆå¹¶æ“ä½œã€‚ IE7 å’Œæ›´æ—©çš„æµè§ˆå™¨åœ¨è¿žæŽ¥å­—ç¬¦ä¸²æ—¶ä½¿ç”¨æ›´ç³Ÿç³•çš„å®žçŽ°æ–¹æ³•ï¼Œæ¯è¿žæŽ¥ä¸€å¯¹å­—ç¬¦ä¸²éƒ½è¦æŠŠå®ƒä»¬å¤åˆ¶åˆ°ä¸€å—æ–°åˆ†é…çš„å†…å­˜ä¸­ã€‚ Firefoxå’Œç¼–è¯‘æœŸåˆå¹¶åœ¨èµ‹å€¼è¡¨è¾¾å¼ä¸­æ‰€æœ‰å­—ç¬¦ä¸²è¿žæŽ¥éƒ½å±žäºŽç¼–è¯‘æœŸå¸¸é‡ï¼ŒFirefoxè‡ªåŠ¨åœ°åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­åˆå¹¶å®ƒä»¬ã€‚123456789101112131415function foldingDemo()&#123; var str = "compile" + "time" + "folding"; str += "this" + "works" + "too"; str = str + "but" + "not" + "this";&#125;alert(foldingDemo.toString());// è¾“å‡ºï¼š/*function foldingDemo()&#123; var str = "compile" + "time" + "folding"; str += "this" + "works" + "too"; str = str + "but" + "not" + "this";&#125;*/ å½“å­—ç¬¦ä¸²æ˜¯è¿™æ ·åˆå¹¶åœ¨ä¸€èµ·æ—¶ï¼Œç”±äºŽè¿è¡Œæ—¶æ²¡æœ‰ä¸­é—´å­—ç¬¦ä¸²ï¼Œæ‰€æœ‰è¿žæŽ¥å®ƒä»¬çš„æ—¶é—´å’Œå†…å­˜å¯ä»¥å‡å°‘åˆ°é›¶ã€‚è¿™ç§åŠŸèƒ½éžå¸¸äº†ä¸èµ·ï¼Œä½†å®ƒå¹¶ä¸ç»å¸¸èµ·ä½œç”¨ï¼Œå› ä¸ºé€šå¸¸ä»Žè¿è¡ŒæœŸæ•°æ®åˆ›å»ºå­—ç¬¦ä¸²è€Œä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚ æ•°ç»„è”ç»“ï¼ˆåœ¨IE7ä»¥åŠæ›´æ—©çš„æµè§ˆå™¨ä¸­ï¼Œæ•ˆæžœæ˜¾è‘—ï¼‰Array.prototype.joinæ–¹æ³•å°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åœ¨æ¯ä¸ªå…ƒç´ ä¹‹é—´æ’å…¥ä¸€ä¸ªåˆ†éš”ç¬¦å­—ç¬¦ä¸²ã€‚åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸Šï¼Œæ•°ç»„è”ç»“æ¯”è¿žæŽ¥å­—ç¬¦ä¸²çš„å…¶ä»–æ–¹æ³•æ›´æ…¢ï¼Œä½†äº‹å®žä¸Šï¼Œä¸ºä¸€ç§è¡¥å¿æ–¹æ³•ï¼Œåœ¨IE7å’Œæ›´æ—©çš„æµè§ˆå™¨ä¸Šï¼Œå®ƒæ˜¯è¿žæŽ¥å¤§é‡å­—ç¬¦ä¸²å”¯ä¸€é«˜æ•ˆçš„é€”å¾„ã€‚ String.prototype.concatåŽŸç”Ÿå­—ç¬¦ä¸²è¿žæŽ¥å‡½æ•°æŽ¥å—ä»»æ„æ•°ç›®çš„å‚æ•°ï¼Œå¹¶å°†æ¯ä¸€ä¸ªå‚æ•°éƒ½è¿½åŠ åœ¨è°ƒç”¨å‡½æ•°çš„å­—ç¬¦ä¸²ä¸Šã€‚å¯ä»¥è¿½åŠ ä»»æ„ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…ä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚ä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹concatæ¯”ç®€å•çš„â€+â€å’Œâ€+=â€æ…¢ä¸€äº›ï¼Œè€Œä¸”åœ¨IEï¼ŒOperaå’ŒChromeä¸Šå¤§å¹…å˜æ…¢ã€‚ æ­£åˆ™è¡¨è¾¾å¼ä¼˜åŒ–ç²—æµ…åœ°ç¼–å†™æ­£åˆ™è¡¨è¾¾å¼æ˜¯é€ æˆæ€§èƒ½ç“¶é¢ˆçš„ä¸»è¦åŽŸå› ã€‚ ç¬¬å…­ç«  å“åº”æŽ¥å£ç¡®ä¿ç½‘é¡µåº”ç”¨ç¨‹åºçš„å“åº”é€Ÿåº¦ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„æ€§èƒ½å…³æ³¨ç‚¹ã€‚ å¤§å¤šæ•°æµè§ˆå™¨æœ‰ä¸€ä¸ªå•ç‹¬çš„å¤„ç†è¿›ç¨‹ï¼Œå®ƒç”±ä¸¤ä¸ªä»»åŠ¡æ‰€å…±äº«ï¼šJavaScriptä»»åŠ¡å’Œç”¨æˆ·ç•Œé¢æ›´æ–°ä»»åŠ¡ã€‚æ¯ä¸ªæ—¶åˆ»åªæœ‰å…¶ä¸­ä¸€ä¸ªæ“ä½œå¾—ä»¥æ‰§è¡Œï¼Œå³å½“JavaScriptè¿è¡Œæ—¶ï¼Œç”¨æˆ·ç•Œé¢å°±è¢«â€é”å®šâ€œäº†ã€‚ æµè§ˆå™¨UIçº¿ç¨‹JavaScriptå’ŒUIæ›´æ–°å…±äº«çš„è¿›ç¨‹é€šå¸¸è¢«ç§°ä½œæµè§ˆå™¨UIçº¿ç¨‹ã€‚æ­¤UIçº¿ç¨‹å›´ç»•ä¸€ä¸ªç®€å•çš„é˜Ÿåˆ—ç³»ç»Ÿå·¥ä½œï¼Œä»»åŠ¡è¢«ä¿å­˜åˆ°é˜Ÿåˆ—ä¸­ç›´è‡³è¿›ç¨‹ç©ºé—²ã€‚ä¸€æ—¦ç©ºé—²ï¼Œé˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªä»»åŠ¡å°†è¢«æ£€ç´¢å’Œè¿è¡Œã€‚æ­¤è¿›ç¨‹ä¸­æœ€ä»¤äººæ„Ÿå…´è¶£çš„éƒ¨åˆ†æ˜¯æ¯æ¬¡è¾“å…¥å‡å¯¼è‡´ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡è¢«åŠ å…¥é˜Ÿåˆ—ã€‚æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é’®ï¼Œç„¶åŽå±å¹•ä¸Šæ˜¾ç¤ºå‡ºä¸€ä¸ªæ¶ˆæ¯ï¼š123456789101112131415&lt;html&gt;&lt;head&gt;&lt;title&gt;Browser UI Thread Example&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;button onclick="handleClick()"&gt;Click Me&lt;/button&gt;&lt;script type="text/javascript"&gt;function handleClick()&#123; var div = document.createElement("div"); div.innerHTML = "Clicked!"; document.body.appendChild(div);&#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; çº¿ç¨‹è§¦å‘çš„è¿‡ç¨‹ æµè§ˆå™¨é™åˆ¶æµè§ˆå™¨åœ¨JavaScriptè¿è¡Œæ—¶é—´ä¸Šé‡‡å–äº†é™åˆ¶ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰å¿…è¦çš„é™åˆ¶ï¼Œç¡®ä¿æ¶æ„ä»£ç ç¼–å†™è€…ä¸èƒ½é€šè¿‡æ— å°½çš„å¯†é›†æ“ä½œé”å®šç”¨æˆ·æµè§ˆå™¨æˆ–è®¡ç®—æœºã€‚æ­¤ç±»é™åˆ¶æœ‰ä¸¤ä¸ªï¼šè°ƒç”¨æ ˆå°ºå¯¸é™åˆ¶å’Œé•¿æ—¶é—´è„šæœ¬é™åˆ¶ã€‚ é•¿è¿è¡Œè„šæœ¬é™åˆ¶æœ‰æ—¶è¢«ç§°ä½œé•¿è¿è¡Œè„šæœ¬å®šæ—¶å™¨æˆ–è€…å¤±æŽ§è„šæœ¬å®šæ—¶å™¨ï¼Œä½†å…¶åŸºæœ¬æ€æƒ³æ˜¯æµè§ˆå™¨è®°å½•ä¸€ä¸ªè„šæœ¬çš„è¿è¡Œæ—¶é—´ï¼Œä¸€æ—¦åˆ°è¾¾ä¸€å®šé™åº¦æ—¶å°±ç»ˆæ­¢å®ƒã€‚ æœ‰ä¸¤ç§æµ‹é‡è„šæœ¬è¿è¡Œæ—¶é—´çš„æ–¹æ³•ï¼š1ï¼‰ç»Ÿè®¡è‡ªè„šæœ¬å¼€å§‹è¿è¡Œä»¥æ¥æ‰§è¡Œè¿‡å¤šå°‘è¯­å¥ï¼›2ï¼‰ç»Ÿè®¡è„šæœ¬è¿è¡Œçš„æ€»æ—¶é—´ã€‚ é•¿è¿è¡Œè„šæœ¬æœ€å¥½çš„å¤„ç†åŠžæ³•é¦–å…ˆæ˜¯é¿å…ä»–ä»¬ã€‚ å¤šä¹…æ‰ç®—â€å¤ªä¹…â€œä¸€ä¸ªå•ä¸€çš„JavaScriptæ“ä½œåº”å½“ä½¿ç”¨çš„æ€»æ—¶é—´ï¼ˆæœ€å¤§ï¼‰æ˜¯100æ¯«ç§’ã€‚å¦‚æžœæŸä¸ªæŽ¥å£åœ¨100æ¯«ç§’å†…å“åº”ç”¨æˆ·è¾“å…¥ï¼Œç”¨æˆ·è®¤ä¸ºè‡ªå·±æ˜¯â€ç›´æŽ¥æ“ä½œç”¨æˆ·ç•Œé¢çš„å¯¹è±¡â€œï¼Œè¶…è¿‡100æ¯«ç§’æ„å‘³ç€ç”¨æˆ·è®¤ä¸ºè‡ªå·±ä¸ŽæŽ¥å£æ–­å¼€äº†ã€‚ ç”¨å®šæ—¶å™¨è®©å‡ºæ—¶é—´ç‰‡åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›JavaScriptä»»åŠ¡å› ä¸ºå¤æ‚æ€§åŽŸå› ä¸èƒ½å†100æ¯«ç§’æˆ–æ›´å°‘æ—¶é—´å†…å®Œæˆã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç†æƒ³åŠžæ³•æ˜¯è®©å‡ºå¯¹UIçº¿ç¨‹çš„æŽ§åˆ¶ï¼Œä½¿UIæ›´æ–°å¯ä»¥è¿›è¡Œã€‚ å®šæ—¶å™¨åŸºç¡€åœ¨JavaScriptä¸­ä½¿ç”¨setTimeout()æˆ–setInterval()åˆ›å»ºå®šæ—¶å™¨ã€‚setTimeout()å‡½æ•°åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨åªè¿è¡Œä¸€æ¬¡ï¼Œè€ŒsetInterval()å‡½æ•°åˆ›å»ºä¸€ä¸ªå‘¨æœŸæ€§é‡å¤è¿è¡Œçš„å®šæ—¶å™¨ã€‚ å®šæ—¶å™¨ä¸ŽUIçº¿ç¨‹äº¤äº’çš„æ–¹å¼æœ‰åŠ©äºŽåˆ†è§£é•¿è¿è¡Œè„šæœ¬æˆä¸ºè¾ƒçŸ­çš„ç‰‡æ–­ã€‚è°ƒç”¨setTimeout()æˆ–setInterval()å‘Šè¯‰JavaScriptå¼•æ“Žç­‰å¾…ä¸€å®šæ—¶é—´ï¼Œç„¶åŽå°†JavaScriptä»»åŠ¡æ·»åŠ åˆ°UIé˜Ÿåˆ—ä¸­ã€‚12345function greeting()&#123; alert("Hello world!");&#125;setTimeout(greeting, 250); ç¬¬äºŒä¸ªå‚æ•°â€250â€œæŒ‡å‡ºçš„æ˜¯ä»€ä¹ˆæ—¶å€™åº”å½“å°†ä»»åŠ¡æ·»åŠ åˆ°UIé˜Ÿåˆ—ï¼Œå¹¶ä¸æ˜¯è¯´é‚£æ—¶ä»£ç å°±å°†è¢«æ‰§è¡Œï¼Œè¿™ä¸ªä»»åŠ¡å¿…é¡»ç­‰åˆ°é˜Ÿåˆ—ä¸­çš„å…¶ä»–ä»»åŠ¡éƒ½æ‰§è¡Œä¹‹åŽæ‰èƒ½è¢«æ‰§è¡Œã€‚ å®šæ—¶å™¨ä»£ç åªæœ‰ç­‰åˆ›å»ºå®ƒçš„å‡½æ•°è¿è¡Œå®Œæˆä¹‹åŽï¼Œæ‰æœ‰å¯èƒ½è¢«æ‰§è¡Œã€‚åœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨é€ æˆUIçº¿ç¨‹æš‚åœï¼Œå¦‚åŒå®ƒä»Žä¸€ä¸ªä»»åŠ¡åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚å› æ­¤ï¼Œå®šæ—¶å™¨ä»£ç å¤ä½æ‰€æœ‰ç›¸å…³çš„æµè§ˆå™¨é™åˆ¶ï¼ŒåŒ…æ‹¬é•¿è¿è¡Œè„šæœ¬æ—¶é—´ã€‚æ­¤å¤–è°ƒç”¨æ ˆä¹Ÿåœ¨å®šæ—¶å™¨ä»£ç ä¸­å¤ä½ä¸ºé›¶ã€‚ å¦‚æžœè°ƒç”¨ setTimeout()çš„å‡½æ•°åˆè°ƒç”¨äº†å…¶ä»–ä»»åŠ¡ï¼Œè€—æ—¶è¶…è¿‡å®šæ—¶å™¨å»¶æ—¶ï¼Œå®šæ—¶å™¨ä»£ç å°†ç«‹å³è¢«æ‰§è¡Œï¼Œå®ƒä¸Žä¸»è°ƒå‡½æ•°ä¹‹é—´æ²¡æœ‰å¯å¯Ÿè§‰çš„å»¶è¿Ÿã€‚æœ€å°å®šæ—¶å™¨å»¶æ—¶åº”è®¾ç½®25æ¯«ç§’ã€‚ åœ¨æ•°ç»„å¤„ç†ä¸­ä½¿ç”¨å®šæ—¶å™¨ä¸€ä¸ªå¸¸è§çš„é•¿è¿è¡Œè„šæœ¬å°±æ˜¯å¾ªçŽ¯å ç”¨äº†å¤ªé•¿çš„è¿è¡Œæ—¶é—´ã€‚ç»è¿‡å¾ªçŽ¯ä¼˜åŒ–åŽï¼Œè¿˜æ˜¯ä¸èƒ½ç¼©å‡è¶³å¤Ÿçš„è¿è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆå®šæ—¶å™¨è¿˜èƒ½æ›´è¿›ä¸€æ­¥åœ°ä¼˜åŒ–ã€‚åŸºæœ¬æ–¹æ³•æ˜¯ï¼šå°†å¾ªçŽ¯å·¥ä½œåˆ†è§£åˆ°å®šæ—¶å™¨åºåˆ—ä¸­ã€‚123for(var i = 0,len = items.length; i &lt; len; i++)&#123; process(items[i]);&#125; ä¸Šè¿°å¾ªçŽ¯ç»“æž„è¿è¡Œæ—¶é—´è¿‡é•¿çš„åŽŸå› æœ‰äºŒï¼šprocess()çš„å¤æ‚åº¦ï¼Œitemsçš„å¤§å°ã€‚ åˆ¤æ–­æ˜¯å¦å¯ç”¨å®šæ—¶å™¨å–ä»£å¾ªçŽ¯çš„ä¸¤ä¸ªå†³å®šæ€§å› ç´ ï¼Ÿ1ï¼‰æ­¤å¤„ç†è¿‡ç¨‹å¿…é¡»æ˜¯åŒæ­¥å¤„ç†å—ï¼Ÿ2ï¼‰æ•°æ®å¿…é¡»æŒ‰é¡ºåºå¤„ç†å—ï¼Ÿ å¦‚æžœä¸¤ä¸ªå›žç­”éƒ½æ˜¯â€œå¦â€ï¼Œé‚£ä¹ˆä»£ç å°†é€‚äºŽä½¿ç”¨å®šæ—¶å™¨åˆ†è§£å·¥ä½œã€‚ä¸€ç§åŸºæœ¬å¼‚æ­¥ä»£ç æ¨¡å¼å¦‚ä¸‹ï¼š12345678910111213141516171819function processArray(items, process, callback)&#123; var todo = items.concat(); setTimeout(function()&#123; process(todo.shift()); if(todo.length &gt; 0)&#123; setTimeout(arguments.callee,25); &#125;else&#123; callback(items); &#125; &#125;, 25);&#125;var items = [123, 789, 323, 778, 232, 654, 219, 543, 321, 160];function outputValue(value)&#123; console.log(value);&#125;processArray(items, outputValue, function()&#123; console.log("Done!");&#125;); ä¸Šè¿°ä»£ç çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š åˆ›å»ºä¸€ä¸ªåŽŸå§‹æ•°ç»„çš„å…‹éš†ï¼Œå°†å®ƒä½œä¸ºå¤„ç†å¯¹è±¡ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨setTimeout()åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨å¤„ç†é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹ã€‚è°ƒç”¨todo.shift()è¿”å›žå®ƒçš„ç¬¬ä¸€ä¸ªé¡¹ç„¶åŽå°†å®ƒä»Žæ•°ç»„ä¸­åˆ é™¤ã€‚æ­¤å€¼ä½œä¸ºå‚æ•°ä¼ ç»™process()ã€‚ç„¶åŽï¼Œæ£€æŸ¥æ˜¯å¦è¿˜æœ‰æ›´å¤šé¡¹éœ€è¦å¤„ç†ã€‚å¦‚æžœtodoé˜Ÿåˆ—ä¸­è¿˜æœ‰å†…å®¹ï¼Œé‚£ä¹ˆå†å¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ã€‚å¦‚æžœä¸å†æœ‰å†…å®¹éœ€è¦å¤„ç†ï¼Œå°†è°ƒç”¨callback()å‡½æ•°ã€‚ åˆ†è§£ä»»åŠ¡æˆ‘ä»¬é€šå¸¸å°†ä¸€ä¸ªä»»åŠ¡åˆ†è§£æˆä¸€ç³»åˆ—å­ä»»åŠ¡ã€‚å¯å°†ä¸€è¡Œä»£ç ç®€å•åœ°çœ‹ä½œä¸€ä¸ªåŽŸå­ä»»åŠ¡ï¼Œå¤šè¡Œä»£ç ç»„åˆåœ¨ä¸€èµ·æž„æˆä¸€ä¸ªç‹¬ç«‹ä»»åŠ¡ã€‚å¦‚æžœå‡½æ•°è¿è¡Œæ—¶é—´å¤ªé•¿ï¼Œå®ƒå¯ä»¥æ‹†åˆ†æˆä¸€ç³»åˆ—æ›´å°çš„æ­¥éª¤ï¼ŒæŠŠç‹¬ç«‹æ–¹æ³•æ”¾åœ¨å®šæ—¶å™¨ä¸­è°ƒç”¨ã€‚1234567891011121314151617function saveDocument(id)&#123; openDocument(id) writeText(id); closeDocument(id); updateUI(id);&#125;function saveDocument(id)&#123; var tasks = [openDocument, writeText, closeDocument, updateUI]; setTimeout(function()&#123; var task = tasks.shift(); task(id); if (tasks.length &gt; 0)&#123; setTimeout(arguments.callee, 25); &#125; &#125;, 25);&#125; ä¸è¦è®©ä»»ä½•JavaScriptä»£ç æŒç»­è¿è¡Œè¶…è¿‡50æ¯«ç§’ï¼Œç¡®ä¿ä»£ç æ°¸è¿œä¸ä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚é€šè¿‡åŽŸç”Ÿçš„Dateå¯¹è±¡è·Ÿè¸ªä»£ç çš„è¿è¡Œæ—¶é—´ã€‚è¿™æ˜¯å¤§å¤šæ•°JavaScriptåˆ†æžå·¥å…·æ‰€é‡‡ç”¨çš„å·¥ä½œæ–¹å¼ï¼š123456789var start = +new Date(), //åŠ å·â€œ+â€å°†Dateå¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­— stop;someLongProcess();stop = +new Date();if(stop - start &lt;50)&#123; alert("something");&#125;else&#123; alert("taking too long.");&#125; æœ‰æ—¶æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªä»»åŠ¡æ•ˆçŽ‡ä¸é«˜ã€‚åœ¨å®šæ—¶å™¨å¾ªçŽ¯ä¸­åŠ å…¥æ—¶é—´æ£€æµ‹æœºåˆ¶ï¼Œä½¿å¾—æ¯æ¬¡å¤„ç†å¤šä¸ªæ•°æ®ï¼Œè¿™æ ·é¿å…äº†å°†ä»»åŠ¡åˆ†è§£æˆè¿‡äºŽç¢Žå°çš„ç‰‡æ–­ã€‚ å®šæ—¶å™¨å’Œæ€§èƒ½å®šæ—¶å™¨ä½¿å¾—JavaScriptä»£ç æ•´ä½“æ€§èƒ½è¡¨çŽ°å‡ºå·¨å¤§å·®å¼‚ï¼Œä½†è¿‡åº¦ä½¿ç”¨å®ƒä»¬ä¼šå¯¹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚ä½¿ç”¨å®šæ—¶å™¨åºåˆ—æ—¶ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå®šæ—¶å™¨å­˜åœ¨ï¼Œåªæœ‰å½“è¿™ä¸ªå®šæ—¶å™¨ç»“æŸæ‰åˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ã€‚æ­¤å¤–ï¼Œè¿˜åº”è¯¥åœ¨webåº”ç”¨ä¸­é™åˆ¶é«˜é¢‘çŽ‡é‡å¤å®šæ—¶å™¨çš„æ•°é‡ã€‚å»ºè®®åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„é‡å¤å®šæ—¶å™¨ï¼Œæ¯æ¬¡æ‰§è¡Œå¤šä¸ªæ“ä½œã€‚ Web Workers(ç½‘é¡µå·¥äººçº¿ç¨‹)è‡ªJavaScriptè¯žç”Ÿä»¥æ¥ï¼Œè¿˜æ²¡æœ‰åŠžæ³•åœ¨æµè§ˆå™¨UIçº¿ç¨‹ä¹‹å¤–è¿è¡Œä»£ç ã€‚Web workers API æ”¹å˜äº†è¿™ç§çŠ¶å†µï¼Œå®ƒå¼•å…¥ä¸€ä¸ªæŽ¥å£ï¼Œä½¿ä»£ç è¿è¡Œè€Œä¸å ç”¨æµè§ˆå™¨UIçº¿ç¨‹çš„æ—¶é—´ã€‚web workersåœ¨è‡ªå·±çš„çº¿ç¨‹ä¸­è¿è¡ŒJavaScriptï¼Œæ„å‘³ç€ï¼Œweb workersä¸­çš„ä»£ç è¿è¡Œä¸ä»…ä¸ä¼šå½±å“æµè§ˆå™¨UIï¼Œè€Œä¸”ä¹Ÿä¸ä¼šå½±å“å…¶ä»–web workersä¸­è¿è¡Œçš„ä»£ç ã€‚ å·¥äººçº¿ç¨‹è¿è¡ŒçŽ¯å¢ƒç”±äºŽweb workersä¸ç»‘å®šUIçº¿ç¨‹ï¼Œè¿™ä¹Ÿæ„å‘³ç€å®ƒä»¬å°†ä¸èƒ½è®¿é—®æ›´å¤šçš„æµè§ˆå™¨èµ„æºã€‚Web workers ä¿®æ”¹DOMå°†å¯¼è‡´ç”¨æˆ·ç•Œé¢å‡ºé”™ï¼Œä½†æ¯ä¸ªweb workeréƒ½æœ‰è‡ªå·±çš„å…¨å±€è¿è¡ŒçŽ¯å¢ƒï¼Œåªæœ‰JavaScriptç‰¹æ€§çš„ä¸€ä¸ªå­é›†å¯ç”¨ã€‚ å·¥äººçº¿ç¨‹çš„è¿è¡ŒçŽ¯å¢ƒç”±ä¸‹åˆ—éƒ¨åˆ†ç»„æˆï¼š ä¸€ä¸ªæµè§ˆå™¨å¯¹è±¡ï¼ŒåªåŒ…å«å››ä¸ªå±žæ€§ï¼šappNameï¼ŒappVersionï¼ŒuserAgentå’Œplatformï¼›ä¸€ä¸ªlocationå¯¹è±¡ï¼ˆå’Œwindowå¯¹è±¡ä¸€æ ·ï¼Œåªæ˜¯æ‰€æœ‰å±žæ€§éƒ½æ˜¯åªè¯»çš„ï¼‰ï¼›ä¸€ä¸ªselfå¯¹è±¡æŒ‡å‘å…¨å±€å·¥äººçº¿ç¨‹å¯¹è±¡ï¼›ä¸€ä¸ªimportScript()æ–¹æ³•ï¼Œä½¿å¾—å·¥äººçº¿ç¨‹å¯ä»¥åŠ è½½å¤–éƒ¨JavaScriptæ–‡ä»¶ï¼›æ‰€æœ‰ECMAScriptå¯¹è±¡ï¼Œè¯¸å¦‚Objectï¼ŒArrayï¼ŒDateç­‰ç­‰ï¼›XMLHTTPRequestæž„é€ å™¨ï¼›setTimeout()å’ŒsetInterval()æ–¹æ³•ï¼›ä¸€ä¸ªclose()æ–¹æ³•ï¼Œå¯ä»¥ç«‹å³åœæ­¢å·¥äººçº¿ç¨‹ã€‚ å› ä¸ºweb workeræœ‰ä¸åŒçš„å…¨å±€è¿è¡ŒçŽ¯å¢ƒï¼Œä½ ä¸èƒ½åœ¨JavaScriptä»£ç ä¸­åˆ›å»ºã€‚éœ€è¦åˆ›å»ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„JavaScriptæ–‡ä»¶ï¼ŒåŒ…å«é‚£äº›åœ¨å·¥äººçº¿ç¨‹ä¸­è¿è¡Œçš„ä»£ç ã€‚è¦åˆ›å»ºweb workersï¼Œå¿…é¡»è¦ä¼ å…¥è¿™ä¸ªJavaScriptæ–‡ä»¶çš„URL:1var worker = new Worker("code.js"); æ­¤ä»£ç ä¸€æ—¦æ‰§è¡Œï¼Œå°†ä¸ºæŒ‡å®šæ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹å’Œä¸€ä¸ªæ–°çš„å·¥äººçº¿ç¨‹è¿è¡ŒçŽ¯å¢ƒã€‚æ­¤æ–‡ä»¶è¢«å¼‚æ­¥ä¸‹è½½ï¼Œç›´åˆ°ä¸‹è½½å¹¶è¿è¡Œå®Œä¹‹åŽæ‰å¯åŠ¨å·¥äººçº¿ç¨‹ã€‚ å·¥äººçº¿ç¨‹äº¤äº’å·¥äººçº¿ç¨‹å’Œç½‘é¡µä»£ç é€šè¿‡äº‹ä»¶æŽ¥å£è¿›è¡Œäº¤äº’ã€‚ç½‘é¡µä»£ç å¯é€šè¿‡postMessage()æ–¹æ³•å‘å·¥äººçº¿ç¨‹ä¼ é€’æ•°æ®ï¼Œå®ƒæŽ¥æ”¶å•ä¸ªå‚æ•°ï¼Œå³ä¼ é€’ç»™å·¥äººçº¿ç¨‹çš„æ•°æ®ã€‚æ­¤å¤–ï¼Œåœ¨å·¥äººçº¿ç¨‹ä¸­è¿˜æœ‰onmessageäº‹ä»¶å¥æŸ„ç”¨äºŽæŽ¥æ”¶ä¿¡æ¯ã€‚123456789101112131415161718//WEBé¡µä¸»çº¿ç¨‹var worker = new Worker("worker.js"); //åˆ›å»ºä¸€ä¸ªWorkerå¯¹è±¡å¹¶å‘å®ƒä¼ é€’å°†åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œçš„è„šæœ¬çš„URLworker.postMessage("hello world"); //å‘workerå‘é€æ•°æ®worker.onmessage =function(evt)&#123; //æŽ¥æ”¶workerä¼ è¿‡æ¥çš„æ•°æ®å‡½æ•° console.log(evt.data); //è¾“å‡ºworkerå‘é€æ¥çš„æ•°æ®&#125;//worker.jsonmessage =function (evt)&#123; var d = evt.data; //é€šè¿‡evt.dataèŽ·å¾—å‘é€æ¥çš„æ•°æ® postMessage( d ); //å°†èŽ·å–åˆ°çš„æ•°æ®å‘é€ä¼šä¸»çº¿ç¨‹&#125; æ¶ˆæ¯ç³»ç»Ÿæ˜¯é¡µé¢å’Œå·¥äººçº¿ç¨‹ä¹‹é—´å”¯ä¸€çš„äº¤äº’é€”å¾„ã€‚åªæœ‰æŸäº›ç±»åž‹çš„æ•°æ®å¯ä»¥ä½¿ç”¨postMessage()ä¼ é€’ã€‚å¯ä»¥ä¼ é€’çš„ç±»åž‹æœ‰ï¼šstringï¼Œnumberï¼Œbooleanï¼Œnullï¼Œundefinedä»¥åŠObjecå’ŒArrayçš„å®žä¾‹ã€‚ åŠ è½½å¤–éƒ¨æ–‡ä»¶å½“å·¥äººçº¿ç¨‹ç”¨è¿‡importScripts()æ–¹æ³•åŠ è½½å¤–éƒ¨JavaScriptæ–‡ä»¶ï¼Œå®ƒæŽ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªURLå‚æ•°ï¼ŒæŒ‡å‡ºè¦åŠ è½½çš„JavaScriptæ–‡ä»¶ç½‘å€ã€‚å·¥äººçº¿ç¨‹ä»¥é˜»å¡žæ–¹å¼è°ƒç”¨importScripts()ï¼Œç›´åˆ°æ‰€æœ‰æ–‡ä»¶åŠ è½½å®Œæˆå¹¶æ‰§è¡Œä¹‹åŽï¼Œè„šæœ¬æ‰ç»§ç»­è¿è¡Œã€‚ä½†ç”±äºŽå·¥äººçº¿ç¨‹åœ¨UIçº¿ç¨‹ä¹‹å¤–è¿è¡Œï¼Œè¿™ç§é˜»å¡žä¸ä¼šå½±å“UIå“åº”ã€‚ Web Workersçš„å®žé™…ç”¨é€”Web Workersé€‚åˆäºŽé‚£äº›çº¯æ•°æ®çš„ï¼Œæˆ–è€…ä¸Žæµè§ˆå™¨UIæ²¡å…³ç³»çš„é•¿è¿è¡Œè„šæœ¬ã€‚ä¾‹å¦‚ï¼šè§£æžä¸€ä¸ªå¾ˆå¤§çš„ JSON å­—ç¬¦ä¸²ï¼ˆJSON è§£æžå°†åœ¨åŽé¢ç¬¬ä¸ƒç« è®¨è®ºï¼‰ã€‚å‡è®¾æ•°æ®è¶³å¤Ÿå¤§ï¼Œè‡³å°‘éœ€è¦ 500 æ¯«ç§’æ‰èƒ½å®Œæˆè§£æžä»»åŠ¡ã€‚å¾ˆæ˜¾ç„¶æ—¶é—´å¤ªé•¿äº†ä»¥è‡³äºŽä¸èƒ½å…è®¸ JavaScript åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œå®ƒï¼Œå› ä¸ºå®ƒä¼šå¹²æ‰°ç”¨æˆ·ä½“éªŒã€‚æ­¤ä»»åŠ¡éš¾ä»¥åˆ†è§£æˆç”¨äºŽå®šæ—¶å™¨çš„å°æ®µä»»åŠ¡ï¼Œæ‰€ä»¥å·¥äººçº¿ç¨‹æˆä¸ºç†æƒ³çš„è§£å†³æ–¹æ¡ˆã€‚12345678910111213var worker = new Worker("jsonparser.js");worker.onmessage = function(event)&#123; var jsonData = event.data; evaluateData(jsonData);&#125;;worker.postMessage(jsonText);//jsonparser.jsself.onmessage = function(event)&#123; var jsonText = event.data; var jsonData = JSON.parse(jsonText); self.postMessage(jsonData);&#125;; æ­¤å·¥ç¨‹åªèƒ½åœ¨Firefox 3.5å’Œæ›´é«˜ç‰ˆæœ¬ä¸­è¿è¡Œï¼Œè€ŒSafari 4 å’ŒChrome 3ä¸­ï¼Œé¡µé¢å’Œå·¥äººçº¿ç¨‹ä¹‹é—´åªå…è®¸ä¼ é€’å­—ç¬¦ä¸²ã€‚ è§£æžä¸€ä¸ªå¤§å­—ç¬¦ä¸²åªæ˜¯è®¸å¤šå—ç›ŠäºŽweb workersçš„ä»»åŠ¡ä¹‹ä¸€ã€‚å…¶ä»–å¯èƒ½å—ç›Šçš„ä»»åŠ¡å¦‚ä¸‹ï¼š ç¼–/è§£ç ä¸€ä¸ªå¤§å­—ç¬¦ä¸²ï¼›å¤æ‚æ•°å­¦è¿ç®—ï¼ˆåŒ…æ‹¬å›¾åƒæˆ–è§†é¢‘å¤„ç†ï¼‰ï¼›ç»™ä¸€ä¸ªå¤§æ•°ç»„æŽ’åºã€‚ ä»»ä½•è¶…è¿‡100æ¯«ç§’çš„å¤„ç†ï¼Œéƒ½åº”å½“è€ƒè™‘å·¥äººçº¿ç¨‹æ–¹æ¡ˆæ˜¯ä¸æ˜¯æ¯”åŸºäºŽå®šæ—¶å™¨çš„æ–¹æ¡ˆæ›´åˆé€‚ã€‚å½“ç„¶ï¼Œè¿˜è¦åŸºäºŽæµè§ˆå™¨æ˜¯å¦æ”¯æŒå·¥äººçº¿ç¨‹ã€‚ æ€»ç»“JavaScriptå’Œç”¨æˆ·ç•Œé¢æ›´æ–°åœ¨åŒä¸€ä¸ªè¿›ç¨‹å†…è¿è¡Œï¼ŒåŒä¸€æ—¶åˆ»åªæœ‰å…¶ä¸­ä¸€ä¸ªå¯ä»¥è¿è¡Œã€‚æœ‰æ•ˆç®¡ç†UIçº¿ç¨‹å°±æ˜¯è¦ç¡®ä¿JavaScriptä¸èƒ½è¿è¡Œå¤ªé•¿æ—¶é—´ï¼Œä»¥å…å½±å“ç”¨æˆ·ä½“éªŒã€‚ç‰¢è®°ä»¥ä¸‹å‡ ç‚¹ï¼š JavaScriptè¿è¡Œæ—¶é—´ä¸åº”è¯¥è¶…è¿‡100æ¯«ç§’ï¼›JavaScriptè¿è¡ŒæœŸé—´ï¼Œæµè§ˆå™¨å“åº”ç”¨æˆ·äº¤äº’çš„è¡Œä¸ºå­˜åœ¨å·®å¼‚ã€‚æ— è®ºå¦‚ä½•ï¼ŒJavaScripté•¿æ—¶é—´è¿è¡Œå°†å¯¼è‡´ç”¨æˆ·ä½“éªŒæ··ä¹±å’Œè„±èŠ‚ï¼›å®šæ—¶å™¨å¯ç”¨äºŽå®‰æŽ’ä»£ç æŽ¨è¿Ÿæ‰§è¡Œï¼Œå®ƒä½¿å¾—ä½ å¯ä»¥å°†é•¿è¿è¡Œè„šæœ¬åˆ†è§£æˆä¸€ç³»åˆ—è¾ƒå°çš„ä»»åŠ¡ï¼›Web Workersæ˜¯æ–°å¼æµè§ˆå™¨æ‰æ”¯æŒçš„ç‰¹æ€§ï¼Œå®ƒå…è®¸ä½ åœ¨UIçº¿ç¨‹ä¹‹å¤–è¿è¡ŒJavaScriptä»£ç è€Œé¿å…é”å®šUIã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é«˜æ€§èƒ½JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šé«˜æ€§èƒ½JavaScriptã€‹è¯»ä¹¦ç¬”è®°ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2017%2F05%2F20%2F%E7%AC%94%E8%AE%B0%2F%E3%80%8A%E9%AB%98%E6%80%A7%E8%83%BDJavaScript%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€ç«  åŠ è½½å’Œè¿è¡ŒJavaScriptæ‹¥æœ‰é˜»å¡žçš„ç‰¹å¾ï¼Œå½“JavaScriptè¿è¡Œæ—¶ï¼Œå…¶ä»–çš„äº‹æƒ…ä¸èƒ½è¢«æµè§ˆå™¨å¤„ç†ã€‚å¤§å¤šæ•°æµè§ˆå™¨ä½¿ç”¨å•è¿›ç¨‹å¤„ç†UIæ›´æ–°å’ŒJavaScriptè¿è¡Œç­‰å¤šä¸ªä»»åŠ¡ï¼Œè€ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡è¢«æ‰§è¡Œã€‚ &lt;script&gt;æ ‡ç­¾ä¸€æ—¦å‡ºçŽ°ï¼Œå°±ä¼šä½¿æ•´ä¸ªé¡µé¢å› è„šæœ¬è§£æžã€è¿è¡Œè€Œå‡ºçŽ°ç­‰å¾…ã€‚å› ä¸ºè„šæœ¬å¯èƒ½åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹é¡µé¢å†…å®¹ã€‚æ¯”å¦‚ä½¿ç”¨document.write()æ–¹æ³•ã€‚ æµè§ˆå™¨åœ¨é‡åˆ°&lt;body&gt;æ ‡ç­¾ä¹‹å‰ï¼Œä¸ä¼šæ¸²æŸ“é¡µé¢çš„ä»»ä½•éƒ¨åˆ†ã€‚å°†è„šæœ¬æ”¾åœ¨é¡µé¢çš„é¡¶ç«¯ï¼Œå°†å¯¼è‡´ä¸€ä¸ªå¯ä»¥å¯Ÿè§‰çš„å»¶è¿Ÿï¼Œé€šå¸¸è¡¨çŽ°ä¸ºï¼šé¡µé¢æ‰“å¼€æ—¶ï¼Œé¦–å…ˆæ˜¾ç¤ºä¸ºä¸€å‰¯ç©ºç™½çš„é¡µé¢ï¼Œè€Œæ­¤æ—¶ç”¨æˆ·ä¸èƒ½è¿›è¡Œé˜…è¯»å’Œæ“ä½œã€‚ IE8ï¼ŒFirefox 3.5,Safari 4å’ŒChrome 2å…è®¸å¹¶è¡Œä¸‹è½½JavaScriptæ–‡ä»¶ï¼Œä½†JavaScriptçš„ä¸‹è½½ä»ç„¶è¦é˜»å¡žå…¶ä»–èµ„æºçš„ä¸‹è½½ï¼Œä¾‹å¦‚å›¾ç‰‡ç­‰ã€‚ å› æ­¤ï¼ŒæŽ¨èå°†æ‰€æœ‰çš„&lt;script&gt;æ ‡ç­¾æ”¾åœ¨å°½å¯èƒ½æŽ¥è¿‘&lt;body&gt;æ ‡ç­¾åº•éƒ¨çš„ä½ç½®ï¼Œå°½é‡å‡å°‘å¯¹æ•´ä¸ªé¡µé¢ä¸‹è½½çš„å½±å“ã€‚ æ­¤å¤–ï¼Œé™åˆ¶é¡µé¢çš„&lt;script&gt;æ ‡ç­¾çš„æ•°é‡ä¹Ÿå¯ä»¥æ”¹å–„æ€§èƒ½ã€‚æ¯å½“é¡µé¢è§£æžç¢°åˆ°ä¸€ä¸ª&lt;script&gt;æ ‡ç­¾æ—¶ï¼Œç´§æŽ¥ç€æœ‰ä¸€æ®µæ—¶é—´ç”¨äºŽä»£ç æ‰§è¡Œã€‚æœ€å°åŒ–è¿™äº›å»¶è¿Ÿæ—¶é—´å¯ä»¥æ”¹å–„é¡µé¢çš„æ•´ä½“æ€§èƒ½ã€‚æ¯ä¸ªHTTPè¯·æ±‚éƒ½ä¼šäº§ç”Ÿé¢å¤–çš„æ€§èƒ½è´Ÿæ‹…ï¼Œä¸‹è½½ä¸€ä¸ª100KBçš„æ–‡ä»¶æ¯”ä¸‹è½½å››ä¸ª25KBçš„æ–‡ä»¶è¦å¿«ï¼Œæ‰€ä»¥å‡å°‘å¼•ç”¨å¤–éƒ¨è„šæœ¬æ–‡ä»¶çš„æ•°é‡ï¼Œå°±å¯ä»¥å‡å°‘æ€§èƒ½æŸå¤±ã€‚ å¯ä»¥ä½¿ç”¨æ‰“åŒ…å·¥å…·æˆ–è€…ä½¿ç”¨CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰æ¥å®žçŽ°ï¼šä¾‹å¦‚ï¼Œä¸‹é¢çš„URLåŒ…å«ä¸¤ä¸ªæ–‡ä»¶ï¼ˆYUIï¼Œè”åˆå¥æŸ„ï¼‰ http://yui.yahooapis.com/combo?2.7.0/build/yahoo/yahoo-min.js&amp;2.7.0/build/event/event-min.jsæ­¤URLè¯·æ±‚ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨æœåŠ¡å™¨æ˜¯åˆ†ç¦»çš„ï¼Œä½†å½“æœåŠ¡å™¨æ”¶åˆ°æ­¤URLè¯·æ±‚æ—¶ï¼Œä¸¤ä¸ªæ–‡ä»¶ä¼šè¢«åˆå¹¶åœ¨ä¸€èµ·è¿”å›žç»™å®¢æˆ·ç«¯ï¼Œä»Žè€Œå‡å°‘äº†&lt;script&gt;æ ‡ç­¾ æ³¨æ„ï¼š ä¿æŒ JavaScript æ–‡ä»¶çŸ­å°ï¼Œå¹¶é™åˆ¶ HTTP è¯·æ±‚çš„æ•°é‡ï¼Œåªæ˜¯åˆ›å»ºååº”è¿…é€Ÿçš„ç½‘é¡µåº”ç”¨çš„ç¬¬ä¸€æ­¥ã€‚ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰€åŒ…å«çš„åŠŸèƒ½è¶Šå¤šï¼Œæ‰€éœ€è¦çš„ JavaScript ä»£ç å°±è¶Šå¤§ï¼Œä¿æŒæºç çŸ­å°å¹¶ä¸æ€»æ˜¯ä¸€ç§é€‰æ‹©ã€‚å°½ç®¡ä¸‹è½½ä¸€ä¸ªå¤§ JavaScript æ–‡ä»¶åªäº§ç”Ÿä¸€æ¬¡ HTTP è¯·æ±‚ï¼Œå´ä¼šé”å®šæµè§ˆå™¨ä¸€å¤§æ®µæ—¶é—´ã€‚ä¸ºé¿å¼€è¿™ç§æƒ…å†µï¼Œä½ éœ€è¦å‘é¡µé¢ä¸­é€æ­¥æ·»åŠ  JavaScriptï¼ŒæŸç§ç¨‹åº¦ä¸Šè¯´ä¸ä¼šé˜»å¡žæµè§ˆå™¨ã€‚ éžé˜»å¡žè„šæœ¬éžé˜»å¡žè„šæœ¬çš„ç§˜å¯†åœ¨äºŽï¼Œç­‰é¡µé¢å®ŒæˆåŠ è½½ä¹‹åŽï¼Œå†åŠ è½½JavaScriptä»£ç ã€‚å®žçŽ°æ–¹æ³•ï¼š1.å»¶è¿Ÿè„šæœ¬1&lt;script src="file.js" defer&gt;&lt;/script&gt; è¿™ä¸ªdeferå±žæ€§æŒ‡æ˜Žå…ƒç´ ä¸­æ‰€åŒ…å«çš„è„šæœ¬ä¸æ‰“ç®—ä¿®æ”¹DOMï¼Œå› æ­¤ä»£ç å¯ä»¥ç¨åŽæ‰§è¡Œ(DOMåŠ è½½å®ŒåŽæ‰§è¡Œ)ã€‚ï¼ˆä»…é€‚ç”¨äºŽIE4+å’ŒFirefox 3.5+ï¼‰ 2.åŠ¨æ€è„šæœ¬åŠ è½½ï¼ˆæœ€å¸¸ç”¨çš„æ¨¡å¼ï¼‰1234var script = document.createElement ("script");script.type = "text/javascript";script.src = "file1.js";document.getElementsByTagName("head")[0].appendChild(script); file1.jså½“å…ƒç´ &lt;script&gt;æ·»åŠ åˆ°é¡µé¢ä¹‹åŽç«‹åˆ»å¼€å§‹ä¸‹è½½ã€‚æ­¤æŠ€æœ¯çš„é‡ç‚¹åœ¨äºŽï¼šæ— è®ºåœ¨ä½•å¤„å¯åŠ¨ä¸‹è½½ï¼Œæ–‡ä»¶çš„ä¸‹è½½å’Œè¿è¡Œéƒ½ä¸ä¼šé˜»å¡žå…¶ä»–é¡µé¢å¤„ç†è¿‡ç¨‹ã€‚è·¨æµè§ˆå™¨å®žçŽ°åŠ¨æ€åŠ è½½js123456789101112131415161718function loadScript(url, callback)&#123; var script = document.createElement ("script") script.type = "text/javascript"; if (script.readyState)&#123; //IEæµè§ˆå™¨ script.onreadystatechange = function()&#123; if (script.readyState == "loaded" || script.readyState == "complete")&#123; script.onreadystatechange = null; callback(); //jsæ–‡ä»¶æŽ¥æ”¶å®Œæˆæ—¶è§¦å‘çš„å›žè°ƒå‡½æ•° &#125; &#125;; &#125; else &#123; //å…¶ä»–æµè§ˆå™¨ script.onload = function()&#123; callback(); //jsæ–‡ä»¶æŽ¥æ”¶å®Œæˆæ—¶è§¦å‘çš„å›žè°ƒå‡½æ•° &#125;; &#125; script.src = url; document.getElementsByTagName("head")[0].appendChild(script);&#125; ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š123loadScript("file1.js", function()&#123; alert("File is loaded!");&#125;); åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šä¿è¯æ–‡ä»¶åŠ è½½çš„é¡ºåºï¼Œåªæœ‰Firefoxå’ŒOperaèƒ½å¤Ÿä¿è¯è„šæœ¬æŒ‰ç…§ä½ æŒ‡å®šçš„é¡ºåºæ‰§è¡Œã€‚å¯ä»¥é‡‡ç”¨ä¸²è”çš„æ–¹å¼ï¼Œä¿è¯ä¸‹è½½æ¬¡åºï¼š1234567loadScript("file1.js", function()&#123; loadScript("file2.js", function()&#123; loadScript("file3.js", function()&#123; alert("All files are loaded!"); &#125;); &#125;);&#125;); 3.XHRè„šæœ¬æ³¨å…¥ä½¿ç”¨XHRå¯¹è±¡å°†è„šæœ¬æ³¨å…¥åˆ°é¡µé¢ä¸­,ç»§è€Œå®žçŽ°éžé˜»å¡žè„šæœ¬ã€‚æ­¤æŠ€æœ¯é¦–å…ˆåˆ›å»ºä¸€ä¸ªXHRå¯¹è±¡ï¼Œç„¶åŽä¸‹è½½JavaScriptæ–‡ä»¶ï¼ŒæŽ¥ç€ç”¨ä¸€ä¸ªåŠ¨æ€&lt;script&gt;å…ƒç´ å°†JavaScriptä»£ç æ³¨å…¥é¡µé¢ã€‚1234567891011121314var xhr = new XMLHttpRequest();xhr.open("get","file1.js",true);xhr.onreadystatechange = function()&#123; if(xhr.readyState == 4)&#123; //2**è¡¨ç¤ºæœ‰æ•ˆçš„å›žåº”ï¼Œ304è¡¨ç¤ºä¸€ä¸ªç¼“å­˜å“åº” if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300 || xhr.status == 304)&#123; var script = document.createElement("script"); script.type = "text/javascript"; script.text = xhr.responseText; // åˆ›å»ºå†…è”ä»£ç çš„&amp;lt;script&amp;gt;å…ƒç´  document.body.appendChild(script); &#125; &#125;&#125;xhr.send(null); è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼šå¯ä»¥ä¸‹è½½ä¸ç«‹å³æ‰§è¡Œçš„JavaScriptä»£ç ï¼›å…¼å®¹æ€§å¥½ï¼ŒåŒæ ·çš„ä»£ç åœ¨æ‰€æœ‰çŽ°ä»£æµè§ˆå™¨ä¸­éƒ½ä¸ä¼šå¼•å‘å¼‚å¸¸ã€‚ é™åˆ¶ï¼šJavaScriptæ–‡ä»¶å¿…é¡»ä¸Žé¡µé¢æ”¾ç½®åœ¨åŒä¸€ä¸ªåŸŸå†…ï¼Œä¸èƒ½ä»ŽCDNä¸‹è½½ã€‚ï¼ˆæ‰€ä»¥å¤§åž‹ç½‘é¡µä¸é‡‡ç”¨è¿™æ–¹æ³•ï¼‰ æŽ¨èçš„éžé˜»å¡žæ¨¡å¼æŽ¨èçš„å‘é¡µé¢åŠ è½½å¤§é‡JavaScriptçš„æ–¹æ³•åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š ç¬¬ä¸€æ­¥ï¼ŒåŒ…å«åŠ¨æ€åŠ è½½çš„JavaScriptæ‰€éœ€çš„ä»£ç ï¼Œç„¶åŽåŠ è½½é¡µé¢åˆå§‹åŒ–æ‰€éœ€çš„é™¤JavaScriptä¹‹å¤–çš„éƒ¨åˆ†ã€‚è¿™éƒ¨åˆ†ä»£ç å°½é‡å°ï¼Œå®ƒä¸‹è½½å’Œè¿è¡Œéžå¸¸è¿…é€Ÿï¼Œä¸ä¼šå¯¹é¡µé¢é€ æˆå¾ˆå¤§å¹²æ‰°ã€‚å½“åˆå§‹ä»£ç å‡†å¤‡å¥½åŽï¼Œç”¨å®ƒæ¥åŠ è½½å…¶ä½™çš„JavaScriptä»£ç ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥å°†åŠ è½½å…¶ä½™JavaScriptä»£ç çš„å‡½æ•°åµŒå…¥åœ¨é¡µé¢ä¸­ï¼Œè¿™æ ·å¯ä»¥é¿å…å¦ä¸€HTTPè¯·æ±‚ã€‚å…¸åž‹ç¤ºä¾‹æ˜¯YUI3ï¼Œæ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ï¼šç”¨ä¸€ä¸ªå¾ˆå°çš„åˆå§‹ä»£ç ï¼Œä¸‹è½½å…¶ä½™çš„åŠŸèƒ½ä»£ç ã€‚ éžé˜»å¡ž JavaScript åŠ è½½åº“ä½¿ç”¨LazyLoadå®žçŽ°åŠ è½½å…¶ä»–çš„åŠŸèƒ½ä»£ç ï¼ˆhttp://github.com/rgrove/lazyload/ï¼‰å¯ä»¥ä¸‹è½½å¤šä¸ªJavaScriptæ–‡ä»¶ï¼Œå¹¶ä¿è¯å®ƒä»¬åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸Šéƒ½èƒ½å¤ŸæŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ‰§è¡Œã€‚ æ€»ç»“å‡ ç§å‡å°‘JavaScriptå¯¹æ€§èƒ½çš„å½±å“çš„æ–¹æ³•ï¼š1ï¼‰å°†æ‰€æœ‰&lt;script&gt;æ ‡ç­¾æ”¾ç½®åœ¨é¡µé¢çš„åº•éƒ¨ï¼Œç´§é bodyå…³é—­æ ‡ç­¾&lt;/body&gt;ä¸Šæ–¹ï¼›2ï¼‰å°†è„šæœ¬æˆç»„æ‰“åŒ…ã€‚é¡µé¢&lt;script&gt;æ ‡ç­¾è¶Šå°‘ï¼Œé¡µé¢åŠ è½½é€Ÿåº¦å°±è¶Šå¿«ï¼Œå“åº”ä¹Ÿæ›´åŠ è¿…é€Ÿã€‚ å‡ ç§ä½¿ç”¨éžé˜»å¡žæ–¹å¼ä¸‹è½½JavaScriptçš„æ–¹æ³•ï¼š1ï¼‰ä¸º&lt;script&gt;æ ‡ç­¾æ·»åŠ deferå±žæ€§ï¼ˆä»…é€‚ç”¨äºŽIEå’ŒFirefox3.5+ï¼‰2ï¼‰åŠ¨æ€åˆ›å»º&lt;script&gt;å…ƒç´ ï¼Œç”¨å®ƒä¸‹è½½å¹¶æ‰§è¡Œä»£ç 3ï¼‰ç”¨XHRå¯¹è±¡ä¸‹è½½ä»£ç ï¼Œå¹¶æ³¨å…¥åˆ°é¡µé¢ä¸­ ç¬¬äºŒç«  æ•°æ®è®¿é—®åœ¨JavaScriptä¸­æœ‰å››ç§åŸºæœ¬çš„æ•°æ®è®¿é—®ä½ç½®ï¼š1.ç›´æŽ¥é‡ç›´æŽ¥é‡ä»…ä»…ä»£è¡¨è‡ªå·±ï¼Œè€Œä¸å­˜å‚¨äºŽç‰¹å®šä½ç½®ã€‚JavaScriptçš„ç›´æŽ¥é‡åŒ…æ‹¬ï¼šå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ï¼Œå‡½æ•°ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„ç©ºå€¼ï¼Œä»¥åŠæœªå®šä¹‰ã€‚ 2.å˜é‡å¼€å‘äººå‘˜ä½¿ç”¨varå…³é”®å­—åˆ›å»ºç”¨äºŽå­˜å‚¨æ•°æ®å€¼ 3.æ•°ç»„é¡¹å…·æœ‰æ•°å­—ç´¢å¼•ï¼Œå­˜å‚¨ä¸€ä¸ªJavaScriptæ•°ç»„å¯¹è±¡ã€‚ 4.å¯¹è±¡æˆå‘˜å…·æœ‰å­—ç¬¦ä¸²ç´¢å¼•ï¼Œå­˜å‚¨ä¸€ä¸ªJavaScriptå¯¹è±¡ã€‚ æ¯ä¸€ç§æ•°æ®å­˜å‚¨ä½ç½®éƒ½å…·æœ‰ç‰¹å®šçš„è¯»å†™æ“ä½œè´Ÿæ‹…ã€‚ç›´æŽ¥é‡å’Œå±€éƒ¨å˜é‡çš„è®¿é—®é€Ÿåº¦è¦è¿œå¤§äºŽæ•°ç»„é¡¹å’Œå¯¹è±¡æˆå‘˜çš„è®¿é—®é€Ÿåº¦ã€‚ ç®¡ç†ä½œç”¨åŸŸä½œç”¨åŸŸé“¾å’Œæ ‡è¯†ç¬¦è§£æžæ¯ä¸€ä¸ªJavaScriptå‡½æ•°éƒ½è¢«è¡¨ç¤ºä¸ºå¯¹è±¡ã€‚è¿›ä¸€æ­¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°å®žä¾‹ã€‚å‡½æ•°å¯¹è±¡å¦‚å…¶ä»–å¯¹è±¡é‚£æ ·ï¼Œæ‹¥æœ‰å¯ä»¥ç¼–ç¨‹è®¿é—®çš„å±žæ€§ï¼Œå’Œä¸€ç³»åˆ—ä¸èƒ½è¢«ç¨‹åºè®¿é—®ï¼Œä»…ä¾›JavaScriptå¼•æ“Žä½¿ç”¨çš„å†…éƒ¨å±žæ€§ã€‚å…¶ä¸­ä¸€ä¸ªå†…éƒ¨å±žæ€§å°±æ˜¯[[Scope]]ã€‚å†…éƒ¨[[Scope]]å±žæ€§åŒ…å«ä¸€ä¸ªå‡½æ•°è¢«åˆ›å»ºçš„ä½œç”¨åŸŸä¸­å¯¹è±¡çš„é›†åˆã€‚æ­¤é›†åˆè¢«ç§°ä¸ºå‡½æ•°çš„ä½œç”¨åŸŸé“¾ï¼Œå®ƒå†³å®šå“ªäº›æ•°æ®å¯ç”±å‡½æ•°è®¿é—®ã€‚æ­¤å‡½æ•°ä½œç”¨åŸŸé“¾ä¸­çš„æ¯ä¸ªå¯¹è±¡è¢«ç§°ä¸ºä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œæ¯ä¸ªå¯å˜å¯¹è±¡éƒ½ä»¥â€œé”®å€¼å¯¹â€çš„å½¢å¼å­˜åœ¨ã€‚å½“ä¸€ä¸ªå‡½æ•°åˆ›å»ºåŽï¼Œå®ƒçš„ä½œç”¨åŸŸé“¾è¢«å¡«å……ä»¥å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä»£è¡¨åˆ›å»ºæ­¤å‡½æ•°çš„çŽ¯å¢ƒä¸­å¯è®¿é—®çš„æ•°æ®ã€‚ åœ¨å‡½æ•°è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯é‡åˆ°ä¸€ä¸ªå˜é‡ï¼Œæ ‡è¯†ç¬¦è¯†åˆ«è¿‡ç¨‹è¦å†³å®šä»Žå“ªé‡ŒèŽ·å¾—æˆ–è€…å­˜å‚¨æ•°æ®ã€‚æ­¤è¿‡ç¨‹æœç´¢è¿è¡ŒæœŸä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼ŒæŸ¥æ‰¾åŒåçš„æ ‡è¯†ç¬¦ã€‚ æ ‡è¯†ç¬¦è¯†åˆ«æ€§èƒ½åœ¨è¿è¡Œå‰ä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ä¸­ï¼Œä¸€ä¸ªæ ‡è¯†ç¬¦æ‰€å¤„çš„ä½ç½®è¶Šæ·±ï¼Œå®ƒçš„è¯»å†™é€Ÿåº¦å°±è¶Šæ…¢ã€‚å…¨å±€å˜é‡æ€»æ˜¯å¤„äºŽè¿è¡ŒæœŸä¸Šä¸‹æ–‡ä½œç”¨åŸŸé“¾çš„æœ€åŽä¸€ä¸ªä½ç½®ï¼Œæ‰€ä»¥æ€»æ˜¯æœ€è¿œæ‰èƒ½è§¦åŠçš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦å°½é‡å‡å°‘å…¨å±€å˜é‡çš„åŽŸå› ä¹‹ä¸€ã€‚ åœ¨æ²¡æœ‰ä¼˜åŒ–JavaScriptå¼•æ“Žçš„æµè§ˆå™¨ä¸­ï¼Œæœ€å¥½å°½å¯èƒ½ä½¿ç”¨å±€éƒ¨å˜é‡ã€‚ä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ï¼šç”¨å±€éƒ¨å˜é‡å­˜å‚¨æœ¬åœ°èŒƒå›´ä¹‹å¤–çš„å˜é‡å€¼ï¼Œå¦‚æžœä»–ä»¬åœ¨å‡½æ•°ä¸­ä½¿ç”¨å¤šäºŽä¸€æ¬¡ï¼Œè€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š123456789101112131415function initUI()&#123; var bd = document.body, links = document.getElementsByTagname("a"), i=0, len = links,length; while(i&lt;len)&#123; update(links[i++]); &#125; document.getElementById("go-btn").onclick = function()&#123; start(); &#125;; bd.className = "active";&#125; ä»¥ä¸Šä»£ç ä¸­ï¼ŒåŒ…å«äº†ä¸‰ä¸ªå¯¹documentçš„å¼•ç”¨ã€‚å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•å‡è½»é‡å¤çš„å…¨å±€å˜é‡è®¿é—®å¯¹æ€§èƒ½çš„å½±å“ï¼šé¦–å…ˆå°†å…¨å±€å˜é‡çš„å¼•ç”¨å­˜å‚¨åœ¨ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸­ï¼Œç„¶åŽä½¿ç”¨è¿™ä¸ªå±€éƒ¨å˜é‡ä»£æ›¿å…¨å±€å˜é‡ã€‚ æ”¹å˜ä½œç”¨åŸŸé“¾ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªè¿è¡Œå‰ä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ä¸ä¼šè¢«æ”¹å˜ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸¤ç§è¡¨è¾¾å¼å¯ä»¥åœ¨è¿è¡Œæ—¶ä¸´æ—¶æ”¹å˜è¿è¡ŒæœŸä¸Šä¸‹æ–‡ä½œç”¨åŸŸé“¾ã€‚ç¬¬ä¸€ä¸ªæ˜¯withè¡¨è¾¾å¼ï¼š12345678910111213141516function initUI()&#123; with(document)&#123; // åº”è¯¥é¿å…ä½¿ç”¨ var bd = body, links = getElementsByTagname("a"), i=0, len = links,length; while(i&lt;len)&#123; update(links[i++]); &#125; getElementById("go-btn").onclick = function()&#123; start(); &#125;; bd.className = "active"; &#125;&#125; é‡å†™åŽçš„initUI()ç‰ˆæœ¬ä½¿ç”¨äº†with()è¡¨è¾¾å¼ï¼Œé¿å…äº†å¤šæ¬¡ä¹¦å†™â€œdocumentâ€ã€‚çœ‹èµ·æ¥ä¼¼ä¹Žæ›´æœ‰æ•ˆçŽ‡ï¼Œå®žé™…ä¸Šå´äº§ç”Ÿäº†ä¸€ä¸ªæ€§èƒ½é—®é¢˜ï¼š å½“ä»£ç æµæ‰§è¡Œåˆ°ä¸€ä¸ªwithè¡¨è¾¾å¼æ—¶ï¼Œè¿è¡Œå‰ä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾è¢«ä¸´æ—¶æ”¹å˜äº†ã€‚ä¸€ä¸ªæ–°çš„å¯å˜å¯¹è±¡å°†è¢«åˆ›å»ºï¼Œå®ƒåŒ…æ‹¬æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰å±žæ€§ã€‚æ­¤å¯¹è±¡è¢«æ’å…¥åˆ°ä½œç”¨åŸŸé“¾çš„å‰ç«¯ï¼Œæ„å‘³ç€çŽ°åœ¨å‡½æ•°çš„æ‰€æœ‰å±€éƒ¨å˜é‡éƒ½è¢«æŽ¨å…¥ç¬¬äºŒä¸ªä½œç”¨åŸŸé“¾å¯¹è±¡ä¸­ï¼Œæ‰€ä»¥è®¿é—®ä»£ä»·æ›´é«˜äº†ã€‚ ç¬¬äºŒä¸ªæ˜¯try-catchè¡¨è¾¾å¼çš„catchå­å¥ï¼šå½“tryå—å‘ç”Ÿé”™è¯¯æ—¶ï¼Œç¨‹åºæµç¨‹è‡ªåŠ¨è½¬å…¥catchå—ï¼Œå¹¶å°†å¼‚å¸¸å¯¹è±¡æŽ¨å…¥ä½œç”¨åŸŸé“¾å‰ç«¯çš„ä¸€ä¸ªå¯å˜å¯¹è±¡ä¸­ã€‚12345try&#123; //some error&#125;catch&#123; //alert error&#125; æ³¨æ„ï¼Œå½“catchå­å¥æ‰§è¡Œå®Œæ¯•ï¼Œä½œç”¨åŸŸé“¾å°±ä¼šè¿”å›žåˆ°åŽŸæ¥çš„çŠ¶æ€ã€‚è‹¥æ²¡æœ‰å±€éƒ¨å˜é‡è®¿é—®ï¼Œä½œç”¨åŸŸé“¾ä¸´æ—¶æ”¹å˜å°±ä¸ä¼šå½±å“ä»£ç çš„æ€§èƒ½ã€‚ åŠ¨æ€ä½œç”¨åŸŸæ— è®ºæ˜¯withè¡¨è¾¾å¼è¿˜æ˜¯try-catchè¡¨è¾¾å¼çš„catchå­å¥ï¼Œä»¥åŠåŒ…å«()çš„å‡½æ•°ï¼Œéƒ½è¢«è®¤ä¸ºæ˜¯åŠ¨æ€ä½œç”¨åŸŸã€‚åŠ¨æ€ä½œç”¨åŸŸåªå› ä»£ç è¿è¡Œè€Œå­˜åœ¨ï¼Œå› æ­¤æ— æ³•é€šè¿‡é™æ€åˆ†æžï¼ˆæŸ¥çœ‹ä»£ç ç»“æž„ï¼‰æ¥ç¡®å®šæ˜¯å¦å­˜åœ¨åŠ¨æ€ä½œç”¨åŸŸã€‚ é—­åŒ…ï¼Œä½œç”¨åŸŸå’Œå†…å­˜é—­åŒ…æ˜¯JavaScriptæœ€å¼ºå¤§çš„ä¸€ä¸ªæ–¹é¢ï¼Œå®ƒå…è®¸å‡½æ•°è®¿é—®å±€éƒ¨èŒƒå›´ä¹‹å¤–çš„æ•°æ®ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿä½¿å¾—å˜é‡å¸¸é©»å†…å­˜ä¸­ï¼Œå®žçŽ°ç¼“å­˜ã€‚ä¸è¿‡ï¼Œæœ‰ä¸€ä¸ªæ€§èƒ½å½±å“ä¸Žé—­åŒ…æœ‰å…³ã€‚ç”±äºŽé—­åŒ…çš„[[Scope]]å±žæ€§åŒ…å«äºŽè¿è¡Œå‰ä¸Šä¸‹æ–‡ä½œç”¨åŸŸé“¾ç›¸åŒçš„å¯¹è±¡å¼•ç”¨ï¼Œä¼šäº§ç”Ÿå‰¯ä½œç”¨ã€‚é€šå¸¸ï¼Œä¸€ä¸ªå‡½æ•°çš„æ¿€æ´»å¯¹è±¡ä¸Žè¿è¡ŒæœŸä¸Šä¸‹æ–‡ä¸€åŒé”€æ¯ï¼Œå½“æ¶‰åŠé—­åŒ…æ—¶ï¼Œæ¿€æ´»å¯¹è±¡å°±æ— æ³•é”€æ¯äº†ï¼Œå› ä¸ºå¼•ç”¨ä»ç„¶å­˜åœ¨äºŽé—­åŒ…[[Scope]]å±žæ€§ä¸­ï¼Œè¿™å°±å¯¼è‡´äº†é—­åŒ…ä¼šéœ€è¦æ›´å¤šçš„å†…å­˜å¼€é”€ã€‚ é—­åŒ…æœ€ä¸»è¦çš„æ€§èƒ½å…³æ³¨ç‚¹ï¼šç»å¸¸è®¿é—®ä¸€äº›èŒƒå›´ä¹‹å¤–çš„æ ‡è¯†ç¬¦ï¼Œæ¯æ¬¡è®¿é—®éƒ½å¯¼è‡´ä¸€äº›æ€§èƒ½æŸå¤±ã€‚ å°ç»“ï¼šä¸ºäº†å‡è½»å¯¹è¿è¡Œé€Ÿåº¦çš„å½±å“ï¼Œåº”å°†å¸¸ç”¨çš„åŸŸå¤–å˜é‡å­˜å…¥å±€éƒ¨å˜é‡ä¸­ï¼Œç„¶åŽç›´æŽ¥è®¿é—®å±€éƒ¨å˜é‡ã€‚ å¯¹è±¡æˆå‘˜å¤§å¤šæ•°JavaScriptä»£ç ä»¥é¢å‘å¯¹è±¡çš„å½¢å¼ç¼–å†™ã€‚å¯¹è±¡çš„ä¸€ä¸ªå‘½åæˆå‘˜å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ç±»åž‹ã€‚å½“ä¸€ä¸ªå‘½åæˆå‘˜å¼•ç”¨äº†ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒè¢«ç§°ä½œä¸€ä¸ªæ–¹æ³•ï¼Œè€Œä¸€ä¸ªéžå‡½æ•°çš„æ•°æ®åˆ™è¢«ç§°ä¸ºå±žæ€§ã€‚ åŽŸåž‹JavaScriptä¸­çš„å¯¹è±¡æ˜¯åŸºäºŽåŽŸåž‹çš„ã€‚åŽŸåž‹æ˜¯å…¶ä»–å¯¹è±¡çš„åŸºç¡€ï¼Œå®šä¹‰å¹¶å®žçŽ°äº†ä¸€ä¸ªæ–°å¯¹è±¡æ‰€å¿…é¡»å…·æœ‰çš„æˆå‘˜ã€‚åŽŸåž‹å¯¹è±¡ä¸ºæ‰€æœ‰ç»™å®šç±»åž‹çš„å¯¹è±¡å®žä¾‹æ‰€å…±äº«ï¼Œå› æ­¤æ‰€æœ‰å®žä¾‹å…±äº«åŽŸåž‹å¯¹è±¡çš„æˆå‘˜ã€‚ä¸€ä¸ªå¯¹è±¡é€šè¿‡ä¸€ä¸ªå†…éƒ¨å±žæ€§ç»‘å®šåˆ°å®ƒçš„åŽŸåž‹ï¼ŒFirefoxï¼ŒSafariå’ŒChromeæ”¯æŒè¿™ä¸€å±žæ€§ï¼šprotoï¼›å…¶ä»–æµè§ˆå™¨ä¸å…è®¸è„šæœ¬è®¿é—®è¿™ä¸€å±žæ€§ã€‚ä»»ä½•æ—¶å€™åˆ›å»ºä¸€ä¸ªå†…ç½®ç±»åž‹çš„å®žä¾‹ï¼Œè¿™äº›å®žä¾‹è‡ªåŠ¨æ‹¥æœ‰ä¸€ä¸ªObjectä½œä¸ºå®ƒä»¬çš„åŽŸåž‹ã€‚ å¯¹è±¡æœ‰ä¸¤ç§æˆå‘˜ï¼šå®žä¾‹æˆå‘˜å’ŒåŽŸåž‹æˆå‘˜ã€‚å®žä¾‹æˆå‘˜ç›´æŽ¥å­˜åœ¨äºŽå®žä¾‹è‡ªèº«ï¼Œè€ŒåŽŸåž‹æˆå‘˜åˆ™ä»Žå¯¹è±¡åŽŸåž‹ç»§æ‰¿ã€‚å¤„ç†å¯¹è±¡æˆå‘˜çš„è¿‡ç¨‹ï¼šå½“å¯¹è±¡çš„æŸä¸ªæˆå‘˜è¢«è°ƒç”¨æ—¶ï¼Œå¯¹æˆå‘˜è¿›è¡Œæœç´¢ï¼Œå…ˆä»Žå¯¹è±¡å®žä¾‹å¼€å§‹ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è½¬å‘æœç´¢åŽŸåž‹å¯¹è±¡ã€‚ é€šè¿‡hasOwnProperty()å‡½æ•°ç¡®å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰ç‰¹å®šåç§°çš„å®žä¾‹æˆå‘˜ï¼Œè‹¥æ˜¯ä¸ºå®žä¾‹æˆå‘˜åˆ™è¿”å›žtrueï¼Œè‹¥ä¸ºåŽŸåž‹æˆå‘˜åˆ™è¿”å›žfalseã€‚é€šè¿‡inæ“ä½œç¬¦å¯ä»¥ç¡®å®šå¯¹è±¡æ˜¯å¦å…·æœ‰æŸä¸ªåç§°çš„æˆå‘˜ï¼Œå®žä¾‹æˆå‘˜å’ŒåŽŸåž‹æˆå‘˜éƒ½ä¼šè¢«è¿”å›žtrueã€‚ åŽŸåž‹é“¾å¯¹è±¡çš„åŽŸåž‹å†³å®šäº†ä¸€ä¸ªå®žä¾‹çš„ç±»åž‹ã€‚åœ¨åŽŸåž‹é“¾ä¸Šæœç´¢æˆå‘˜ï¼Œæ¯æ·±å…¥ä¸€å±‚éƒ½ä¼šå¢žåŠ æ€§èƒ½æŸå¤±ã€‚ åµŒå¥—æˆå‘˜ç”±äºŽå¯¹è±¡æˆå‘˜å¯èƒ½åŒ…å«å…¶ä»–æˆå‘˜ï¼Œä¾‹å¦‚ï¼šwindow.location.hrefã€‚æ¯é‡åˆ°ä¸€ä¸ªç‚¹å·ï¼ŒJavaScriptå¼•æ“Žå°±è¦åœ¨å¯¹è±¡æˆå‘˜ä¸Šæ‰§è¡Œä¸€æ¬¡è§£æžè¿‡ç¨‹ã€‚åº”å°½é‡é¿å…ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼ŒåŒæ—¶åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä¸åº”è¯¥å¤šæ¬¡è¯»å–åŒä¸€ä¸ªå¯¹è±¡æˆå‘˜çš„å€¼ï¼Œåº”å°†è¯¥å¯¹è±¡æˆå‘˜çš„å€¼ä¿å­˜åœ¨ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸­ã€‚ æ€»ç»“JavaScriptä¸­æœ‰å››ç§æ•°æ®è®¿é—®ç±»åž‹ï¼šç›´æŽ¥é‡ï¼Œå˜é‡ï¼Œæ•°ç»„é¡¹ï¼Œå¯¹è±¡æˆå‘˜ã€‚ç›´æŽ¥é‡å’Œå±€éƒ¨å˜é‡è®¿é—®é€Ÿåº¦éžå¸¸å¿«ï¼Œæ•°ç»„é¡¹å’Œå¯¹è±¡æˆå‘˜éœ€è¦æ›´é•¿æ—¶é—´ã€‚å±€éƒ¨å˜é‡æ¯”åŸŸå¤–å˜é‡å¿«ï¼Œå› ä¸ºå±€éƒ¨å˜é‡ä½äºŽä½œç”¨åŸŸé“¾çš„ç¬¬ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚å…¨å±€å˜é‡æ€»æ˜¯æœ€æ…¢çš„ï¼Œå› ä¸ºå®ƒä»¬æ€»æ˜¯ä½äºŽä½œç”¨åŸŸé“¾çš„æœ€åŽä¸€çŽ¯ã€‚è¦é¿å…ä½¿ç”¨withè¡¨è¾¾å¼å’Œtry-catchè¡¨è¾¾å¼çš„catchå­å¥ï¼Œå› ä¸ºå®ƒä»¬æ”¹å˜äº†è¿è¡Œå‰ä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ã€‚æé«˜JavaScriptä»£ç æ€§èƒ½çš„æ–¹æ³•ï¼šå°†ç»å¸¸ä½¿ç”¨çš„å¯¹è±¡æˆå‘˜ï¼Œæ•°ç»„é¡¹å’ŒåŸŸå¤–å˜é‡å­˜å…¥å±€éƒ¨å˜é‡ä¸­ï¼Œè®¿é—®å±€éƒ¨å˜é‡çš„é€Ÿåº¦å›žå¿«äºŽé‚£äº›åŽŸå§‹å˜é‡ã€‚ ç¬¬ä¸‰ç«  DOMç¼–ç¨‹å¯¹DOMæ“ä½œä»£ä»·æ˜‚è´µï¼Œåœ¨å¯Œç½‘é¡µåº”ç”¨ä¸­é€šå¸¸æ˜¯ä¸€ä¸ªç“¶é¢ˆã€‚ä¸»è¦æœ‰ä¸‰ä¸ªæ–¹é¢ï¼š1.è®¿é—®å’Œä¿®æ”¹DOMå…ƒç´ ï¼› 2.ä¿®æ”¹DOMå…ƒç´ çš„æ ·å¼ï¼Œé€ æˆé‡ç»˜å’Œé‡æ–°æŽ’ç‰ˆï¼› 3.é€šè¿‡DOMäº‹ä»¶å¤„ç†ç”¨æˆ·å“åº” DOMï¼Œå³æ–‡æ¡£å¯¹è±¡æ¨¡åž‹ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹äºŽè¯­è¨€çš„ï¼Œä½¿ç”¨XMLå’ŒHTMLæ–‡æ¡£æ“ä½œçš„åº”ç”¨ç¨‹åºæŽ¥å£ï¼ˆAPIï¼‰ã€‚ è®¿é—®å’Œä¿®æ”¹æµè§ˆå™¨é€šå¸¸è¦æ±‚DOMå®žçŽ°å’ŒJavaScriptå®žçŽ°ä¿æŒç›¸äº’ç‹¬ç«‹ã€‚è¿™æ ·ä¸¤ä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ä»¥åŠŸèƒ½æŽ¥å£è¿žæŽ¥å°±ä¼šå¸¦æ¥æ€§èƒ½æŸè€—ã€‚åº”å°½é‡å‡å°‘å¯¹DOMçš„æ“ä½œæ¬¡æ•°ï¼Œå°½é‡ä¿æŒåœ¨ECMAScriptä¸­ã€‚ä¿®æ”¹å…ƒç´ çš„ä»£ä»·æ›´æ˜‚è´µï¼Œå› ä¸ºå®ƒç»å¸¸å¯¼è‡´æµè§ˆå™¨é‡æ–°è®¡ç®—é¡µé¢çš„å‡ ä½•å˜åŒ–ã€‚æœ€åçš„æƒ…å†µæ˜¯ä½¿ç”¨å¾ªçŽ¯æ‰§è¡Œè®¿é—®æˆ–ä¿®æ”¹å…ƒç´ ï¼Œç‰¹åˆ«æ˜¯åœ¨HTMLé›†åˆä¸­ä½¿ç”¨å¾ªçŽ¯ã€‚12345function innerHTMLLoop()&#123; for(var count = 0; count &lt; 15000; count++)&#123; document.getElementById("here").innerHTML += "a"; &#125;&#125; ä¿®æ”¹å¦‚ä¸‹,ä½¿ç”¨å±€éƒ¨å˜é‡ä¿å­˜æ›´æ–°åŽçš„å†…å®¹ï¼Œåœ¨å¾ªçŽ¯ç»“æŸæ—¶ä¸€æ¬¡æ€§å†™å…¥ï¼š1234567function innerHTMLLoop()&#123; var content = ""; for(var count = 0; count &lt; 15000; count++)&#123; content +="a"; &#125; document.getElementById("here").innerHTML += content;&#125; innerHTML ä¸Ž DOMæ–¹æ³•æ¯”è¾ƒä¸¤è€…æ€§èƒ½ç›¸å·®ä¸å¤§ï¼Œä½†è‹¥è¦æ›´æ–°ä¸€å¤§å—HTMLé¡µé¢ï¼ŒinnerHTMLåœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­æ‰§è¡Œæ›´å¿«ã€‚ èŠ‚ç‚¹å…‹éš†ä½¿ç”¨DOMæ–¹æ³•æ›´æ–°é¡µé¢å†…å®¹çš„å¦ä¸€ä¸ªé€”å¾„æ˜¯å…‹éš†å·²æœ‰DOMå…ƒç´ ï¼Œè€Œä¸æ˜¯åˆ›å»ºæ–°çš„ï¼Œå³ä½¿ç”¨element.cloneNode()ä»£æ›¿document.createElement()ã€‚ç”¨å…‹éš†èŠ‚ç‚¹çš„æ–¹æ³•é‡æ–°ç”Ÿæˆä¸€ä¸ªè¡¨æ ¼ï¼Œå•å…ƒæ ¼åªåˆ›å»ºä¸€æ¬¡ï¼Œç„¶åŽé‡å¤æ‰§è¡Œå¤åˆ¶æ“ä½œï¼Œè¿™æ ·åšèƒ½å¤Ÿç¨å¾®å¿«äº†ä¸€ç‚¹ã€‚ HTMLé›†åˆHTMLé›†åˆæ˜¯ç”¨äºŽå­˜æ”¾DOMèŠ‚ç‚¹å¼•ç”¨çš„ç±»æ•°ç»„å¯¹è±¡ã€‚ä¸‹åˆ—å‡½æ•°è¿”å›žçš„å€¼å°±æ˜¯ä¸€ä¸ªé›†åˆï¼šdocument.getElementsByTagName();document.getElementsByClassName();//å½“ä¸‹å¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¸èƒ½ä½¿ç”¨ ä¸‹åˆ—å±žæ€§ä¹Ÿå±žäºŽHTMLé›†åˆï¼šdocument.images é¡µé¢ä¸­æ‰€æœ‰çš„&lt;img&gt;å…ƒç´ document.links é¡µé¢ä¸­æ‰€æœ‰çš„&lt;a&gt;å…ƒç´ document.forms é¡µé¢ä¸­æ‰€æœ‰çš„&lt;form&gt;è¡¨å•document.forms[0].elements é¡µé¢ä¸­ç¬¬ä¸€ä¸ªè¡¨å•çš„æ‰€æœ‰å­—æ®µ HTMLé›†åˆæ˜¯ä¸€ç§ç±»ä¼¼æ•°ç»„çš„åˆ—è¡¨ï¼Œä½†ä¸æ˜¯æ•°ç»„ï¼Œæ²¡æœ‰æ•°ç»„çš„push()æˆ–slice()ä¹‹ç±»çš„æ–¹æ³•ï¼Œä½†æä¾›äº†lengthå±žæ€§ã€‚ä¹Ÿå¯ä»¥å’Œæ•°ç»„ä¸€æ ·é€šè¿‡ä¸‹æ ‡ç´¢å¼•è®¿é—®åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚HTMLé›†åˆå®žé™…ä¸Šåœ¨æŸ¥è¯¢æ–‡æ¡£ï¼Œå½“ä½ æ›´æ–°ä¿¡æ¯æ—¶ï¼Œæ¯æ¬¡éƒ½è¦é‡å¤æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œæ•ˆçŽ‡å¾ˆä½Žã€‚åœ¨é›†åˆéåŽ†æˆ–æ•°ç»„éåŽ†æ—¶ï¼Œå°†lengthå±žæ€§å­˜å…¥ä¸€ä¸ªå˜é‡ä¸­ï¼Œä»Žè€Œæå‡è¿è¡Œé€Ÿåº¦ã€‚ è®¿é—®é›†åˆå…ƒç´ æ—¶ä½¿ç”¨å±€éƒ¨å˜é‡ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºŽä»»ä½•ç±»åž‹çš„DOMè®¿é—®ï¼Œå¦‚æžœåŒä¸€ä¸ªDOMå±žæ€§æˆ–æ–¹æ³•è¢«è®¿é—®ä¸€æ¬¡ä»¥ä¸Šï¼Œæœ€å¥½ä½¿ç”¨ä¸€ä¸ªå±€éƒ¨å˜é‡ç¼“å­˜æ­¤DOMæˆå‘˜ã€‚å½“éåŽ†ä¸€ä¸ªé›†åˆæ—¶ï¼Œç¬¬ä¸€ä¸ªä¼˜åŒ–æ˜¯å°†é›†åˆå¼•ç”¨å­˜å‚¨äºŽå±€éƒ¨å˜é‡ï¼Œå¹¶åœ¨å¾ªçŽ¯ä¹‹å¤–ç¼“å­˜lengthå±žæ€§ã€‚ç„¶åŽå¦‚æžœåœ¨å¾ªçŽ¯ä½“ä¸­å¤šæ¬¡è®¿é—®åŒä¸€ä¸ªé›†åˆå…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨å±€éƒ¨å˜é‡ç¼“å­˜å®ƒã€‚12345678910111213141516171819202122232425262728293031323334353637383940// slowfunction collectionGlobal() &#123; var coll = document.getElementsByTagName('div'), len = coll.length, name = ''; for (var count = 0; count &lt; len; count++) &#123; name = document.getElementsByTagName('div')[count].nodeName; name = document.getElementsByTagName('div')[count].nodeType; name = document.getElementsByTagName('div')[count].tagName; &#125; return name;&#125;;// fasterfunction collectionLocal() &#123; var coll = document.getElementsByTagName('div'), len = coll.length, name = ''; for (var count = 0; count &lt; len; count++) &#123; name = coll[count].nodeName; name = coll[count].nodeType; name = coll[count].tagName; &#125; return name;&#125;;// fastestfunction collectionNodesLocal() &#123; var coll = document.getElementsByTagName('div'), len = coll.length, name = '', el = null; for (var count = 0; count &lt; len; count++) &#123; el = coll[count]; name = el.nodeName; name = el.nodeType; name = el.tagName; &#125; return name;&#125;; DOMæ¼«è°ˆæŠ“å–DOMç»å¸¸éœ€è¦ä»Žä¸€ä¸ªDOMå…ƒç´ å¼€å§‹ï¼Œæ“ä½œå‘¨å›´çš„å…ƒç´ ï¼Œæˆ–è€…é€’å½’è¿­ä»£æ‰€æœ‰çš„å­èŠ‚ç‚¹ã€‚ä½¿ç”¨childNodesé›†åˆæˆ–è€…ä½¿ç”¨nextSiblingèŽ·å¾—æ¯ä¸ªå…ƒç´ çš„å…„å¼ŸèŠ‚ç‚¹ã€‚123456789101112131415161718function testNextSibling()&#123; var el = document.getElementById("myDiv"); var child = el.firstChild,name =""; do&#123; name = ch.nodeName; &#125;while(ch=ch.nexSibling) return name;&#125;function testChildNodes()&#123; var el = document.getElementById("myDiv"), ch = el.childNodes, len = ch.length,name=""; for(var count = 0;count &lt; len; count++)&#123; name = ch[count].nodeName; &#125; return name;&#125; åœ¨ä¸åŒæµè§ˆå™¨ä¸Šï¼ŒnextSiblingå’ŒchildNodesæ–¹æ³•çš„è¿è¡Œæ—¶é—´åŸºæœ¬ç›¸ç­‰ï¼Œä½†åœ¨IEä¸­ï¼ŒnextSiblingæ¯”childNodeså¥½ã€‚æ‰€ä»¥åœ¨IEä¸­ï¼Œç”¨nextSiblingæ›´å¥½ï¼Œå…¶ä»–æµè§ˆå™¨éšæ„ã€‚ å…ƒç´ èŠ‚ç‚¹DOMå±žæ€§è¯¸å¦‚childNodesï¼ŒfirstChildå’ŒnextSiblingä¸åŒºåˆ†å…ƒç´ èŠ‚ç‚¹å’Œå…¶ä»–ç±»åž‹èŠ‚ç‚¹ï¼Œå¦‚æ³¨é‡ŠèŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹ã€‚åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œåªæœ‰å…ƒç´ èŠ‚ç‚¹éœ€è¦è¢«è®¿é—®ï¼Œæ‰€ä»¥åœ¨å¾ªçŽ¯ä¸­ï¼Œåº”å¯¹èŠ‚ç‚¹è¿”å›žç±»åž‹è¿›è¡Œæ£€æŸ¥ï¼Œè¿‡æ»¤å‡ºéžå…ƒç´ èŠ‚ç‚¹ã€‚ä½†è¿™äº›æ£€æŸ¥å’Œè¿‡æ»¤ä¸æ˜¯å¿…è¦çš„ï¼Œè®¸å¤šæµè§ˆå™¨æä¾›äº†APIå‡½æ•°åªè¿”å›žå…ƒç´ èŠ‚ç‚¹ã€‚ é€‰æ‹©å™¨APIæœ€æ–°çš„æµè§ˆå™¨æä¾›äº†querySelectorAll()çš„åŽŸç”Ÿæµè§ˆå™¨DOMå‡½æ•°ã€‚è¯¥æ–¹æ³•æ¯”ä½¿ç”¨JavaScriptå’ŒDOMè¿­ä»£å¹¶ç¼©å°å…ƒç´ åˆ—è¡¨çš„æ–¹æ³•è¦å¿«ã€‚123var elements = document.querySelectorAll("#menu a");querySelectorAll() æŽ¥æ”¶ä¸€ä¸ªCSSé€‰æ‹©å™¨å­—ç¬¦ä¸²å‚æ•°å¹¶è¿”å›žä¸€ä¸ªNodeListâ€”â€”ç”±ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹æž„æˆçš„ç±»æ•°ç»„å¯¹è±¡ã€‚è¿˜å¯ä»¥é€šè¿‡querySelectorAll()ä¸€æ¬¡æ€§èŽ·å¾—å¤šç±»çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œè”åˆæŸ¥è¯¢ï¼š12//èŽ·å–ç±»åä¸ºwarningå’Œnoticeçš„divå…ƒç´ var errs = document.querySelectorAll("div.warning,div.notice"); å¦å¤–è¿˜æœ‰ä¸€ä¸ªquerySelector()é€‰æ‹©å™¨APIã€‚è¯¥å‡½æ•°åªè¿”å›žç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ é‡ç»˜å’Œé‡æŽ’ç‰ˆå½“æµè§ˆå™¨ä¸‹è½½å®Œæ‰€æœ‰HTMLæ ‡è®°ï¼ŒJavaScriptï¼ŒCSSï¼Œå›¾ç‰‡ä¹‹åŽï¼Œå®ƒè§£æžæ–‡ä»¶å¹¶åˆ›å»ºä¸¤ä¸ªå†…éƒ¨æ•°æ®ç»“æž„ï¼šä¸€æ£µDOMæ ‘ï¼šè¡¨ç¤ºé¡µé¢ç»“æž„ï¼›ä¸€æ£µæ¸²æŸ“æ ‘ï¼šè¡¨ç¤ºDOMèŠ‚ç‚¹å¦‚ä½•æ˜¾ç¤ºã€‚ ä¸€æ—¦DOMæ ‘å’Œæ¸²æŸ“æ ‘æž„é€ å®Œæ¯•ï¼Œæµè§ˆå™¨å°±å¯ä»¥æ˜¾ç¤ºé¡µé¢ä¸Šçš„å…ƒç´ äº†ã€‚ å½“DOMæ”¹å˜å½±å“åˆ°å…ƒç´ çš„å‡ ä½•å±žæ€§ï¼ˆå®½å’Œé«˜ï¼‰ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±žæ€§ï¼Œè€Œä¸”å…¶ä»–å…ƒç´ çš„å‡ ä½•å±žæ€§å’Œä½ç½®ä¹Ÿä¼šå› æ­¤æ”¹å˜å—åˆ°å½±å“ã€‚æµè§ˆå™¨ä½¿æ¸²æŸ“æ ‘ä¸Šå—å½±å“çš„éƒ¨åˆ†å¤±æ•ˆï¼Œç„¶åŽé‡æž„æ¸²æŸ“æ ‘ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä½œé‡æŽ’ç‰ˆã€‚ å½“åªæ”¹å˜DOMçš„æ ·å¼æ—¶ï¼ˆæ²¡æœ‰æ”¹å˜é¡µé¢å¸ƒå±€ï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦é‡ç»˜ã€‚ é‡æŽ’ç‰ˆä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ é™¤äº†å½“å¸ƒå±€å’Œå‡ ä½•æ”¹å˜æ—¶éœ€è¦é‡æŽ’ç‰ˆï¼Œä¸‹åˆ—æƒ…å†µä¹Ÿéœ€è¦é‡æŽ’ç‰ˆï¼šæ·»åŠ æˆ–åˆ é™¤å¯è§çš„DOMå…ƒç´ ï¼›å…ƒç´ ä½ç½®æ”¹å˜ï¼›å…ƒç´ å°ºå¯¸æ”¹å˜ï¼›å†…å®¹æ”¹å˜ï¼Œä¾‹å¦‚æ–‡æœ¬æ”¹å˜æˆ–å›¾ç‰‡è¢«å¦ä¸€ä¸ªä¸åŒå°ºå¯¸çš„æ‰€æ›¿ä»£ã€‚æœ€åˆçš„é¡µé¢æ¸²æŸ“ï¼›æµè§ˆå™¨çª—å£æ”¹å˜å°ºå¯¸ã€‚ æœ€å°åŒ–é‡ç»˜å’Œé‡æŽ’ç‰ˆé‡ç»˜å’Œé‡æŽ’ç‰ˆä»£ä»·æ˜‚è´µï¼Œæ‰€ä»¥ï¼Œæé«˜ç¨‹åºå“åº”é€Ÿåº¦ä¸€ä¸ªå¥½ç­–ç•¥æ˜¯å‡å°‘æ­¤ç±»æ“ä½œå‘ç”Ÿçš„æœºä¼šã€‚ä¸ºå‡å°‘å‘ç”Ÿæ¬¡æ•°ï¼Œåº”è¯¥å°†å¤šä¸ªDOMå’Œé£Žæ ¼æ”¹å˜åˆå¹¶åˆ°ä¸€ä¸ªæ‰¹æ¬¡ä¸­ä¸€æ¬¡æ€§æ‰§è¡Œã€‚å½“éœ€è¦æ”¹å˜ä¸€ä¸ªå…ƒç´ å¤šä¸ªæ ·å¼å±žæ€§æ—¶ï¼Œåº”è¯¥ä½¿ç”¨cssText()æ–¹æ³•12var el = document.getElementById('mydiv');el.style.cssText = 'border-left: 1px; border-right: 2px; padding: 5px;'; ä»¥ä¸Šä»£ç åªä¿®æ”¹DOMä¸€æ¬¡ï¼Œæé«˜äº†æ•ˆçŽ‡ã€‚è¿™ä¸ªä¾‹å­ä¸­çš„ä»£ç ä¿®æ”¹ cssText å±žæ€§ï¼Œè¦†ç›–å·²å­˜åœ¨çš„é£Žæ ¼ä¿¡æ¯ã€‚å¦‚æžœä½ æ‰“ç®—ä¿æŒå½“å‰çš„é£Žæ ¼ï¼Œä½ å¯ä»¥å°†å®ƒé™„åŠ åœ¨ cssText å­—ç¬¦ä¸²çš„åŽé¢ã€‚1el.style.cssText += '; border-left: 1px;'; æ‰¹é‡ä¿®æ”¹DOMå½“ä½ éœ€è¦å¯¹DOMå…ƒç´ è¿›è¡Œå¤šæ¬¡ä¿®æ”¹æ—¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å‡å°‘é‡ç»˜å’Œé‡æŽ’ç‰ˆçš„æ¬¡æ•°ï¼š ä»Žæ–‡æ¡£æµä¸­æ‘˜é™¤è¯¥å…ƒç´ ï¼› å¯¹å…¶åº”ç”¨å¤šé‡æ”¹å˜ï¼› å°†å…ƒç´ å¸¦å›žæ–‡æ¡£ä¸­ï¼› æ­¤è¿‡ç¨‹åªå¼•å‘äº†ä¸¤æ¬¡é‡æŽ’ç‰ˆâ€”â€”ç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥ã€‚è‹¥å¿½ç•¥è¿™ä¸¤ä¸ªæ­¥éª¤ï¼Œåˆ™ç¬¬äºŒæ­¥ä¸­æ¯æ¬¡æ”¹å˜éƒ½å°†å¼•å‘ä¸€æ¬¡é‡æŽ’ç‰ˆã€‚ æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥å°†DOMä»Žæ–‡æ¡£ä¸­æ‘˜é™¤ï¼š1ï¼‰éšè—å…ƒç´ ï¼Œè¿›è¡Œä¿®æ”¹ï¼Œç„¶åŽå†æ˜¾ç¤ºå®ƒï¼›2ï¼‰ä½¿ç”¨ä¸€ä¸ªæ–‡æ¡£ç‰‡æ®µåœ¨å·²å­˜DOMä¹‹å¤–åˆ›å»ºä¸€ä¸ªå­æ ‘ï¼Œç„¶åŽå°†å®ƒæ‹·è´åˆ°æ–‡æ¡£ä¸­ï¼›ï¼ˆæ€§èƒ½è¾ƒä¼˜ï¼‰3ï¼‰å°†åŽŸå§‹å…ƒç´ æ‹·è´åˆ°ä¸€ä¸ªè„±ç¦»æ–‡æ¡£çš„èŠ‚ç‚¹ä¸­ï¼Œä¿®æ”¹å‰¯æœ¬ï¼Œç„¶åŽè¦†ç›–åŽŸå§‹å…ƒç´ ã€‚ ç¼“å†²å¸ƒå±€ä¿¡æ¯æµè§ˆå™¨é€šè¿‡é˜Ÿåˆ—åŒ–ä¿®æ”¹å’Œæ‰¹é‡è¿è¡Œçš„æ–¹æ³•ï¼Œå°½é‡å‡å°‘é‡æŽ’ç‰ˆæ¬¡æ•°ã€‚å½“ä½ æŸ¥è¯¢å¸ƒå±€ä¿¡æ¯å¦‚åç§»é‡ã€æ»šåŠ¨æ¡ä½ç½®ï¼Œæˆ–é£Žæ ¼å±žæ€§æ—¶ï¼Œæµè§ˆå™¨åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œæ‰€æœ‰ä¿®æ”¹æ“ä½œï¼Œä»¥è¿”å›žæœ€æ–°çš„æ•°å€¼ã€‚æœ€å¥½æ˜¯å°½é‡å‡å°‘å¯¹å¸ƒå±€ä¿¡æ¯çš„æŸ¥è¯¢æ¬¡æ•°ï¼ŒæŸ¥è¯¢æ—¶å°†å®ƒèµ‹ç»™å±€éƒ¨å˜é‡ï¼Œå¹¶ç”¨å±€éƒ¨å˜é‡å‚ä¸Žè®¡ç®—ã€‚1234567var current = myElement.offsetLeft; //åªæŸ¥è¯¢äº†å¸ƒå±€ä¿¡æ¯ä¸€æ¬¡current++myElement.style.left = current + 'px';myElement.style.top = current + 'px';if (current &gt;= 500) &#123; stopAnimation();&#125; å°†å…ƒç´ æå‡ºåŠ¨ç”»æµæ˜¾ç¤ºå’Œéšè—éƒ¨åˆ†é¡µé¢æž„æˆé¡µé¢å±•å¼€/æŠ˜å åŠ¨ç”»æ˜¯ä¸€ç§å¸¸è§çš„äº¤äº’æ¨¡å¼ã€‚å®ƒé€šå¸¸åŒ…æ‹¬åŒºåŸŸæ‰©å¤§çš„å‡ ä½•åŠ¨ç”»ï¼Œå°†é¡µé¢å…¶ä»–éƒ¨åˆ†æŽ¨å‘ä¸‹æ–¹ã€‚æµè§ˆå™¨éœ€è¦é‡æŽ’ç‰ˆçš„éƒ¨åˆ†è¶Šå°ï¼Œåº”ç”¨ç¨‹åºçš„å“åº”é€Ÿåº¦å°±è¶Šå¿«ã€‚è€Œå½“ä¸€ä¸ªé¡µé¢é¡¶éƒ¨çš„åŠ¨ç”»æŽ¨ç§»äº†å·®ä¸å¤šæ•´ä¸ªé¡µé¢æ—¶ï¼Œå°†å¼•å‘å·¨å¤§çš„é‡æŽ’ç‰ˆåŠ¨ä½œï¼Œä½¿ç”¨æˆ·æ„Ÿåˆ°åŠ¨ç”»å¡é¡¿ã€‚æ¸²æŸ“æ ‘çš„å¤§å¤šæ•°èŠ‚ç‚¹éœ€è¦è¢«é‡æ–°è®¡ç®—ï¼Œå®ƒå˜å¾—æ›´ç³Ÿç³•ã€‚ ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤å¯ä»¥é¿å…å¤§éƒ¨åˆ†é¡µé¢è¿›è¡Œé‡æŽ’ç‰ˆï¼š1ï¼‰ä½¿ç”¨ç»å¯¹åæ ‡å®šä½é¡µé¢åŠ¨ç”»çš„å…ƒç´ ï¼Œä½¿å®ƒä½äºŽé¡µé¢å¸ƒå±€æµä¹‹å¤–ï¼›2ï¼‰å¯åŠ¨åŠ¨ç”»å…ƒç´ ã€‚å½“å®ƒæ‰©å¤§æ—¶ï¼Œå®ƒä¸´æ—¶è¦†ç›–éƒ¨åˆ†é¡µé¢ã€‚è¿™æ˜¯ä¸€ä¸ªé‡ç»˜çš„è¿‡ç¨‹ï¼Œä½†åªå½±å“é¡µé¢çš„ä¸€å°éƒ¨åˆ†ï¼Œé¿å…é‡æŽ’ç‰ˆå¹¶é‡ç»˜ä¸€å¤§å—åŠ¨ç”»3ï¼‰å½“åŠ¨ç”»ç»“æŸï¼Œé‡æ–°å®šä½ï¼Œä»Žè€Œåªä¸€æ¬¡ä¸‹ç§»æ–‡æ¡£å…¶ä»–å…ƒç´ çš„ä½ç½®ã€‚ è¯‘è€…æ³¨ï¼šæ–‡å­—æè¿°æ¯”è¾ƒç®€å•æ¦‚è¦ï¼Œæˆ‘å¯¹è¿™ä¸‰æ­¥çš„ç†è§£å¦‚ä¸‹ï¼š1ã€é¡µé¢é¡¶éƒ¨å¯ä»¥â€œæŠ˜å /å±•å¼€â€çš„å…ƒç´ ç§°ä½œâ€œåŠ¨ç”»å…ƒç´ â€ï¼Œç”¨ç»å¯¹åæ ‡å¯¹å®ƒè¿›è¡Œå®šä½ï¼Œå½“å®ƒçš„å°ºå¯¸æ”¹å˜æ—¶ï¼Œå°±ä¸ä¼šæŽ¨ç§»é¡µé¢ä¸­å…¶ä»–å…ƒç´ çš„ä½ç½®ï¼Œè€Œåªæ˜¯è¦†ç›–å…¶ä»–å…ƒç´ ã€‚2ã€ å±•å¼€åŠ¨ä½œåªåœ¨â€œåŠ¨ç”»å…ƒç´ â€ä¸Šè¿›è¡Œã€‚ è¿™æ—¶å…¶ä»–å…ƒç´ çš„åæ ‡å¹¶æ²¡æœ‰æ”¹å˜ï¼Œ æ¢å¥è¯è¯´ï¼Œ å…¶ä»–å…ƒç´ å¹¶æ²¡æœ‰å› ä¸ºâ€œåŠ¨ç”»å…ƒç´ â€çš„æ‰©å¤§è€Œéšä¹‹ä¸‹ç§»ï¼Œè€Œæ˜¯ä»»ç”±åŠ¨ç”»å…ƒç´ è¦†ç›–ã€‚3ã€â€œåŠ¨ç”»å…ƒç´ â€çš„åŠ¨ç”»ç»“æŸæ—¶ï¼Œå°†å…¶ä»–å…ƒç´ çš„ä½ç½®ä¸‹ç§»åˆ°åŠ¨ç”»å…ƒç´ ä¸‹æ–¹ï¼Œç•Œé¢â€œè·³â€äº†ä¸€ä¸‹ã€‚ IEå’Œ :hoverå¦‚æžœå¤§é‡ä½¿ç”¨äº†ä¼ªç±»:hoverï¼Œé‚£ä¹ˆä¼šé™ä½Žååº”é€Ÿåº¦ã€‚æ­¤é—®é¢˜åœ¨IE8ä¸­å°¤ä¸ºæ˜¾è‘—ã€‚ äº‹ä»¶æ‰˜ç®¡ï¼ˆäº‹ä»¶å§”æ‰˜ï¼‰å½“é¡µé¢ä¸­å­˜åœ¨å¤§é‡å…ƒç´ ï¼Œè€Œä¸”æ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶å¥æŸ„ä¸Žä¹‹æŒ‚æŽ¥ï¼ˆä¾‹å¦‚onclickï¼‰æ—¶ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚è¿žæŽ¥æ¯ä¸ªå¥æŸ„éƒ½æ˜¯æœ‰ä»£ä»·çš„ã€‚æŒ‚æŽ¥äº‹ä»¶å ç”¨äº†å¤„ç†æ—¶é—´ï¼Œå¦å¤–ï¼Œæµè§ˆå™¨éœ€è¦ä¿å­˜æ¯ä¸ªå¥æŸ„çš„è®°å½•ï¼Œå ç”¨æ›´å¤šå†…å­˜ã€‚äº‹ä»¶æ‰˜ç®¡åŸºäºŽè¿™æ ·ä¸€ä¸ªäº‹å®žï¼šäº‹ä»¶é€å±‚å†’æ³¡æ€»èƒ½è¢«çˆ¶å…ƒç´ æ•èŽ·ã€‚é‡‡ç”¨äº‹ä»¶æ‰˜ç®¡æŠ€æœ¯ä¹‹åŽï¼Œä½ åªéœ€è¦åœ¨ä¸€ä¸ªåŒ…è£…å…ƒç´ ä¸ŠæŒ‚æŽ¥ä¸€ä¸ªå¥æŸ„ï¼Œç”¨äºŽå¤„ç†å­å…ƒç´ å‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶ã€‚DOMäº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µï¼šæ•èŽ·é˜¶æ®µï¼Œç›®æ ‡é˜¶æ®µï¼Œå†’æ³¡é˜¶æ®µ æ€»ç»“å°†DOMå’ŒECMAScriptæ¯”ä½œä¸¤åº§å²›ï¼Œæ¯æ¬¡æ“ä½œDOMéƒ½è¦æ”¶å–â€œè¿‡è·¯è´¹â€ï¼Œå› æ­¤ä¸ºå‡å°‘DOMç¼–ç¨‹ä¸­çš„æ€§èƒ½æŸå¤±ï¼Œè®°ä½ä»¥ä¸‹å‡ ç‚¹ï¼š1ï¼‰æœ€å°åŒ–DOMè®¿é—®ï¼Œå°½é‡åœ¨JavaScriptç«¯åšå°½å¯èƒ½å¤šçš„äº‹æƒ…ï¼›2ï¼‰åœ¨åå¤è®¿é—®çš„åœ°æ–¹ä½¿ç”¨å±€éƒ¨å˜é‡å­˜æ”¾DOMå¼•ç”¨ï¼›3ï¼‰å°å¿ƒåœ°å¤„ç† HTML é›†åˆï¼Œå› ä¸ºä»–ä»¬è¡¨çŽ°å‡ºâ€œå­˜åœ¨æ€§â€ï¼Œæ€»æ˜¯å¯¹åº•å±‚æ–‡æ¡£é‡æ–°æŸ¥è¯¢ã€‚å°†é›†åˆçš„ length å±žæ€§ç¼“å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œåœ¨è¿­ä»£ä¸­ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚å¦‚æžœç»å¸¸æ“ä½œè¿™ä¸ªé›†åˆï¼Œå¯ä»¥å°†é›†åˆæ‹·è´åˆ°æ•°ç»„ä¸­ï¼›4ï¼‰åœ¨æµè§ˆå™¨å…è®¸çš„æƒ…å†µä¸‹ï¼Œå°½å¯èƒ½ä½¿ç”¨é€Ÿåº¦æ›´å¿«çš„APIï¼Œå¦‚querySelectorAllå’ŒfirstElementChildç­‰ï¼›5ï¼‰æ³¨æ„é‡ç»˜å’Œé‡æŽ’ç‰ˆï¼›æ‰¹é‡ä¿®æ”¹é£Žæ ¼ï¼ˆcssTextï¼‰,ç¦»çº¿æ“ä½œDOMï¼Œç¼“å­˜å¹¶å‡å°‘å¯¹å¸ƒå±€ä¿¡æ¯çš„è®¿é—®ï¼›6ï¼‰åŠ¨ç”»ä¸­ä½¿ç”¨ç»å¯¹å®šä½ï¼Œä½¿ç”¨æ‹–æ”¾ä»£ç†7ï¼‰ä½¿ç”¨äº‹ä»¶æ‰˜ç®¡æŠ€æœ¯æœ€å°åŒ–äº‹ä»¶å¥æŸ„æ•°é‡]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é«˜æ€§èƒ½JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆä¹ï¼‰]]></title>
    <url>%2F2017%2F05%2F18%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89%2F</url>
    <content type="text"><![CDATA[JavaScripté«˜çº§æŠ€å·§1.é«˜çº§å‡½æ•°ï¼ˆæ“ä½œå‡½æ•°çš„å‡½æ•°ï¼‰å®‰å…¨çš„ç±»åž‹æ£€æµ‹Javascriptå†…ç½®çš„ç±»åž‹æ£€æµ‹æœºåˆ¶å¹¶éžå®Œå…¨å¯é ï¼Œå¸¸è§çš„æœ‰typeofå’Œinstanceofã€‚1var isArray = value instanceof Array; ä»¥ä¸Šè¯­å¥è¦è¿”å›žtrueï¼Œvalueå¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸”è¿˜å¿…é¡»ä¸ŽArrayæž„é€ å‡½æ•°åœ¨åŒä¸ªå…¨å±€ä½œç”¨åŸŸä¸­ã€‚åœ¨ä¸€ä¸ªé¡µé¢åµŒå…¥å¤šä¸ªframeçš„æƒ…å†µä¸‹ï¼Œå¦‚æžœvalueæ˜¯åœ¨å¦ä¸ªframeä¸­å®šä¹‰çš„æ•°ç»„ï¼Œé‚£ä¹ˆä»¥ä¸Šè¯­å¥è¿”å›žfalseã€‚ è§£å†³ä¸Šè¿°é—®é¢˜çš„åŠžæ³•æ˜¯ï¼šåœ¨ä»»ä½•å€¼ä¸Šè°ƒç”¨OjectåŽŸç”Ÿçš„toString()æ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›žä¸€ä¸ª[object NativeConstructorName]æ ¼å¼å­—ç¬¦ä¸²ã€‚1alert(Object.prototype.toString.call(value)); //"[object Array]" Objectçš„toString()æ–¹æ³•ä¸èƒ½æ£€æµ‹éžåŽŸç”Ÿæž„é€ å‡½æ•°ï¼Œå› ä¸ºè‡ªå®šä¹‰çš„ä»»ä½•æž„é€ å‡½æ•°éƒ½å°†è¿”å›ž[object Object](æ­¤æ–¹æ³•å¹¶éžå®Œå…¨å¯é ï¼Œå› ä¸ºObject.prototype.toString()æ–¹æ³•ä¹Ÿå¯èƒ½è¢«ä¿®æ”¹) ä½œç”¨åŸŸå®‰å…¨çš„æž„é€ å‡½æ•°æž„é€ å‡½æ•°å…¶å®žå°±æ˜¯ä¸€ä¸ªä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨çš„å‡½æ•°ã€‚å½“newè°ƒç”¨æ—¶ï¼Œæž„é€ å‡½æ•°å†…ç”¨åˆ°çš„thiså¯¹è±¡ä¼šæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡å®žä¾‹ã€‚ä½œç”¨åŸŸå®‰å…¨çš„æž„é€ å‡½æ•°åœ¨è¿›è¡Œä»»ä½•æ›´æ”¹å‰ï¼Œé¦–å…ˆç¡®è®¤thiså¯¹è±¡æ˜¯æ­£ç¡®ç±»åž‹çš„å®žä¾‹ã€‚å¦‚æžœä¸æ˜¯ï¼Œé‚£ä¹ˆä¼šåˆ›å»ºæ–°çš„å®žä¾‹å¹¶è¿”å›žã€‚123456789function Person(name, age, job)&#123; if(this instanceof Person)&#123; this.name = name; this.age = age; this.job = job; &#125;else&#123; return new Person(name,age,job); &#125;&#125; å®žçŽ°ä¸Šè¿°çš„æ¨¡å¼åŽï¼Œä½ å°±é”å®šäº†å¯ä»¥è°ƒç”¨æž„é€ å‡½æ•°çš„çŽ¯å¢ƒã€‚å¦‚æžœä½ ä½¿ç”¨æž„é€ å‡½æ•°çªƒå–æ¨¡å¼çš„ç»§æ‰¿ä¸”ä¸ä½¿ç”¨åŽŸåž‹é“¾ï¼Œé‚£ä¹ˆè¿™ä¸ªç»§æ‰¿å¾ˆå¯èƒ½è¢«ç ´åã€‚ï¼ˆæž„é€ å‡½æ•°çªƒå–æ¨¡å¼æ˜¯å¸¸è§çš„ä¸€ç§å®žçŽ°JavaScriptç»§æ‰¿çš„æ–¹æ³•ï¼Œåšæ³•æ˜¯åœ¨â€å­ç±»â€œçš„æž„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•°ä»¥å®žçŽ°ç»§æ‰¿çˆ¶ç±»å±žæ€§ã€‚ï¼‰123456789101112131415161718192021function Polygon(sides)&#123; if(this instanceof Polygon)&#123; this.sides = sides; this.getArea = function()&#123; return 0; &#125; &#125;else&#123; return new Polygon(sides); &#125;&#125;function Rectangle(width,height)&#123; Polygon.call(this,2);//æž„é€ å‡½æ•°çªƒå–æ¨¡å¼ this.width = width; this.height = height; this.getArea = function()&#123; return this.width * this.height; &#125;&#125;var rect = new Rectangle(5,10);alert(rect.sides); //undefined Polygonæž„é€ å‡½æ•°æ˜¯ä½œç”¨åŸŸå®‰å…¨çš„ï¼Œä½†Rectangleæž„é€ å‡½æ•°ä¸æ˜¯ã€‚Rectangleæž„é€ å‡½æ•°ä¸­çš„thiså¹¶æ²¡æœ‰å¾—åˆ°å¢žé•¿ï¼Œé€šè¿‡Polygon.call()è¿”å›žçš„å€¼æ²¡æœ‰ç”¨åˆ°ï¼Œæ‰€ä»¥Rectangleå®žä¾‹ä¸­ä¸ä¼šæœ‰sideså±žæ€§ã€‚ è§£å†³æ–¹æ³•ï¼šæž„é€ å‡½æ•°çªƒå–ç»“åˆä½¿ç”¨åŽŸåž‹é“¾æˆ–è€…å¯„ç”Ÿç»„åˆ123456789101112131415161718192021222324function Polygon(sides)&#123; if(this instanceof Polygon)&#123; this.sides = sides; this.getArea = function()&#123; return 0; &#125; &#125;else&#123; return new Polygon(sides); &#125;&#125;function Rectangle(width,height)&#123; Polygon.call(this,2); this.width = width; this.height = height; this.getArea = function()&#123; return this.width * this.height; &#125;&#125;Rectangle.prototype = new Polygon();var rect = new Rectangle(5,10);alert(rect.sides); //2 æƒ°æ€§è½½å…¥å‡½æ•°æƒ°æ€§è½½å…¥è¡¨ç¤ºå‡½æ•°æ‰§è¡Œçš„åˆ†æ”¯ä»…ä¼šå‘ç”Ÿä¸€æ¬¡ã€‚æœ‰ä¸¤ç§å®žçŽ°æƒ°æ€§è½½å…¥çš„æ–¹å¼ï¼š1ï¼‰åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å†å¤„ç†å‡½æ•°åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œè¯¥å‡½æ•°ä¼šè¢«è¦†ç›–ä¸ºå¦ä¸€ä¸ªæŒ‰åˆé€‚æ–¹å¼æ‰§è¡Œçš„å‡½æ•°ï¼Œè¿™æ ·ä»»ä½•å¯¹åŽŸå‡½æ•°çš„è°ƒç”¨éƒ½ä¸ç”¨å†ç»è¿‡æ‰§è¡Œçš„åˆ†æ”¯äº†ã€‚ä»¥åˆ›å»ºXHRå¯¹è±¡çš„createXHR()å‡½æ•°ä¸ºä¾‹1234567891011121314151617181920212223242526272829function createXHR()&#123; if(typeof XMLHttpRequest != "undefined")&#123; createXHR = function()&#123; return new XMLHttpRequest(); &#125;; &#125;else if(typeof ActiveXObject != "undefined")&#123; createXHR =function()&#123; if(typeof arguments.callee.activeXString != "string")&#123; var versions = ["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"], i,len; for(i=0,len=versions.length; i &lt; len; i++)&#123; try&#123; new ActiveXObject(version[i]); arguments.callee.activeXString = versions[i]; break; &#125;catch(ex)&#123; //... &#125; &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125;; &#125;else&#123; createXHR = function()&#123; throw new Error("No XHR object available."); &#125;; &#125; return createXHR;&#125; åœ¨è¿™ä¸ªæƒ°æ€§è½½å…¥çš„createXHR()ä¸­ï¼Œifè¯­å¥çš„æ¯ä¸€ä¸ªåˆ†æ”¯éƒ½ä¼šä¸ºcreateXHRå˜é‡èµ‹å€¼ï¼Œæœ‰æ•ˆè¦†ç›–äº†åŽŸæœ‰çš„å‡½æ•°ï¼Œæœ€åŽä¸€æ­¥å°±æ˜¯è°ƒç”¨æ–°èµ‹çš„å‡½æ•°ï¼Œä¸‹æ¬¡è°ƒç”¨createXHR()æ—¶å€™ï¼Œå°±ä¼šç›´æŽ¥è°ƒç”¨è¢«åˆ†é…çš„å‡½æ•°ã€‚ 2ï¼‰åœ¨å£°æ˜Žå‡½æ•°æ—¶å°±æŒ‡å®šé€‚å½“çš„å‡½æ•°ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ä¸ä¼šæŸå¤±æ€§èƒ½ï¼Œè€Œåœ¨ä»£ç é¦–æ¬¡åŠ è½½æ—¶ä¼šæŸå¤±ä¸€ç‚¹æ€§èƒ½ã€‚12345678910111213141516171819202122232425262728var createXHR = (function createXHR()&#123; if(typeof XMLHttpRequest != "undefined")&#123; return function()&#123; return new XMLHttpRequest(); &#125;; &#125;else if(typeof ActiveXObject != "undefined")&#123; return function()&#123; if(typeof arguments.callee.activeXString != "string")&#123; var versions = ["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"], i,len; for(i = 0,len = versions.length; i &lt; len; i++)&#123; try&#123; new ActiveXObject(version[i]); arguments.callee.activeXString = versions[i]; break; &#125;catch(ex)&#123; //... &#125; &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125;; &#125;else&#123; return function()&#123; throw new Error("No XHR object available."); &#125;; &#125;&#125;)(); è¿™ç§æ–¹æ³•çš„æŠ€å·§æ˜¯åˆ›å»ºä¸€ä¸ªåŒ¿åã€è‡ªæ‰§è¡Œçš„å‡½æ•°ï¼Œç”¨ä»¥ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªå‡½æ•°å®žçŽ°ã€‚æƒ°æ€§è½½å…¥å‡½æ•°çš„ä¼˜ç‚¹æ˜¯åªåœ¨æ‰§è¡Œåˆ†æ”¯ä»£ç æ—¶ç‰ºç‰²ä¸€ç‚¹æ€§èƒ½ã€‚ å‡½æ•°ç»‘å®šå‡½æ•°ç»‘å®šè¦åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„thisçŽ¯å¢ƒä¸­ä»¥æŒ‡å®šå‚æ•°è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚12345678var handler =&#123; message : "Event handled", handleClick : function(event)&#123; alert(this.message); &#125;&#125;;var btn = document.getElementById("my-btn");EventUtil.addHandler(btn,"click",handler.handleClick); ç»“æžœè¾“å‡ºï¼šundefinedã€‚å› ä¸ºå¹¶æ²¡æœ‰ä¿å­˜handler.handleClick()çš„çŽ¯å¢ƒï¼Œæ‰€ä»¥thiså¯¹è±¡æœ€åŽæ˜¯æŒ‡å‘äº†DOMæŒ‰é’®(btn)è€Œéžhandlerï¼ˆIE8ä¸­thisæŒ‡å‘windowï¼‰ã€‚ ä½¿ç”¨é—­åŒ…æ¥ä¿®æ­£è¿™ä¸ªé—®é¢˜ï¼š12345678910var handler =&#123; message : "Event handled", handleClick : function(event)&#123; alert(this.message); &#125;&#125;;var btn = document.getElementById("my-btn");EventUtil.addHandler(btn,"click",function(event)&#123; handler.handleClick(event);&#125;); åœ¨onclickäº‹ä»¶å¤„ç†ç¨‹åºä¸­æ˜¯ç”¨æ¥é—­åŒ…æ¥ç›´æŽ¥è°ƒç”¨handler.handleClick()ï¼Œç»“æžœä¸ºæ˜¾ç¤ºEvent handledã€‚å¾ˆå¤šJavaScriptåº“ä¸­å®žçŽ°äº†ä¸€ä¸ªå¯ä»¥å°†å‡½æ•°ç»‘å®šåˆ°æŒ‡å®šçŽ¯å¢ƒçš„å‡½æ•°ï¼Œbind()ã€‚12345function bind(fn, context)&#123; return function()&#123; return fn.apply(context,arguments); &#125;;&#125; åœ¨bind()ä¸­åˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…ä½¿ç”¨apply()è°ƒç”¨ä¼ å…¥çš„å‡½æ•°ï¼Œå¹¶ç»™apply()ä¼ é€’contextå¯¹è±¡å’Œå‚æ•°ã€‚ç”¨æ³•ï¼š12345678var handler =&#123; message : "Event handled", handleClick : function(event)&#123; alert(this.message); &#125;&#125;;var btn = document.getElementById("my-btn");EventUtil.addHandler(btn,"click",bind(handler.handleClick,handler)); åœ¨ECMAScript5ä¸ºæ‰€æœ‰çš„å‡½æ•°å®šä¹‰äº†ä¸€ä¸ªåŽŸç”Ÿçš„bind()æ–¹æ³•ï¼Œå¯ä»¥ç›´æŽ¥åœ¨å‡½æ•°ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿›ä¸€æ­¥ç®€åŒ–äº†æ“ä½œã€‚1EventUtil.addHandler(btn,"click",handler.handleClick.bind(handler)); æ”¯æŒåŽŸç”Ÿbind()æ–¹æ³•çš„æµè§ˆå™¨æœ‰IE9+ã€Firefox4+å’ŒChromeã€‚ å‡½æ•°æŸ¯é‡ŒåŒ–ä¸Žå‡½æ•°ç»‘å®šç´§å¯†ç›¸å…³çš„ä¸»é¢˜æ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œå®ƒç”¨äºŽåˆ›å»ºå·²ç»è®¾ç½®å¥½äº†ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„å‡½æ•°ã€‚ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼šCurryingï¼‰ï¼Œåˆè¯‘ä¸ºå¡ç‘žåŒ–æˆ–åŠ é‡ŒåŒ–ï¼Œæ˜¯æŠŠæŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæŽ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›žæŽ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›žç»“æžœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ é€šä¿—ç‚¹è®²ï¼Œå‡½æ•°æŸ¯é‡ŒåŒ–å°±æ˜¯æŠŠå‡½æ•°å®Œå…¨å˜æˆã€ŒæŽ¥å—ä¸€ä¸ªå‚æ•°ï¼›è¿”å›žä¸€ä¸ªå€¼ã€çš„å›ºå®šå½¢å¼ã€‚ å‡½æ•°æŸ¯é‡ŒåŒ–çš„åŸºæœ¬æ–¹æ³•å’Œå‡½æ•°ç»‘å®šæ˜¯ä¸€æ ·çš„ï¼šä½¿ç”¨ä¸€ä¸ªé—­åŒ…è¿”å›žä¸€ä¸ªå‡½æ•°ã€‚ä¸¤è€…åŒºåˆ«åœ¨äºŽï¼Œå½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿”å›žçš„å‡½æ•°è¿˜éœ€è¦è®¾ç½®ä¸€äº›ä¼ å…¥çš„å‚æ•°ã€‚12345678910function add(num1, num2)&#123; return num1 + num2;&#125;function curriedAdd(num2)&#123; return add(4, num2);&#125;alert(add(2, 3)); // 5alert(curriedAdd(3)); // 7 curriedAdd()å‡½æ•°æœ¬è´¨ä¸Šæ˜¯åœ¨ä»»ä½•æƒ…å†µä¸‹ç¬¬ä¸€ä¸ªå‚æ•°ä¸º4çš„add()ç‰ˆæœ¬ï¼Œå°½ç®¡ä»ŽæŠ€æœ¯ä¸Šè¯´curriedAdd()å¹¶éžæŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œä½†å®ƒå¾ˆå¥½åœ°å±•ç¤ºäº†å…¶æ¦‚å¿µã€‚æŸ¯é‡ŒåŒ–å‡½æ•°é€šå¸¸ç”±ä»¥ä¸‹æ­¥éª¤åŠ¨æ€åˆ›å»ºï¼šè°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶ä¸ºå®ƒä¼ å…¥è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•°å’Œå¿…è¦çš„å‚æ•°ã€‚åˆ›å»ºæŸ¯é‡ŒåŒ–å‡½æ•°çš„é€šç”¨æ–¹å¼ï¼š123456789function curry(fn)&#123; var args = Array.prototype.slice.call(arguments,1); // è¿™ä¸ªargumentsæ˜¯å¤–éƒ¨çš„ï¼Œå³curryçš„å‚æ•° return function()&#123; // è¿™ä¸ªargumentsæ˜¯å†…éƒ¨çš„ï¼Œå³curryAddçš„å‚æ•° var innerArgs = Array.prototype.slice.call(arguments); var finalArgs = args.concat(innerArgs); // è¿žæŽ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ return fn.apply(null,finalArgs); &#125;;&#125; è¿™ä¸ªå‡½æ•°å¹¶æ²¡æœ‰è€ƒè™‘åˆ°æ‰§è¡ŒçŽ¯å¢ƒï¼Œæ‰€ä»¥è°ƒç”¨applyæ—¶ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯nullã€‚123456function add(num1, num2)&#123; return num1 + num2;&#125;var curriedAdd = curry(add, 5); // è¿”å›žå·²è®¾ç½®ç¬¬ä¸€ä¸ªå‚æ•°ä¸º5çš„å‡½æ•°alert(curriedAdd(3)); // 8 ç»“åˆå‡½æ•°æŸ¯é‡ŒåŒ–çš„æ›´å¤æ‚çš„bind()å‡½æ•°12345678function bind(fn,context)&#123; var args = Array.prototype.slice.call(arguments,2); //ç»™è¢«ç»‘å®šçš„å‡½æ•°çš„å‚æ•°æ˜¯ä»Žç¬¬ä¸‰ä¸ªå¼€å§‹ return function()&#123; var innerArgs = Array.prototype.slice.call(arguments); var finalArgs = args.concat(innerArgs); return fn.apply(context,finalArgs); &#125;;&#125; å¯ä¼ å…¥ä»»æ„å‚æ•°çš„ï¼Œä¸ä¼ å…¥å‚æ•°æ—¶è¾“å‡ºç»“æžœçš„æŸ¯é‡ŒåŒ–å‡½æ•°ï¼š123456789101112131415161718192021var adder = function()&#123; var _args = []; return function()&#123; if(arguments.length == 0)&#123; //ä¸ä¼ å…¥å‚æ•°æ—¶ï¼Œè¾“å…¥ç´¯åŠ ç»“æžœ return _args.reduce(function(a,b)&#123; return a+b; &#125;); /* return fn.apply(this,_args)ï¼›//å½“æœ‰ä¼ å…¥å¤„ç†å‡½æ•°æ—¶ï¼Œå¯æ ¹æ®å¤„ç†å‡½æ•°å¯¹æ•°æ®è¿›è¡Œç›¸å…³æ“ä½œ */ &#125; [].push.apply(_args,[].slice.call(arguments)); return arguments.callee(); &#125;&#125;var sum = adder();sum(100,200)(300);sum(400);console.log(sum()); //1000 é˜²ç¯¡æ”¹å¯¹è±¡å› ä¸ºåœ¨JavaScriptä¸­ï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥è¢«åŒä¸€çŽ¯å¢ƒä¸­è¿è¡Œçš„ä»£ç ä¿®æ”¹ï¼Œå¼€å‘äººå‘˜å¾ˆå¯èƒ½æ„å¤–åœ°ä¿®æ”¹åˆ«äººçš„ä»£ç ï¼Œå› æ­¤ECMAScript5æå‡ºäº†é˜²ç¯¡æ”¹å¯¹è±¡ã€‚ 1.ä¸å¯æ‰©å±•å¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ï¼ŒJavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯å¯ä»¥æ‰©å±•çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å‘å¯¹è±¡ä¸­æ·»åŠ å±žæ€§å’Œæ–¹æ³•ã€‚è¦æƒ³æ”¹å˜è¿™ä¸€è¡Œä¸ºï¼Œéœ€è¦ä½¿ç”¨Object.preventExtensions(object)æ–¹æ³•ï¼Œè®©ä½ ä¸èƒ½å†ç»™å¯¹è±¡æ·»åŠ å±žæ€§å’Œæ–¹æ³•ï¼Œä½†å¯ä»¥ä¿®æ”¹åˆ é™¤å·²æœ‰çš„å±žæ€§å’Œæ–¹æ³•ã€‚1234var person = &#123;name : Peter&#125;;Object.preventsions(person);person.age = 22;console.log(person.age); //undefined ä½¿ç”¨Object.isExtensible(object)æ–¹æ³•å¯ä»¥ç¡®å®šå¯¹è±¡æ˜¯å¦å¯ä»¥æ‰©å±•ã€‚ 2.å¯†å°çš„å¯¹è±¡ECMAScript 5ä¸ºå¯¹è±¡å®šä¹‰çš„ç¬¬äºŒä¸ªä¿æŠ¤çº§åˆ«æ˜¯å¯†å°å¯¹è±¡ã€‚å¯†å°å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œå·²æœ‰å±žæ€§å’Œæ–¹æ³•ä¸å¯åˆ é™¤å’Œä¿®æ”¹ã€‚ä½¿ç”¨Object.seal()æ–¹æ³•å¯†å°å¯¹è±¡ï¼š12345var person = &#123;name: "Peter"&#125;;Object.seal(person);person.name = "Bob";alert(person.name); //"Peter" ä½¿ç”¨Object.isSeal()æ–¹æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦è¢«å¯†å°ï¼Œå› ä¸ºè¢«å¯†å°çš„å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œæ‰€ä»¥ç”¨Object.isExtensible()æ£€æŸ¥å¯†å°å¯¹è±¡ä¹Ÿä¼šè¿”å›žfalseã€‚ 3.å†»ç»“çš„å¯¹è±¡æœ€ä¸¥æ ¼çš„é˜²ç¯¡æ”¹çº§åˆ«æ˜¯å†»ç»“å¯¹è±¡ã€‚å†»ç»“å¯¹è±¡å³ä¸å¯æ‰©å±•ï¼Œåˆæ˜¯å¯†å°çš„ï¼Œè€Œä¸”å¯¹è±¡æ•°æ®å±žæ€§çš„[[Writable]]ç‰¹æ€§ä¼šè¢«è®¾ç½®ä¸ºfalseã€‚å¦‚æžœå®šä¹‰[[Set]]å‡½æ•°ï¼Œè®¿é—®å™¨å±žæ€§ä»ç„¶æ˜¯å¯å†™çš„ã€‚ä½¿ç”¨Object.freeze()æ–¹æ³•å†»ç»“å¯¹è±¡ï¼š12345678var person =&#123;name : "Peter"&#125;;Object.freeze(person);person.age = 29;alert(person.age); // "undefined"delete person.name;alert(person.name); // "Peter" ä½¿ç”¨Object.isForzen()æ£€æµ‹å†»ç»“å¯¹è±¡ï¼Œè€Œä½¿ç”¨Object.isSeal()å’ŒObject.isExtensible()æ£€æµ‹å†»ç»“å¯¹è±¡ï¼Œåˆ†åˆ«è¿”å›žtrueå’Œfalseã€‚ é«˜çº§å®šæ—¶å™¨ Javascriptæ˜¯è¿è¡ŒäºŽå•çº¿ç¨‹çš„çŽ¯å¢ƒä¸­çš„ï¼Œè€Œå®šæ—¶å™¨ä»…ä»…åªæ˜¯è®¡åˆ’ä»£ç åœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´æ‰§è¡Œã€‚æ‰§è¡Œæ—¶æœºæ˜¯ä¸èƒ½ä¿è¯çš„ï¼Œå› ä¸ºåœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸åŒæ—¶é—´å¯èƒ½æœ‰å…¶ä»–ä»£ç åœ¨æŽ§åˆ¶JavaScriptè¿›ç¨‹ã€‚å®žé™…ä¸Šï¼Œæ˜¯ç”±æµè§ˆå™¨è´Ÿè´£è¿›è¡ŒæŽ’åºï¼ŒæŒ‡æ´¾æŸæ®µä»£ç åœ¨æŸä¸ªæ—¶é—´ç‚¹è¿è¡Œçš„ä¼˜å…ˆçº§ã€‚å¯å°†JavaScriptæƒ³è±¡æˆåœ¨æ—¶é—´çº¿ä¸Šè¿è¡Œï¼Œä»¥onclickäº‹ä»¶ä¸ºä¾‹ï¼š å®šæ—¶å™¨å¯¹é˜Ÿåˆ—çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå½“ç‰¹å®šæ—¶é—´è¿‡åŽ»åŽå°†ä»£ç æ’å…¥ã€‚æ³¨æ„ï¼Œç»™é˜Ÿåˆ—æ·»åŠ ä»£ç å¹¶ä¸æ„å‘³ç€å¯¹å®ƒç«‹åˆ»æ‰§è¡Œï¼Œè€Œåªèƒ½è¡¨ç¤ºå®ƒä¼šå°½å¿«æ‰§è¡Œã€‚å…³äºŽå®šæ—¶å™¨è¦è®°ä½çš„æœ€é‡è¦çš„äº‹æƒ…æ˜¯ï¼šæŒ‡å®šçš„æ—¶é—´é—´éš”è¡¨ç¤ºä½•æ—¶å°†å®šæ—¶å™¨çš„ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ï¼Œè€Œä¸æ˜¯ä½•æ—¶å®žé™…æ‰§è¡Œä»£ç ã€‚ é‡å¤çš„å®šæ—¶å™¨ä½¿ç”¨setInterval()åˆ›å»ºçš„å®šæ—¶å™¨ç¡®ä¿äº†å®šæ—¶å™¨ä»£ç è§„åˆ™åœ°æ’å…¥é˜Ÿåˆ—ä¸­ã€‚å½“ä½¿ç”¨setInterval()æ—¶ï¼Œä»…å½“æ²¡æœ‰è¯¥å®šæ—¶å™¨çš„ä»»ä½•å…¶ä»–ä»£ç å®žä¾‹æ—¶ï¼Œæ‰å°†å®šæ—¶å™¨ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ã€‚é‡å¤å®šæ—¶å™¨çš„è§„åˆ™æœ‰ä¸¤ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰æŸäº›é—´éš”ä¼šè¢«è·³è¿‡ï¼›ï¼ˆ2ï¼‰å¤šä¸ªå®šæ—¶å™¨çš„ä»£ç æ‰§è¡Œä¹‹é—´çš„é—´éš”å¯èƒ½ä¼šæ¯”é¢„æœŸçš„å°ã€‚ ä¸ºäº†é¿å…setInterval()çš„é‡å¤å®šæ—¶å™¨çš„è¿™ä¸¤ä¸ªç¼ºç‚¹ï¼Œå¯ä»¥å¦‚ä¸‹æ¨¡å¼ä½¿ç”¨é“¾å¼setTimeout()è°ƒç”¨ï¼š12345setTimeout(function()&#123; //å¤„ç†ä¸­ setTimeout(argument.callee, interval);&#125;, interval); è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œåœ¨å‰ä¸€ä¸ªå®šæ—¶å™¨ä»£ç æ‰§è¡Œå®Œä¹‹å‰ï¼Œä¸ä¼šå‘é˜Ÿåˆ—æ’å…¥æ–°çš„å®šæ—¶å™¨ä»£ç ï¼Œç¡®ä¿ä¸ä¼šæœ‰ä»»ä½•ç¼ºå¤±çš„é—´éš”ï¼ŒåŒæ—¶ä¹Ÿèƒ½é¿å…è¿žç»­çš„è¿è¡Œã€‚ Yielding Processesè¿è¡ŒäºŽæµè§ˆå™¨ä¸­çš„Javascriptéƒ½è¢«åˆ†é…äº†ä¸€ä¸ªç¡®å®šæ•°é‡çš„èµ„æºã€‚å¦‚æžœä»£ç è¿è¡Œè¶…è¿‡ç‰¹å®šçš„æ—¶é—´æˆ–è€…ç‰¹å®šè¯­å¥æ•°é‡å°±ä¸è®©å®ƒç»§ç»­æ‰§è¡Œã€‚å®šæ—¶å™¨å°±æ˜¯ç»•å¼€æ­¤é™åˆ¶çš„æ–¹æ³•ä¹‹ä¸€ã€‚ è„šæœ¬é•¿æ—¶é—´è¿è¡Œçš„é—®é¢˜é€šå¸¸ç”±ä¸¤ä¸ªåŽŸå› ä¹‹ä¸€é€ æˆçš„ï¼šè¿‡é•¿çš„ã€è¿‡æ·±åµŒå¥—çš„å‡½æ•°è°ƒç”¨æˆ–è€…æ˜¯è¿›è¡Œå¤§é‡å¤„ç†çš„å¾ªçŽ¯ã€‚å¯¹äºŽç”±è¿›è¡Œå¤§é‡å¤„ç†çš„å¾ªçŽ¯å¯¼è‡´çš„è„šæœ¬é•¿æ—¶é—´è¿è¡Œé—®é¢˜ï¼Œæ˜¯è¾ƒå®¹æ˜“è§£å†³çš„ï¼Œé¦–å…ˆç¡®å®šä¸¤ä¸ªé—®é¢˜ï¼š1ï¼‰è¯¥å¤„ç†æ˜¯å¦å¿…é¡»åŒæ­¥å®Œæˆï¼Ÿ2ï¼‰æ•°æ®æ˜¯å¦å¿…é¡»æŒ‰é¡ºåºå®Œæˆï¼Ÿ å¦‚æžœå›žç­”éƒ½ä¸ºâ€œå¦â€ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å®šæ—¶å™¨åˆ†å‰²è¿™ä¸ªå¾ªçŽ¯ï¼šè¿™æ˜¯ä¸€ç§å«åšæ•°ç»„åˆ†å—çš„æŠ€æœ¯ï¼Œå°å—å°å—åœ°å¤„ç†æ•°ç»„ï¼Œé€šå¸¸æ¯æ¬¡ä¸€å°å—ã€‚ åŸºæœ¬æ€è·¯æ˜¯ï¼šä¸ºè¦å¤„ç†çš„é¡¹ç›®åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åŽä½¿ç”¨å®šæ—¶å™¨å–å‡ºä¸‹ä¸€ä¸ªè¦å¤„ç†çš„é¡¹ç›®è¿›è¡Œå¤„ç†ï¼ŒæŽ¥ç€å†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ã€‚åŸºæœ¬æ¨¡å¼ï¼š12345678910setTimeout(function()&#123; //å–å‡ºä¸‹ä¸€ä¸ªæ¡ç›®å¹¶å¤„ç† var item = array.shift(); process(item); //è‹¥è¿˜æœ‰æ¡ç›®ï¼Œå†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ if(array.length &gt; 0)&#123; setTimeout(argument.callee, 100); &#125;&#125;, 100); å…·ä½“å‡½æ•°ï¼š123456789101112function chunk(array,process,context)&#123; setTimeout(function()&#123; //å–å‡ºä¸‹ä¸€ä¸ªæ¡ç›®å¹¶å¤„ç† var item = array.shift(); process.call(context,item); //è‹¥è¿˜æœ‰æ¡ç›®ï¼Œå†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ if(array.length&gt;0)&#123; setTimeout(arguments.callee,100); &#125; &#125;,100); &#125; åº”æ³¨æ„çš„æ˜¯ï¼Œä¼ ç»™chunk()å‡½æ•°çš„æ•°ç»„æ˜¯ç”¨ä½œä¸€ä¸ªé˜Ÿåˆ—çš„ï¼Œå› æ­¤å½“å¤„ç†æ•°æ®æ—¶ï¼Œæ•°ç»„ä¸­çš„æ¡ç›®ä¹Ÿç›¸åº”å˜åŒ–ï¼Œ å¦‚æžœæƒ³è¦ä¿æŒåŽŸæ•°ç»„ä¸å˜ï¼Œåˆ™åº”è¯¥å°†è¯¥æ•°ç»„çš„å…‹éš†ä¼ é€’ç»™chunk()ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š1chunk(data.concat(),printValue); æ•°æ®åˆ†å—çš„é‡è¦æ€§åœ¨äºŽä»–å®ƒå¯ä»¥å°†å¤šä¸ªé¡¹ç›®çš„å¤„ç†åœ¨æ‰§è¡Œé˜Ÿåˆ—ä¸Šåˆ†å¼€ï¼Œåœ¨æ¯ä¸ªé¡¹ç›®å¤„ç†ä¹‹åŽï¼Œç»™äºˆå…¶ä»–çš„æµè§ˆå™¨å¤„ç†æœºä¼šè¿è¡Œï¼Œè¿™æ ·å°±å¯èƒ½é¿å…é•¿æ—¶é—´è¿è¡Œè„šæœ¬çš„é”™è¯¯ã€‚ å‡½æ•°èŠ‚æµ å‡½æ•°èŠ‚æµçš„åŸºæœ¬æ€æƒ³æ˜¯æŒ‡ï¼ŒæŸäº›ä»£ç ä¸å¯ä»¥åœ¨æ²¡æœ‰é—´æ–­çš„æƒ…å†µä¸‹è¿žç»­é‡å¤æ‰§è¡Œã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨åˆ¶å®šçš„æ—¶é—´é—´éš”ä¹‹åŽè¿è¡Œä»£ç ã€‚ç¬¬äºŒæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå®ƒä¼šæ¸…é™¤å‰ä¸€æ¬¡çš„å®šæ—¶å™¨å¹¶è®¾ç½®å¦ä¸€ä¸ªã€‚å¦‚æžœå‰ä¸€ä¸ªå®šæ—¶å™¨å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œè¿™ä¸ªæ“ä½œå°±æ²¡æœ‰æ„ä¹‰ã€‚ç„¶è€Œï¼Œå¦‚æžœå‰ä¸€ä¸ªå®šæ—¶å™¨å°šæœªä¸­å¿ƒï¼Œå…¶å®žå°±æ˜¯å°†å…¶æ›¿æ¢ä¸ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ã€‚ç›®çš„æ˜¯åªæœ‰åœ¨æ‰§è¡Œå‡½æ•°çš„è¯·æ±‚åœæ­¢äº†ä¸€æ®µæ—¶é—´ä¹‹åŽæ‰æ‰§è¡Œã€‚åŸºæœ¬å½¢å¼ï¼š1234567891011121314151617var processor = &#123; timeoutId : null, //å®žé™…è¿›è¡Œå¤„ç†çš„æ–¹æ³• perfoemProcessing : function()&#123; //å®žé™…æ‰§è¡Œçš„ä»£ç  &#125;,//åˆå§‹å¤„ç†è°ƒç”¨æ–¹æ³• process : function()&#123; clearTimeout(this.timeoutId); var that = this; this.timeoutId = setTimeout(function&#123; that.performProcessing(); &#125;,100); &#125;&#125;;//å°è¯•å¼€å§‹æ‰§è¡Œprocessor.process(); åªè¦ä»£ç æ˜¯å‘¨æœŸæ€§æ‰§è¡Œçš„ï¼Œéƒ½åº”è¯¥ä½¿ç”¨èŠ‚æµã€‚ è‡ªå®šä¹‰äº‹ä»¶äº‹ä»¶æ˜¯ä¸€ç§å«åšè§‚å¯Ÿè€…çš„è®¾è®¡æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ç§åˆ›å»ºæ¾æ•£è€¦åˆä»£ç çš„æŠ€æœ¯ã€‚è§‚å¯Ÿè€…æ¨¡å¼ç”±ä¸¤ç±»å¯¹è±¡ç»„æˆï¼šä¸»ä½“å’Œè§‚å¯Ÿè€…ã€‚ä¸»ä½“è´Ÿè´£å‘å¸ƒäº‹ä»¶ï¼ŒåŒæ—¶è§‚å¯Ÿè€…é€šè¿‡è®¢é˜…è¿™äº›äº‹ä»¶æ¥è§‚å¯Ÿè¯¥ä¸»ä½“ã€‚è¯¥æ¨¡å¼çš„ä¸€ä¸ªå…³é”®æ¦‚å¿µæ˜¯ä¸»ä½“å¹¶ä¸çŸ¥é“è§‚å¯Ÿè€…çš„ä»»ä½•äº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥ç‹¬è‡ªå­˜åœ¨å¹¶æ­£å¸¸è¿ä½œå³ä½¿è§‚å¯Ÿè€…ä¸å­˜åœ¨ã€‚å¦ä¸€æ–¹é¢ï¼Œè§‚å¯Ÿè€…çŸ¥é“ä¸»ä½“å¹¶èƒ½æ³¨å†Œäº‹ä»¶çš„å›žè°ƒå‡½æ•°ï¼ˆäº‹ä»¶å¤„ç†ç¨‹åºï¼‰ã€‚ äº‹ä»¶æ˜¯ä¸ŽDOMäº¤äº’çš„æœ€å¸¸è§çš„æ–¹å¼ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨äºŽéžDOMä»£ç ä¸­â€”â€”é€šè¿‡å®žçŽ°è‡ªå®šä¹‰äº‹ä»¶ã€‚è‡ªå®šä¹‰äº‹ä»¶èƒŒåŽçš„æ¦‚å¿µæ˜¯åˆ›å»ºä¸€ä¸ªç®¡ç†äº‹ä»¶çš„å¯¹è±¡ï¼Œè®©å…¶ä»–å¯¹è±¡ç›‘å¬è¿™äº›äº‹ä»¶ã€‚åŸºæœ¬æ¨¡å¼å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738function EventTarget()&#123; this.handlers = &#123;&#125;;&#125;EventTarget.prototype = &#123; constructor : EventTarget, //æ³¨å†ŒæŸä¸ªäº‹ä»¶ç±»åž‹çš„äº‹ä»¶å¤„ç†ç¨‹åº addHandler : function(type,handler)&#123; if(typeof this.handlers[type] == "undefined")&#123; this.handlers[type] = []; &#125; this.handlers[type].push(handler); &#125;, //è§¦å‘äº‹ä»¶ fire : function(event)&#123; if(!event.target)&#123; event.target = this; &#125; if(this.handlers[event.type] instanceof Array)&#123; var handlers = this.handlers[event.type]; for(var i = 0,len = handlers.length; i &lt; len; i++)&#123; handlers[i](event); &#125; &#125; &#125;, //æ³¨é”€æŸä¸ªäº‹ä»¶ç±»åž‹çš„äº‹ä»¶å¤„ç†ç¨‹åº removeHandler : function(type, handler)&#123; if(this.handlers[type] instanceof Array)&#123; var handlers = this.handlers[type]; for(var i=0,len=handlers.length; i&lt; len;i++)&#123; if(handlers[i] === handler)&#123; break; &#125; &#125; handlers.splice(i,1); &#125; &#125;&#125;; ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æœ‰åŠ©äºŽè§£è€¦ç›¸å…³å¯¹è±¡ï¼Œä¿æŒåŠŸèƒ½çš„éš”ç»ã€‚ æ‹–æ”¾åŸºæœ¬æ¦‚å¿µï¼šåˆ›å»ºä¸€ä¸ªç»å¯¹å®šä½çš„å…ƒç´ ï¼Œä½¿å…¶å¯ä»¥ç”¨é¼ æ ‡ç§»åŠ¨ã€‚è¿™ä¸ªæŠ€æœ¯æºè‡ªä¸€ç§å«åšâ€œé¼ æ ‡æ‹–å°¾â€çš„ç»å…¸ç½‘é¡µæŠ€å·§ã€‚é¼ æ ‡æ‹–å°¾æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªå›¾ç‰‡åœ¨é¡µé¢ä¸Šè·Ÿç€é¼ æ ‡æŒ‡é’ˆç§»åŠ¨ã€‚12345EventUtil.addHandler(document,"mousemove",function(event)&#123; var myDiv = document.getElementById("myDiv"); myDiv.style.left = event.clientX+"px"; myDiv.style.top = event.clientY+"px";&#125;); æ‹–æ”¾ç¤ºä¾‹ï¼š12345678910111213141516171819202122232425262728// æ‹–æ‹½å¯¹è±¡var ie=document.all;var nn6=document.getElementById&amp;&amp;!document.all;//åˆ¤æ–­æ˜¯å¦æ˜¯IEæµè§ˆå™¨ï¼Œtureè¡¨ç¤ºä¸æ˜¯ï¼Œfalseè¡¨ç¤ºæ˜¯IEæµè§ˆå™¨ã€‚var dragFlag=false, mouseY, mouseX, dragObj, objX,objY;$(function()&#123; dragObj=document.getElementById("block"); dragObj.style.top=0; dragObj.style.left=0; dragObj.onmousedown=function(e)&#123; //èŽ·å–é¼ æ ‡åæ ‡å’Œæ‹–æ‹½ç›®æ ‡çš„åæ ‡ dragFlag=true; mouseX=parseInt(nn6 ? e.clientX : event.clientX);//é¼ æ ‡ä½ç½®çš„xåæ ‡ mouseY=parseInt(nn6 ? e.clientY : event.clientY);//é¼ æ ‡ä½ç½®çš„yåæ ‡ objX=parseInt(dragObj.style.left); objY=parseInt(dragObj.style.top); return false; &#125; dragObj.onmousemove=function(e)&#123; if(dragFlag==true)&#123; //è®¡ç®—æ‹–æ‹½ç›®æ ‡ç§»åŠ¨çš„ä½ç½®åæ ‡ dragObj.style.top = (nn6 ? objY + e.clientY - mouseY : objY+ event.clientY - mouseY)+"px"; dragObj.style.left = (nn6 ? objX + e.clientX - mouseX : objX + event.clientX - mouseX)+"px"; return false; &#125; &#125; dragObj.onmouseup=new Function("dragFlag=false"); dragObj.onmouseleave=new Function("dragFlag=false");&#125;); ç¦»çº¿åº”ç”¨ä¸Žå®¢æˆ·ç«¯å­˜å‚¨HTML5æŠŠç¦»çº¿åº”ç”¨ä½œä¸ºé‡ç‚¹ï¼Œå¼€å‘äººå‘˜éƒ½æœŸæœ›webåº”ç”¨èƒ½å¤Ÿç¦»çº¿ä½¿ç”¨ã€‚ å¼€å‘ç¦»çº¿Webåº”ç”¨éœ€è¦å‡ ä¸ªæ­¥éª¤ï¼š ç¡®ä¿åº”ç”¨çŸ¥é“è®¾å¤‡æ˜¯å¦èƒ½ä¸Šç½‘ï¼Œä»¥ä¾¿ä¸‹ä¸€æ­¥æ‰§è¡Œæ­£ç¡®çš„æ“ä½œã€‚ åº”ç”¨å¿…é¡»èƒ½è®¿é—®ä¸€å®šçš„èµ„æºï¼ˆå›¾åƒï¼ŒJavascriptï¼ŒCSSç­‰ï¼‰ã€‚ æœ€åŽï¼Œå¿…é¡»æœ‰ä¸€å—æœ¬åœ°ç©ºé—´ç”¨äºŽä¿å­˜æ•°æ®ï¼Œæ— è®ºèƒ½å¦ä¸Šç½‘éƒ½ä¸å¦¨ç¢è¯»å†™ã€‚ï¼ˆHTML5åŠå…¶ç›¸å…³çš„APIè®©å¼€å‘ç¦»çº¿åº”ç”¨æˆä¸ºçŽ°å®žï¼‰ 1.ç¦»çº¿æ£€æµ‹ä¸ºäº†å®žçŽ°æ£€æµ‹æ˜¯å¦ç¦»çº¿ï¼ŒHTML5å®šä¹‰äº†ä¸€ä¸ªnavigator.onLineå±žæ€§ï¼Œè¯¥å±žæ€§å€¼ä¸ºtrueè¡¨ç¤ºè®¾å¤‡èƒ½ä¸Šç½‘ï¼Œå€¼ä¸ºfalseè¡¨ç¤ºè®¾å¤‡ç¦»çº¿ã€‚è¿™ä¸ªå±žæ€§çš„å…³é”®åœ¨äºŽæµè§ˆå™¨è¦å¿…é¡»çŸ¥é“è®¾å¤‡èƒ½å¦è®¿é—®ç½‘ç»œï¼Œä»Žè€Œè¿”å›žæ­£ç¡®çš„å€¼ã€‚åœ¨å®žé™…åº”ç”¨ä¸­ï¼Œnavigator.onLineåœ¨ä¸åŒæµè§ˆå™¨é—´æœ‰äº›å°å·®å¼‚ï¼š ç”±äºŽå­˜åœ¨ä»¥ä¸Šå…¼å®¹æ€§é—®é¢˜ï¼Œå•ç‹¬ä½¿ç”¨navigator.onLineå±žæ€§å¹¶ä¸èƒ½ç¡®å®šç½‘ç»œæ˜¯å¦è¿žé€šï¼Œæ‰€ä»¥ä¸ºäº†æ›´å¥½åœ°ç¡®å®šç½‘ç»œæ˜¯å¦å¯ç”¨ï¼ŒHTML5è¿˜å®šä¹‰äº†ä¸¤ä¸ªäº‹ä»¶ï¼šonlineå’Œofflineã€‚å½“ç½‘ç»œä»Žç¦»çº¿å˜ä¸ºåœ¨çº¿æˆ–è€…ä»Žåœ¨çº¿å˜ä¸ºç¦»çº¿æ—¶ï¼Œåˆ†åˆ«è§¦å‘è¿™ä¸¤ä¸ªäº‹ä»¶ã€‚è¿™ä¸¤ä¸ªäº‹ä»¶éƒ½æ˜¯åœ¨windowå¯¹è±¡ä¸Šè§¦å‘ã€‚123456EventUtil.addHandler(window,"online",function()&#123; alert("Online");&#125;);EventUtil.addHandler(window,"offline",function()&#123; alert("Offline");&#125;); 2.åº”ç”¨ç¼“å­˜HTML5çš„åº”ç”¨ç¼“å­˜ï¼Œæˆ–è€…ç®€ç§°appcacheï¼Œæ˜¯ä¸“é—¨ä¸ºå¼€å‘ç¦»çº¿Webåº”ç”¨è€Œè®¾è®¡çš„ã€‚Appcacheå°±æ˜¯ä»Žæµè§ˆå™¨çš„ç¼“å­˜ä¸­åˆ†å‡ºæ¥çš„ä¸€å—ç¼“å­˜åŒºã€‚è¦æƒ³åœ¨è¿™ä¸ªç¼“å­˜ä¸­ä¿å­˜æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæè¿°æ–‡ä»¶ï¼ˆmanifest fileï¼‰ï¼Œåˆ—å‡ºè¦ä¸‹è½½å’Œç¼“å­˜çš„èµ„æºã€‚æè¿°æ–‡ä»¶ç¤ºä¾‹12345CACHE MANIFEST#Commentfile.jsfile.css è¦å°†æè¿°æ–‡ä»¶ä¸Žé¡µé¢å…³è”èµ·æ¥ï¼Œå¯ä»¥åœ¨&lt;html&gt;ä¸­çš„manifestå±žæ€§ä¸­æŒ‡å®šè¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼Œä¾‹å¦‚ï¼š1&lt;html manifest="/offline.manifest"&gt; é€šè¿‡Javascript APIèƒ½å¤ŸçŸ¥é“ç¼“å­˜çš„è¡Œä¸ºï¼Œè¿™ä¸ªAPIçš„æ ¸å¿ƒæ˜¯applicationCacheå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªstatuså±žæ€§ï¼Œå±žæ€§çš„å€¼æ˜¯å¸¸é‡ï¼Œè¡¨ç¤ºåº”ç”¨ç¼“å­˜çš„å¦‚ä¸‹å½“å‰çŠ¶æ€ï¼š0ï¼šæ— ç¼“å­˜ï¼Œå³æ²¡æœ‰ä¸Žé¡µé¢ç›¸å…³çš„åº”ç”¨ç¼“å­˜ã€‚1ï¼šé—²ç½®ï¼Œå³åº”ç”¨ç¼“å­˜æœªå¾—åˆ°æ›´æ–°ã€‚2ï¼šæ£€æŸ¥ä¸­ï¼Œå³æ­£åœ¨ä¸‹è½½æè¿°æ–‡ä»¶å¹¶æ£€æŸ¥æ›´æ–°ã€‚3ï¼šä¸‹è½½ä¸­ï¼Œå³åº”ç”¨ç¼“å­˜æ­£åœ¨ä¸‹è½½æè¿°æ–‡ä»¶ä¸­æŒ‡å®šçš„èµ„æºã€‚4ï¼šæ›´æ–°å®Œæˆï¼Œå³åº”ç”¨ç¼“å­˜å·²ç»æ›´æ–°äº†èµ„æºï¼Œè€Œä¸”æ‰€æœ‰èµ„æºéƒ½å·²ä¸‹è½½å®Œæ¯•ï¼Œå¯ä»¥é€šè¿‡swapCache()æ¥ä½¿ç”¨äº†ã€‚5ï¼šåºŸå¼ƒï¼Œå³åº”ç”¨ç¼“å­˜çš„æè¿°æ–‡ä»¶å·²ç»ä¸å­˜åœ¨äº†ï¼Œå› æ­¤é¡µé¢æ— æ³•å†è®¿é—®åº”ç”¨ç¼“å­˜ã€‚ ä¸Žç¼“å­˜ç›¸å…³çš„äº‹ä»¶ï¼šcheckingï¼šåœ¨æµè§ˆå™¨ä¸ºåº”ç”¨ç¼“å­˜æŸ¥æ‰¾æ›´æ–°æ—¶è§¦å‘ã€‚errorï¼šåœ¨æ£€æŸ¥æ›´æ–°æˆ–ä¸‹è½½èµ„æºæœŸé—´å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚noupdateï¼šåœ¨æ£€æŸ¥æè¿°æ–‡ä»¶å‘çŽ°æ–‡ä»¶æ— å˜åŒ–æ—¶è§¦å‘ã€‚downloadingï¼šåœ¨å¼€å§‹ä¸‹è½½åº”ç”¨ç¼“å­˜çš„è¿‡ç¨‹ä¸­æŒç»­ä¸æ–­åœ°è§¦å‘ã€‚updatereadyï¼šåœ¨é¡µé¢æ–°çš„åº”ç”¨ç¼“å­˜ä¸‹è½½å®Œæ¯•ä¸”å¯ä»¥é€šè¿‡swapCache()ä½¿ç”¨æ—¶è§¦å‘ã€‚cachedï¼šåœ¨åº”ç”¨ç¼“å­˜å®Œæ•´å¯ç”¨æ—¶è§¦å‘ã€‚ æ­¤å¤–ï¼Œé€šè¿‡è°ƒç”¨update()æ–¹æ³•å¯ä»¥æ‰‹å·¥å¹²é¢„ï¼Œè®©åº”ç”¨ç¼“å­˜ä¸ºæ£€æŸ¥æ›´æ–°è€Œè§¦å‘ä¸Šè¿°äº‹ä»¶ã€‚ 3.æ•°æ®å­˜å‚¨1ï¼‰CookieHTTP Cookieï¼Œé€šå¸¸ç›´æŽ¥å«åšcookieï¼Œæœ€åˆæ˜¯åœ¨å®¢æˆ·ç«¯ç”¨äºŽå­˜å‚¨ä¼šè¯ä¿¡æ¯çš„ã€‚ é™åˆ¶cookieåœ¨æ€§è´¨ä¸Šæ˜¯ç»‘å®šåœ¨ç‰¹å®šçš„åŸŸåä¸‹çš„ã€‚æ¯ä¸ªåŸŸçš„cookieçš„æ€»æ•°æ˜¯æœ‰é™çš„ï¼Œä¸è¿‡æµè§ˆå™¨ä¹‹é—´å„æœ‰ä¸åŒã€‚IE6ä»¥åŠæ›´ä½Žç‰ˆæœ¬é™åˆ¶æ¯ä¸ªåŸŸååªèƒ½20ä¸ªcookieï¼›IE7+å’ŒFirefoxæœ€å¤š50ä¸ª;Operaæœ€å¤š30ä¸ªï¼›Safariå’ŒChromeå¯¹äºŽæ¯ä¸ªåŸŸçš„cookieæ•°é‡é™åˆ¶æ²¡æœ‰ç¡¬æ€§è§„å®šã€‚ cookieå¤§å°ä¹Ÿæœ‰é™åˆ¶ï¼Œæœ€å¤šæœ‰4096Bï¼Œä¸ºäº†æœ€ä½³çš„æµè§ˆå™¨å…¼å®¹æ€§ï¼Œæœ€å¥½å°†æ•´ä¸ªcookieé•¿åº¦é™åˆ¶åœ¨4095Bã€‚ cookieçš„æž„æˆåç§°ï¼šä¸€ä¸ªå”¯ä¸€ç¡®å®šcookieçš„åç§°ï¼ˆä¸åŒºåˆ†å¤§å°å†™,å¿…é¡»ç»è¿‡URLç¼–ç ï¼‰ã€‚å€¼ï¼šå‚¨å­˜åœ¨cookieä¸­çš„å­—ç¬¦ä¸²å€¼ã€‚å€¼å¿…é¡»è¢«URLç¼–ç ã€‚åŸŸï¼šcookieå¯¹äºŽå“ªä¸ªåŸŸæ˜¯æœ‰æ•ˆçš„ã€‚æ‰€æœ‰å‘è¯¥åŸŸå‘é€çš„è¯·æ±‚ä¸­éƒ½ä¼šåŒ…å«æ•´ä¸ªcookieä¿¡æ¯ã€‚è·¯å¾„ï¼šå¯¹äºŽæŒ‡å®šåŸŸä¸­çš„é‚£ä¸ªè·¯å¾„ï¼Œåº”è¯¥å‘æœåŠ¡å™¨å‘é€cookieã€‚å¤±æ•ˆæ—¶é—´ï¼šè¡¨ç¤ºcookieä½•æ—¶åº”è¯¥è¢«åˆ é™¤çš„æ—¶é—´æˆ³ã€‚é»˜è®¤æ˜¯æµè§ˆå™¨ä¼šè¯ç»“æŸæ—¶å³å°†æ‰€æœ‰cookieåˆ é™¤ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®åˆ é™¤æ—¶é—´ã€‚å®‰å…¨æ ‡å¿—ï¼šæŒ‡å®šåŽï¼Œcookieåªæœ‰åœ¨ä½¿ç”¨SSLè¿žæŽ¥çš„æ—¶å€™æ‰å‘é€åˆ°æœåŠ¡å™¨ã€‚ JavaScriptä¸­çš„cookieåœ¨JavaScriptä¸­å¤„ç†cookieæœ‰äº›å¤æ‚ï¼Œå› ä¸ºBOMçš„document.cookieå±žæ€§ä¸å¤ªå®¹æ˜“å¤„ç†ã€‚é€šè¿‡document.cookieè¿”å›žå½“å‰é¡µé¢å¯ç”¨çš„æ‰€æœ‰cookieçš„å­—ç¬¦ä¸²ï¼Œä¸€ç³»åˆ—ç”±åˆ†å·éš”å¼€çš„åå€¼å¯¹å„¿ï¼š1name1=value1;name2=value2;name3=value3;]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆå…«ï¼‰]]></title>
    <url>%2F2017%2F05%2F17%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89%2F</url>
    <content type="text"><![CDATA[Ajaxä¸ŽComet1.XMLHttpRequestå¯¹è±¡IE5æ˜¯ç¬¬ä¸€æ¬¾å¼•å…¥XHRå¯¹è±¡çš„æµè§ˆå™¨ï¼Œä½†XHRå¯¹è±¡æ˜¯é€šè¿‡MSXMLåº“ä¸­çš„ä¸€ä¸ªActiveXå¯¹è±¡å®žçŽ°çš„ã€‚123456789101112131415161718//é€‚ç”¨äºŽIE7ä¹‹å‰çš„ç‰ˆæœ¬function createXHR()&#123; if(typeof arguments.callee.activeXString != "string")&#123; var versions = ["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"], i,len; for(i = 0,len = versions.length; i &lt; len; i++)&#123; try&#123; new ActiveXObject(version[i]); arguments.callee.activeXString = versions[i]; break; &#125;catch(ex)&#123; //... &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125; return new ActiveXObject(arguments.callee.activeXString);&#125; å…¼å®¹å„ä¸ªæµè§ˆå™¨1234567891011121314151617181920212223function createXHR()&#123; if(typeof XMLHttpRequest != "undefined")&#123; return new XMLHttpRequest(); &#125;else if(typeof ActiveXObject != "undefined") if(typeof arguments.callee.activeXString != "string")&#123; var versions = ["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"], i,len; for(i = 0,len = versions.length; i &lt; len; i++)&#123; try&#123; new ActiveXObject(version[i]); arguments.callee.activeXString = versions[i]; break; &#125;catch(ex)&#123; //... &#125; &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125;else&#123; throw new Error("No XHR object available."); &#125;&#125; 2.XHRçš„ç”¨æ³•åœ¨ä½¿ç”¨XHRå¯¹è±¡æ—¶ï¼Œè°ƒç”¨çš„ä¸€ä¸ªæ–¹æ³•æ˜¯open()ï¼Œå®ƒæŽ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šè¦å‘é€çš„è¯·æ±‚çš„ç±»åž‹ï¼ˆâ€œgetâ€ã€â€œpostâ€ç­‰ï¼‰ã€è¯·æ±‚çš„URLå’Œè¡¨ç¤ºæ˜¯å¦å¼‚æ­¥å‘é€è¯·æ±‚çš„å¸ƒå°”å€¼ã€‚1xhr.open("get","example.php",false); å¦‚æžœè¦å‘é€ç‰¹å®šçš„è¯·æ±‚ï¼Œå¿…é¡»ä½¿ç”¨send()æ–¹æ³•ï¼š12xhr.open("get","example.php",false);xhr.send(null); send()æ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦ä½œä¸ºè¯·æ±‚ä¸»ä½“å‘é€çš„æ•°æ®ã€‚å¦‚æžœä¸éœ€è¦é€šè¿‡è¯·æ±‚ä¸»ä½“å‘é€æ•°æ®ï¼Œåˆ™å¿…é¡»ä¼ å…¥null. åœ¨æ”¶åˆ°å“åº”åŽï¼Œå“åº”çš„æ•°æ®ä¼šè‡ªåŠ¨å¡«å……XHRå¯¹è±¡çš„å±žæ€§ï¼šresponseText: ä½œä¸ºå“åº”ä¸»ä½“è¢«è¿”å›žçš„æ–‡æœ¬ã€‚responseXML: å¦‚æžœå“åº”çš„å†…å®¹ç±»åž‹æ˜¯â€œtext/xmlâ€æˆ–â€œapplication/xmlâ€ï¼Œè¿™ä¸ªå±žæ€§ä¸­å°†ä¿å­˜åŒ…å«ç€å“åº”æ•°æ®çš„XML DOMæ–‡æ¡£ã€‚status: å“åº”çš„HTTPçŠ¶æ€ã€‚statusText: HTTPçŠ¶æ€çš„è¯´æ˜Žã€‚ åœ¨æŽ¥æ”¶åˆ°å“åº”åŽï¼Œç¬¬ä¸€æ­¥æ˜¯æ£€æŸ¥statuså±žæ€§ï¼Œä»¥ç¡®å®šå“åº”å·²æˆåŠŸè¿”å›žã€‚çŠ¶æ€ç ä¸º304è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå¹¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨æµè§ˆå™¨ä¸­ç¼“å­˜çš„ç‰ˆæœ¬ã€‚12345678xhr.open("get","example.php",false);xhr.send(null);if(xhr.status &gt;=200 &amp;&amp;xhr.status &lt;300 ||xhr.status==304)&#123; alert(xhr.responseText);&#125;else&#123; alert("Request was unsuccessful:"+xhr.status);&#125; åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œæ‰èƒ½è®©Javascriptç»§ç»­æ‰§è¡Œè€Œä¸å¿…ç­‰å¾…å“åº”ã€‚æ‰€ä»¥éœ€è¦æ£€æµ‹XHRå¯¹è±¡çš„readyStateå±žæ€§ï¼Œè¯¥å±žæ€§è¡¨ç¤ºè¯·æ±‚/å“åº”è¿‡ç¨‹çš„å½“å‰æ´»åŠ¨é˜¶æ®µï¼Œæœ‰ä»¥ä¸‹å€¼ï¼š0ï¼šæœªåˆå§‹åŒ–ã€‚å°šæœªè°ƒç”¨open()æ–¹æ³•ã€‚1ï¼šå¯åŠ¨ã€‚å·²ç»è°ƒç”¨open()æ–¹æ³•ï¼Œä½†å°šæœªè°ƒç”¨send()æ–¹æ³•2ï¼šå‘é€ã€‚å·²ç»è°ƒç”¨send()æ–¹æ³•ï¼Œä½†å°šæœªæŽ¥æ”¶åˆ°å“åº”3ï¼šæŽ¥æ”¶ã€‚å·²ç»æŽ¥æ”¶éƒ¨åˆ†å“åº”æ•°æ®ã€‚4ï¼šå®Œæˆã€‚å·²ç»æŽ¥æ”¶åˆ°å…¨éƒ¨å“åº”æ•°æ®ï¼Œè€Œä¸”å·²ç»å¯ä»¥åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ã€‚ å½“readyStateå€¼æ”¹å˜æ—¶ï¼Œå°†è§¦å‘readyStatechangeäº‹ä»¶ã€‚12345678910var xhr = createXHR();xhr.onreadyStatechange = function()&#123; if(xhr.readyState == 4)&#123; alert(xhr.responseText); &#125;else&#123; alert("Request was unsuccessful:"+xhr.status); &#125;&#125;xhr.open("get","example.php",true);xhr.send(null); åœ¨æŽ¥æ”¶åˆ°å“åº”ä¹‹å‰è¿˜å¯ä»¥è°ƒç”¨abort()æ–¹æ³•æ¥å–æ¶ˆå¼‚æ­¥è¯·æ±‚ï¼šxhr.abort()ã€‚ 3.HTTPå¤´éƒ¨ä¿¡æ¯Accept:æµè§ˆå™¨èƒ½å¤Ÿå¤„ç†çš„å†…å®¹ç±»åž‹Accept-Charset:æµè§ˆå™¨èƒ½å¤Ÿæ˜¾ç¤ºçš„å­—ç¬¦é›†Accept-Encoding:æµè§ˆå™¨èƒ½å¤Ÿå¤„ç†çš„åŽ‹ç¼©ç¼–ç Accept-Language:æµè§ˆå™¨å½“å‰è®¾ç½®çš„è¯­è¨€Connection:æµè§ˆå™¨ä¸ŽæœåŠ¡å™¨ä¹‹é—´è¿žæŽ¥çš„ç±»åž‹Cookie:å½“å‰é¡µé¢è®¾ç½®çš„ä»»ä½•CookieHost:å‘å‡ºè¯·æ±‚çš„é¡µé¢æ‰€åœ¨çš„åŸŸReferer:å‘å‡ºè¯·æ±‚çš„é¡µé¢URLUser-Agent:æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸² å¯ä»¥ä½¿ç”¨setRequestHeader()æ–¹æ³•è®¾ç½®è‡ªå®šä¹‰çš„è¯·æ±‚å¤´éƒ¨ä¿¡æ¯ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå¤´éƒ¨å­—æ®µçš„åç§°å’Œå¤´éƒ¨å­—æ®µçš„å€¼ã€‚è¦æƒ³æˆåŠŸå‘é€è¯·æ±‚å¤´éƒ¨ä¿¡æ¯ï¼Œå¿…é¡»åœ¨è°ƒç”¨open()æ–¹æ³•ä¹‹åŽä¸”è°ƒç”¨send()æ–¹æ³•ä¹‹å‰è°ƒç”¨setRequestHeader()ã€‚ èŽ·å–å¤´éƒ¨ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨XHRå¯¹è±¡çš„getResponseHeader()æ–¹æ³•å¹¶ä¼ å…¥å¤´éƒ¨å­—æ®µåç§°ï¼Œå¯ä»¥å–å¾—ç›¸åº”çš„å“åº”å¤´éƒ¨ä¿¡æ¯ã€‚è€Œè°ƒç”¨getAllResponseHeaders()æ–¹æ³•åˆ™å¯ä»¥å–å¾—ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¤´éƒ¨ä¿¡æ¯çš„é•¿å­—ç¬¦ä¸²ã€‚ 4.GETè¯·æ±‚GETæ˜¯æœ€å¸¸è§çš„è¯·æ±‚ç±»åž‹ï¼Œæœ€å¸¸ç”¨äºŽå‘æœåŠ¡å™¨æŸ¥è¯¢æŸäº›ä¿¡æ¯ã€‚ä½¿ç”¨GETè¯·æ±‚ç»å¸¸å‘ç”Ÿçš„ä¸€ä¸ªé”™è¯¯ï¼Œå°±æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²çš„æ ¼å¼æœ‰é—®é¢˜ã€‚ä¸‹é¢è¿™ä¸ªå‡½æ•°å¯ä»¥è¾…åŠ©å‘çŽ°æœ‰URLçš„æœ«å°¾æ·»åŠ æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼š12345function addURLParam(url, name, value)&#123; url += (url.indexOf("?") == -1 ? "?" : "&amp;"); url += encodeURIComponent(name)+ "=" + encodeURIComponent(value); return url;&#125; 5.POSTè¯·æ±‚é€šå¸¸ç”¨äºŽå‘æœåŠ¡å™¨å‘é€åº”è¯¥è¢«ä¿å­˜çš„æ•°æ®ã€‚ XMLHttpRequest 2çº§1.FormDataä¸ºäº†å®žçŽ°è¡¨å•æ•°æ®çš„åºåˆ—åŒ–ï¼ŒXMLHttpRequest 2çº§ä¸ºæ­¤å®šä¹‰äº†FromDataç±»åž‹ã€‚FormDataä¸ºåºåˆ—åŒ–è¡¨å•ä»¥åŠåˆ›å»ºä¸Žè¡¨å•æ ¼å¼ç›¸åŒçš„æ•°æ®ï¼ˆç”¨äºŽé€šè¿‡XHRä¼ è¾“ï¼‰æä¾›äº†ä¾¿åˆ©ã€‚12var data = new FormData();data.append("name","Peter"); åˆ›å»ºäº†ä¸€ä¸ªFormDataè¡¨å•å¯¹è±¡ï¼Œé€šè¿‡append()æ–¹æ³•å‘è¡¨å•ä¸­ä¼ å…¥è¡¨å•å­—æ®µçš„åå­—å’Œå­—æ®µä¸­åŒ…å«çš„å€¼ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å‘FormDataæž„é€ å‡½æ•°ä¸­ä¼ å…¥è¡¨å•å…ƒç´ ã€‚1234567891011var xhr = createXHR();xhr.onreadyStatechange = function()&#123; if(xhr.readyState == 4)&#123; alert(xhr.responseText); &#125;else&#123; alert("Request was unsuccessful:"+xhr.status); &#125;&#125;xhr.open("post","postexample.php",true);var form = document.getElementById("user-info");xhr.send(new FormData(form)); 2.è¶…æ—¶è®¾å®šï¼ˆä»…ä»…IE8æ”¯æŒï¼‰IE8ä¸ºXHRå¯¹è±¡æ·»åŠ äº†ä¸€ä¸ªtimeoutå±žæ€§ï¼Œè¡¨ç¤ºè¯·æ±‚åœ¨ç­‰å¾…å“åº”å¤šå°‘æ¯«ç§’ä¹‹åŽå°±ç»ˆæ­¢ã€‚åœ¨ç»™timeoutè®¾ç½®ä¸€ä¸ªæ•°å€¼åŽï¼Œå¦‚æžœåœ¨è§„å®šæ—¶é—´å†…æµè§ˆå™¨è¿˜æ²¡æœ‰æŽ¥æ”¶åˆ°å“åº”ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘timeoutäº‹ä»¶ï¼Œè¿›è€Œè°ƒç”¨ontimeoutäº‹ä»¶å¤„ç†ç¨‹åºã€‚1234567891011121314151617181920var xhr = createXHR();xhr.onreadyStatechange = function()&#123; if(xhr.readyState == 4)&#123; try&#123; if(xhr.status &gt;=200 &amp;&amp;xhr.status &lt;300 ||xhr.status==304)&#123; alert(xhr.responseText); &#125;else&#123; alert("Request was unsuccessful:"+xhr.status); &#125; &#125;catch(ex)&#123; &#125; &#125;&#125;;xhr.open("get","example.php",true);xhr.timeout = 1000;xhr.ontimeout = function()&#123; alert("Request did not return in a second.");&#125;xhr.send(null); å¦‚æžœåœ¨è¶…æ—¶ç»ˆæ­¢è¯·æ±‚ä¹‹åŽå†è®¿é—®statuså±žæ€§ï¼Œä¼šå¯¼è‡´é”™è¯¯ï¼Œæ‰€ä»¥è¦å°†æ£€æŸ¥statuså±žæ€§çš„è¯­å¥æ”¾åœ¨try-catchä¸­ã€‚ 3.overrideMimeType()æ–¹æ³•firefoxæœ€æ—©å¼•å…¥overrideMimeType()æ–¹æ³•ï¼Œç”¨äºŽé‡å†™XHRå“åº”çš„MIMEç±»åž‹ã€‚ è¿›åº¦äº‹ä»¶Progress Eventsè§„èŒƒæ˜¯W3Cçš„ä¸€ä¸ªå·¥ä½œè‰æ¡ˆï¼Œå®šä¹‰äº†ä¸Žå®¢æˆ·ç«¯æœåŠ¡å™¨é€šä¿¡æœ‰å…³çš„äº‹ä»¶ã€‚æœ‰ä»¥ä¸‹6ä¸ªè¿›åº¦äº‹ä»¶ï¼šloadstartï¼šåœ¨æŽ¥æ”¶åˆ°å“åº”æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ—¶è§¦å‘ã€‚progressï¼šåœ¨æŽ¥æ”¶å“åº”æœŸé—´æŒç»­ä¸æ–­åœ°è§¦å‘ã€‚ï¼ˆå¿…é¡»åœ¨è°ƒç”¨open()æ–¹æ³•ä¹‹å‰æ·»åŠ onprogress()äº‹ä»¶å¤„ç†ç¨‹åºï¼‰errorï¼šåœ¨è¯·æ±‚å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚abortï¼šåœ¨å› ä¸ºè°ƒç”¨abort()æ–¹æ³•è€Œç»ˆæ­¢è¿žæŽ¥æ—¶è§¦å‘ã€‚loadï¼šåœ¨æŽ¥æ”¶åˆ°å®Œæ•´çš„å“åº”æ•°æ®æ—¶è§¦å‘ã€‚loadendï¼šåœ¨é€šä¿¡å®Œæˆæˆ–è€…è§¦å‘errorã€abortæˆ–loadäº‹ä»¶åŽè§¦å‘ã€‚ è·¨åŸŸèµ„æºå…±äº«(CORS)CORSèƒŒåŽçš„åŸºæœ¬æ€æƒ³ï¼Œå°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨è®©æµè§ˆå™¨ä¸ŽæœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»Žè€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸï¼Œè¿˜æ˜¯åº”è¯¥å¤±è´¥ã€‚CSRFï¼šè·¨åŸŸè¯·æ±‚ä¼ªé€ XSSï¼šè·¨ç«™ç‚¹è„šæœ¬ IEå¯¹CORSå®žçŽ°ä¸»è¦æ˜¯é€šè¿‡XDRå¯¹è±¡æ¥å®žçŽ°ï¼ŒXDRå¯¹è±¡ä¸ŽXHRç±»ä¼¼ï¼Œæ‰€æœ‰XDRè¯·æ±‚éƒ½æ˜¯å¼‚æ­¥çš„ã€‚1var xdr = new XDomainRequest(); CORSé€šè¿‡ä¸€ç§å«åšPrefighted Requestçš„é€æ˜ŽæœåŠ¡å™¨éªŒè¯æœºåˆ¶æ”¯æŒå¼€å‘äººå‘˜ä½¿ç”¨è‡ªå®šä¹‰çš„å¤´éƒ¨ã€GETæˆ–POSTä¹‹å¤–çš„æ–¹æ³•ï¼Œä»¥åŠä¸åŒç±»åž‹ä¸»ä½“å†…å®¹ã€‚ æ£€æµ‹XHRæ˜¯å¦æ”¯æŒCORSçš„æœ€ç®€å•æ–¹å¼ï¼Œå°±æ˜¯æ£€æŸ¥æ˜¯å¦å­˜åœ¨withCredentialså±žæ€§ è·¨æµè§ˆå™¨çš„CORSå®žçŽ°ï¼š1234567891011121314151617181920function createCORSRequest(method, url)&#123; var xhr = new XMLHttpRequest(); if("withCredentials" in xhr)&#123; xhr.open(method,url,true); &#125;else if(typeof XDomainRequest != "undefined")&#123; xhr = new XDomainRequest(); xhr.open(method,url); &#125;else&#123; xhr = null; &#125; return xhr;&#125;var request = createCORSRequest("get","http://www.somewhere-else.com/page/");if(request)&#123; request.onload = function()&#123; //å¯¹request.responseText è¿›è¡Œå¤„ç† &#125; request.send();&#125; å…¶ä»–è·¨åŸŸæŠ€æœ¯1.å›¾åƒPingç¬¬ä¸€ç§è·¨åŸŸæŠ€æœ¯æ˜¯ä½¿ç”¨&lt;img&gt;æ ‡ç­¾ã€‚å› ä¸ºåŠ è½½å›¾åƒä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚åŠ¨æ€åˆ›å»ºå›¾åƒç»å¸¸ç”¨äºŽå›¾åƒPingã€‚å›¾åƒPingæ˜¯ä¸ŽæœåŠ¡å™¨è¿›è¡Œç®€å•ã€å•å‘çš„è·¨åŸŸé€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚è¯·æ±‚çš„æ•°æ®æ˜¯é€šè¿‡æŸ¥è¯¢å­—ç¬¦ä¸²å½¢å¼å‘é€çš„ï¼Œè€Œå“åº”å¯ä»¥æ˜¯ä»»æ„å†…å®¹ï¼Œä½†é€šå¸¸æ˜¯åƒç´ å›¾æˆ–204å“åº”ã€‚eg:var img = new Image();img.onload = img.onerror = function(){ alert(â€œDone!â€);}img.src = â€œhttp://www.example.com/test?name=Peterâ€œ; å›¾åƒPingæœ€å¸¸ç”¨äºŽè·Ÿè¸ªç”¨æˆ·ç‚¹å‡»é¡µé¢æˆ–åŠ¨æ€å¹¿å‘Šæ›å…‰æ¬¡æ•°ã€‚å›¾åƒPingæœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼šä¸€æ˜¯åªèƒ½å‘é€GETè¯·æ±‚ï¼›äºŒæ˜¯æ— æ³•è®¿é—®æœåŠ¡å™¨çš„å“åº”æ–‡æœ¬ã€‚ 2.JSONPï¼ˆJSON with padding å¡«å……å¼JSONæˆ–å‚æ•°å¼JSONï¼‰JSONPç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå›žè°ƒå‡½æ•°å’Œæ•°æ®ã€‚é€šè¿‡æŸ¥è¯¢å­—ç¬¦ä¸²æ¥æŒ‡å®šJSONPæœåŠ¡çš„å›žè°ƒå‡½æ•°æ˜¯å¾ˆå¸¸è§çš„ã€‚ JSONPæ˜¯é€šè¿‡åŠ¨æ€&lt;script&gt;å…ƒç´ æ¥ä½¿ç”¨ï¼Œä½¿ç”¨æ—¶å¯ä»¥ä¸ºsrcå±žæ€§æŒ‡å®šä¸€ä¸ªè·¨åŸŸURLã€‚123456function handleResponse(response)&#123; alert("You're at IP address "+response.ip + ",which is in " + response.city +", "+response.region_name);&#125;var script = document.createElement("script");script.src = "http://freegeoip.net/json/?callback=handleResponse";document.body.insertBefore("script,document.body.firstChild"); JSONPçš„ä¼˜ç‚¹æ˜¯ï¼šèƒ½å¤Ÿç›´æŽ¥è®¿é—®å“åº”æ–‡æœ¬ï¼Œæ”¯æŒåœ¨æµè§ˆå™¨ä¸ŽæœåŠ¡å™¨ä¹‹é—´åŒå‘é€šä¿¡ã€‚ä¸è¶³ï¼šJSONPæ˜¯ä»Žå…¶ä»–åŸŸä¸­åŠ è½½ä»£ç æ‰§è¡Œï¼Œå¦‚æžœå…¶ä»–åŸŸä¸å®‰å…¨ï¼Œå¾ˆå¯èƒ½ä¼šåœ¨å“åº”ä¸­å¤¹å¸¦ä¸€äº›æ¶æ„ä»£ç ï¼›å…¶æ¬¡è¦ç¡®å®šJSONPè¯·æ±‚æ˜¯å¦å¤±è´¥å¹¶ä¸å®¹æ˜“ã€‚ CometCometæŒ‡çš„æ˜¯ä¸€ç§æ›´é«˜çº§çš„AjaxæŠ€æœ¯ï¼ˆç»å¸¸ä¹Ÿæœ‰äººç§°ä¸ºâ€œæœåŠ¡å™¨æŽ¨é€â€ï¼‰ã€‚Ajaxæ˜¯ä¸€ç§ä»Žé¡µé¢å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®çš„æŠ€æœ¯ï¼Œè€ŒCometåˆ™æ˜¯ä¸€ç§æœåŠ¡å™¨å‘é¡µé¢æŽ¨é€æ•°æ®çš„æŠ€æœ¯ã€‚ Cometèƒ½å¤Ÿè®©ä¿¡æ¯è¿‘ä¹Žå®žæ—¶åœ°è¢«æŽ¨é€åˆ°é¡µé¢ä¸Šï¼Œéžå¸¸é€‚åˆå¤„ç†ä½“è‚²æ¯”èµ›çš„åˆ†æ•°å’Œè‚¡ç¥¨æŠ¥ä»·ã€‚æœ‰ä¸¤ç§å®žçŽ°Cometçš„æ–¹å¼ï¼šé•¿è½®è¯¢å’Œæµã€‚é•¿è½®è¯¢æ˜¯ä¼ ç»Ÿè½®è¯¢ï¼ˆçŸ­è½®è¯¢ï¼‰çš„ä¸€ä¸ªç¿»ç‰ˆï¼Œå³æµè§ˆå™¨å®šæ—¶å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œçœ‹æœ‰æ²¡æœ‰æ›´æ–°çš„æ•°æ®ã€‚è€Œé•¿è½®è¯¢æ˜¯æŠŠçŸ­è½®è¯¢é¢ å€’äº†ã€‚é¡µé¢å‘èµ·ä¸€ä¸ªåˆ°æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œç„¶åŽæœåŠ¡å™¨ä¸€ç›´ä¿æŒè¿žæŽ¥æ‰“å¼€ï¼Œç›´åˆ°æœ‰æ•°æ®å¯å‘é€ã€‚ æ— è®ºçŸ­è½®è¯¢è¿˜æ˜¯é•¿è½®è¯¢ï¼Œæµè§ˆå™¨éƒ½è¦åœ¨æŽ¥æ”¶æ•°æ®ä¹‹å‰ï¼Œå…ˆå‘èµ·å¯¹æœåŠ¡å™¨çš„è¿žæŽ¥ã€‚ä¸¤è€…æœ€å¤§çš„åŒºåˆ«åœ¨äºŽæœåŠ¡å™¨å¦‚ä½•å‘é€æ•°æ®ã€‚çŸ­è½®è¯¢æ˜¯æœåŠ¡å™¨ç«‹å³å‘é€å“åº”ï¼Œæ— è®ºæ•°æ®æ˜¯å¦æœ‰æ•ˆï¼Œè€Œé•¿è½®è¯¢æ˜¯ç­‰å¾…å‘é€å“åº”ã€‚ä»¥è¯·å®¢åƒé¥­æ¥è®²è¿°çŸ­è½®è¯¢å’Œé•¿è½®è¯¢ï¼šçŸ­è½®è¯¢å°±æ˜¯ï¼Œæˆ‘ï¼ˆserverï¼‰è¯´è¦è¯·å®¢åƒé¥­ï¼Œç„¶åŽä½ ï¼ˆbrowserï¼‰å°±ä¸åœåœ°å‘çŸ­ä¿¡é—®æˆ‘â€œä»Šå¤©è¯·å®¢åƒé¥­ä¸ï¼Ÿâ€ï¼Œä½ çš„è¡Œä¸ºæ— ç–‘æ˜¯å¾ˆæµªè´¹é’±çš„ï¼ˆè€—èµ„æºï¼‰ï¼›é•¿è½®è¯¢å°±æ˜¯ï¼Œæˆ‘ï¼ˆserverï¼‰è¯´è¦è¯·å®¢åƒé¥­ï¼Œç„¶åŽä½ ï¼ˆbrowserï¼‰å°±å‘æ¡çŸ­ä¿¡ç»™æˆ‘â€œä¸‹æ¬¡è¯·å®¢åƒé¥­è®°å¾—å«æˆ‘â€ï¼Œæˆ‘å°±è®°å¾—è¿™ä»¶äº‹ï¼Œä¸‹æ¬¡è¯·å®¢åƒé¥­å°±ä¼šå‘çŸ­ä¿¡é€šçŸ¥ä½ â€œæˆ‘ä»Šå¤©è¯·å®¢åƒé¥­â€ã€‚ ç¬¬äºŒç§æµè¡Œçš„Cometå®žçŽ°æ˜¯HTTPæµã€‚æµä¸åŒäºŽä¸Šè¿°ä¸¤ç§è½®è¯¢ï¼Œå› ä¸ºå®ƒåœ¨é¡µé¢çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…åªä½¿ç”¨ä¸€ä¸ªHTTPè¿žæŽ¥ï¼Œå³æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨ä¿æŒè¿žæŽ¥æ‰“å¼€ï¼Œç„¶åŽå‘¨æœŸæ€§åœ°å‘æµè§ˆå™¨å‘é€æ•°æ®ã€‚ åœ¨Firefoxã€Chromeã€Operaç­‰æµè§ˆå™¨ä¸­ï¼Œé€šè¿‡ä¾¦å¬readyStatechangeäº‹ä»¶ä»¥åŠæ£€æµ‹readyStateçš„å€¼æ˜¯å¦ä¸º3ï¼Œå°±å¯ä»¥åˆ©ç”¨XHRå¯¹è±¡å®žçŽ°HTTPæµã€‚å½“readyStateå€¼å˜ä¸º3æ—¶ï¼ŒresponseTextå±žæ€§ä¸­å°±ä¼šä¿å­˜æŽ¥æ”¶åˆ°çš„æ‰€æœ‰æ•°æ®ã€‚ä½¿ç”¨XHRå¯¹è±¡å®žçŽ°HTTPæµçš„å…¸åž‹ä»£ç ï¼š123456789101112131415161718192021222324252627function createStreamingClient(url,progress,finished)&#123; var xhr = new XMLHttpRequest(), received = 0; xhr.open("get",url,true); xhr.onreadystatechange = function()&#123; var result; if(xhr.readyState == 3)&#123; //åªå–å¾—æœ€æ–°æ•°æ®å¹¶è°ƒæ•´è®¡æ•°å™¨ result = xhr.responseText.substring(received); received += result.length; //è°ƒç”¨progresså›žè°ƒå‡½æ•° progress(result); &#125;else if(xhr.readyState == 4)&#123; finished(xhr.responseText); &#125; &#125; xhr.send(null); return xhr;&#125;var client = createStreamingClient("streaming.php",function(data)&#123; alert("Received: "+data);&#125;,function(data)&#123; alert("Done!");&#125;); è¿™ä¸ªcreateStreamingClient()å‡½æ•°æŽ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šè¦è¿žæŽ¥çš„URLã€åœ¨æŽ¥æ”¶åˆ°æ•°æ®æ—¶è°ƒç”¨çš„å‡½æ•°ä»¥åŠå…³é—­è¿žæŽ¥æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚ æœåŠ¡å™¨å‘é€äº‹ä»¶ï¼ˆSSEï¼‰SSEæ˜¯å›´ç»•åªè¯»Cometäº¤äº’æŽ¨å‡ºçš„APIæˆ–è€…æ¨¡å¼ã€‚SSE APIç”¨äºŽåˆ›å»ºåˆ°æœåŠ¡å™¨çš„å•å‘è¿žæŽ¥ï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªè¿žæŽ¥å¯ä»¥å‘é€ä»»æ„æ•°é‡çš„æ•°æ®ã€‚1.SSE APIè¦é¢„è®¢æ–°çš„äº‹ä»¶æµï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªæ–°çš„EventSourceå¯¹è±¡ï¼Œå¹¶ä¼ è¿›ä¸€ä¸ªåŒæºçš„å…¥å£ç‚¹ï¼š1var source = new EventSource("myevents.php"); EventSourceçš„å®žä¾‹æœ‰ä¸€ä¸ªreadyStateå±žæ€§ï¼Œå€¼ä¸º0è¡¨ç¤ºæ­£è¿žæŽ¥åˆ°æœåŠ¡å™¨ï¼Œå€¼ä¸º1è¡¨ç¤ºæ‰“å¼€äº†è¿žæŽ¥ï¼Œå€¼ä¸º2è¡¨ç¤ºå…³é—­äº†è¿žæŽ¥ã€‚å¦å¤–è¿˜æœ‰ä¸‰ä¸ªäº‹ä»¶ï¼š open:åœ¨å»ºç«‹è¿žæŽ¥æ—¶è§¦å‘ã€‚message:åœ¨ä»ŽæœåŠ¡å™¨æŽ¥æ”¶åˆ°æ–°äº‹ä»¶æ—¶è§¦å‘ã€‚error:åœ¨æ— æ³•å»ºç«‹è¿žæŽ¥æ—¶è§¦å‘ã€‚123source.onmessage = function(event)&#123; var data = event.data;&#125; å¦‚æžœæƒ³å¼ºåˆ¶ç«‹å³æ–­å¼€è¿žæŽ¥å¹¶ä¸”ä¸å†é‡æ–°è¿žæŽ¥ï¼Œå¯ä»¥è°ƒç”¨close()æ–¹æ³•ï¼šsource.close(); 2.äº‹ä»¶æµæœåŠ¡å™¨äº‹ä»¶ä¼šé€šè¿‡ä¸€ä¸ªæŒä¹…çš„HTTPå“åº”å‘é€ï¼Œè¿™ä¸ªå“åº”çš„MIMEç±»åž‹ä¸ºtext/event-stream.Web SocketsWeb Socketsçš„ç›®æ ‡æ˜¯åœ¨ä¸€ä¸ªå•ç‹¬çš„æŒä¹…è¿žæŽ¥ä¸Šæä¾›å…¨åŒå·¥ã€åŒå‘é€šä¿¡ã€‚ å•å·¥ï¼šå¦‚æžœåœ¨é€šä¿¡è¿‡ç¨‹çš„ä»»æ„æ—¶åˆ»ï¼Œä¿¡æ¯åªèƒ½ä»Žä¸€æ–¹Aä¼ åˆ°ä¸€æ–¹Bï¼Œåˆ™ç§°ä¸ºå•å·¥ï¼›åŠåŒå·¥ï¼šå¦‚æžœåœ¨é€šä¿¡è¿‡ç¨‹çš„ä»»æ„æ—¶åˆ»ï¼Œä¿¡æ¯æ—¢å¯ä»¥ç”±Aä¼ åˆ°Bï¼Œåˆèƒ½å¤Ÿä»ŽBä¼ åˆ°Aï¼Œä½†åªèƒ½ç”±ä¸€ä¸ªæ–¹å‘ä¸Šçš„ä¼ è¾“å­˜åœ¨ï¼Œåˆ™ç§°ä¸ºåŠåŒå·¥ï¼›å…¨åŒå·¥ï¼šå¦‚æžœåœ¨é€šä¿¡è¿‡ç¨‹çš„ä»»æ„æ—¶åˆ»ï¼Œçº¿è·¯ä¸Šå­˜åœ¨Aåˆ°Bå’ŒBåˆ°Açš„åŒå‘ä¿¡å·ä¼ è¾“ï¼Œåˆ™ç§°ä¸ºå…¨åŒå·¥ã€‚ è¿‡ç¨‹ï¼šåœ¨Javascriptä¸­åˆ›å»ºäº†WebSocketä¹‹åŽï¼Œä¼šæœ‰ä¸€ä¸ªHTTPè¯·æ±‚å‘é€åˆ°æµè§ˆå™¨ä»¥å‘èµ·è¿žæŽ¥ã€‚åœ¨å–å¾—æœåŠ¡å™¨å“åº”åŽï¼Œå»ºç«‹çš„è¿žæŽ¥ä¼šä½¿ç”¨HTTPå‡çº§ä»ŽHTTPåè®®äº¤æ¢ä¸ºWeb Socketåè®®ã€‚ä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨æ ‡å‡†çš„HTTPæœåŠ¡å™¨æ— æ³•å®žçŽ°Web Socketsï¼Œåªæœ‰æ”¯æŒè¿™ç§åè®®çš„ä¸“é—¨æœåŠ¡å™¨æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ Web Socketsä½¿ç”¨äº†è‡ªå®šä¹‰çš„åè®®ï¼Œæœ‰ç‰¹å®šçš„URLæ¨¡å¼ï¼šws://ï¼ŒåŠ å¯†çš„è¿žæŽ¥æ˜¯ï¼šwss://ä½¿ç”¨è‡ªå®šä¹‰åè®®è€ŒéžHTTPåè®®çš„å¥½å¤„æ˜¯ï¼šèƒ½å¤Ÿåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å‘é€éžå¸¸å°‘é‡çš„æ•°æ®ï¼Œè€Œä¸å¿…æ‹…å¿ƒHTTPé‚£æ ·å­—èŠ‚çº§çš„å¼€é”€ã€‚ç¼ºç‚¹ï¼šåˆ¶å®šåè®®çš„æ—¶é—´æ¯”åˆ¶å®šJavaScript APIçš„æ—¶é—´è¿˜è¦é•¿ã€‚ 1.Web Sockets API1var socket = new WebSocket("ws://www.example.com/server.php"); å¿…é¡»ç»™WebSocketæž„é€ å‡½æ•°ä¼ å…¥ç»å¯¹URLï¼Œå¹¶ä¸”å¯ä»¥æ˜¯è·¨åŸŸçš„URLã€‚ ä¸ŽXHRç±»ä¼¼ï¼ŒWebSocketä¹Ÿæœ‰readyStateå±žæ€§ï¼šWebSocket.OPENING(0):æ­£åœ¨å»ºç«‹è¿žæŽ¥ã€‚WebSocket.OPEN(1):å·²ç»å»ºç«‹è¿žæŽ¥ã€‚WebSocket.CLOSING(2):æ­£åœ¨å…³é—­è¿žæŽ¥ã€‚WebSocket.CLOSE(3):å·²ç»å…³é—­è¿žæŽ¥ã€‚ WebSocketæ²¡æœ‰readystatechangeäº‹ä»¶ï¼ŒreadyStateçš„å€¼æ°¸è¿œä»Ž0å¼€å§‹ã€‚ 2.å‘é€å’ŒæŽ¥æ”¶æ•°æ®12var socket = new WebSocket("ws://www.example.com/server.php");socket.send("Hello world!"); WebSocketåªèƒ½é€šè¿‡è¿žæŽ¥å‘é€çº¯æ–‡æœ¬ä¿¡æ¯ï¼Œå¯¹äºŽå¤æ‚çš„æ•°æ®ç»“æž„ï¼Œå¦‚JSONæ•°æ®ï¼Œå¿…é¡»åœ¨è¿žæŽ¥å‘é€ä¹‹å‰è¿›è¡Œåºåˆ—åŒ–ã€‚123456var message = &#123; time:new Date(), text: "Hello world!", clientId: "abcdef"&#125;;socket.send(JSON.stringify(message)); å½“æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘æ¥æ¶ˆæ¯æ—¶ï¼ŒWebSocketå¯¹è±¡ä¼šè§¦å‘messageäº‹ä»¶ï¼Œè¿”å›žçš„æ•°æ®ä¿å­˜åœ¨event.dataã€‚ 3.å…¶ä»–äº‹ä»¶open:åœ¨æˆåŠŸå»ºç«‹è¿žæŽ¥æ—¶è§¦å‘ï¼›error:åœ¨å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ï¼Œè¿žç»­ä¸èƒ½æŒç»­ï¼›close:åœ¨è¿žæŽ¥å…³é—­æ—¶è§¦å‘ã€‚ åœ¨è¿™ä¸‰ä¸ªäº‹ä»¶ä¸­ï¼Œåªæœ‰closeäº‹ä»¶çš„eventå¯¹è±¡æœ‰é¢å¤–ä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ï¼šwasCleanã€codeå’Œreasonã€‚ å®‰å…¨CSRF(è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ )ï¼šæœªè¢«æŽˆæƒç³»ç»Ÿæœ‰æƒè®¿é—®æŸä¸ªèµ„æºçš„æƒ…å†µã€‚ä¸ºç¡®ä¿é€šè¿‡XHRè®¿é—®çš„URLå®‰å…¨ï¼Œé€šè¡Œçš„åšæ³•å°±æ˜¯éªŒè¯å‘é€è¯·æ±‚è€…æ˜¯å¦æœ‰æƒé™è®¿é—®ç›¸åº”çš„èµ„æºã€‚æœ‰æ•ˆåšæ³•:è¦æ±‚ä»¥SSLè¿žæŽ¥æ¥è®¿é—®å¯ä»¥é€šè¿‡XHRè¯·æ±‚çš„èµ„æºï¼›è¦æ±‚æ¯ä¸€æ¬¡è¯·æ±‚éƒ½è¦é™„å¸¦ç»è¿‡ç®—æ³•è®¡ç®—å¾—åˆ°çš„éªŒè¯ç ï¼› æ— æ•ˆåšæ³•ï¼ˆå¯¹äºŽé˜²èŒƒCSRFæ”»å‡»ä¸èµ·ä½œç”¨ï¼‰ï¼šè¦æ±‚å‘é€POSTè€Œä¸æ˜¯GETè¯·æ±‚â€”â€”å¾ˆå®¹æ˜“æ”¹å˜ï¼›æ£€æŸ¥æ¥æºURLä»¥ç¡®å®šæ˜¯å¦å¯ä¿¡â€”â€”æ¥æºè®°å½•å¾ˆå®¹æ˜“ä¼ªé€ ï¼›åŸºäºŽcookieä¿¡æ¯è¿›è¡ŒéªŒè¯â€”â€”å¾ˆå®¹æ˜“ä¼ªé€ ã€‚ ä¸è¦å°†ç”¨æˆ·åå’Œå¯†ç ä¿å­˜åœ¨Javascriptä»£ç ä¸­ï¼ï¼ï¼]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆä¸ƒï¼‰]]></title>
    <url>%2F2017%2F05%2F16%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89%2F</url>
    <content type="text"><![CDATA[HTML5è„šæœ¬ç¼–ç¨‹1.è·¨æ–‡æ¡£æ¶ˆæ¯ä¼ é€’è·¨æ–‡æ¡£æ¶ˆæ¯ä¼ é€ï¼Œæœ‰æ—¶ç®€ç§°XDMï¼ŒæŒ‡çš„æ˜¯åœ¨æ¥è‡ªä¸åŒåŸŸçš„é¡µé¢é—´ä¼ é€’æ¶ˆæ¯ã€‚XDMçš„æ ¸å¿ƒæ˜¯postMessage()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯ï¼šå‘å¦ä¸€ä¸ªåœ°æ–¹ä¼ é€’æ•°æ®ã€‚å¯¹äºŽXDMè€Œè¨€ï¼Œâ€œå¦ä¸€ä¸ªåœ°æ–¹â€æŒ‡çš„æ˜¯åŒ…å«åœ¨å½“å‰é¡µé¢ä¸­çš„&lt;iframe&gt;å…ƒç´ ï¼Œæˆ–è€…ç”±å½“å‰é¡µé¢å¼¹å‡ºçš„çª—å£ã€‚postMessage()æ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€æ¡æ¶ˆæ¯å’Œä¸€ä¸ªè¡¨ç¤ºæ¶ˆæ¯æŽ¥æ”¶æ–¹æ¥è‡ªå“ªä¸ªåŸŸçš„å­—ç¬¦ä¸²ã€‚123//æ³¨æ„ï¼šæ‰€æœ‰æ”¯æŒXDMçš„æµè§ˆå™¨ä¹Ÿæ”¯æŒiframeçš„contentWindowå±žæ€§var iframeWindow = document.getElementById("myframe").contentWindow;iframeWindow.postMessage("A secret","http://www.wrox.com"); æŽ¥æ”¶åˆ°XDMæ¶ˆæ¯æ—¶ï¼Œä¼šè§¦å‘windowå¯¹è±¡çš„messageäº‹ä»¶ï¼Œæ˜¯ä»¥å¼‚æ­¥å½¢å¼è§¦å‘çš„ï¼Œå› æ­¤ä»Žå‘é€æ¶ˆæ¯åˆ°æŽ¥æ”¶æ¶ˆæ¯ï¼ˆè§¦å‘çª—å£çš„messageäº‹ä»¶ï¼‰å¯èƒ½è¦ç»è¿‡ä¸€æ®µæ—¶é—´çš„å»¶è¿Ÿã€‚è§¦å‘messageäº‹ä»¶åŽï¼Œä¼ é€’ç»™onmessageå¤„ç†ç¨‹åºçš„äº‹ä»¶å¯¹è±¡ï¼ˆeventï¼‰åŒ…å«ä»¥ä¸‹ä¸‰æ–¹é¢çš„é‡è¦ä¿¡æ¯ï¼šdataï¼šä½œä¸ºpostMessage()ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„å­—ç¬¦ä¸²æ•°æ®ã€‚originï¼šå‘é€æ¶ˆæ¯çš„æ–‡æ¡£æ‰€åœ¨çš„åŸŸã€‚sourceï¼šå‘é€æ¶ˆæ¯çš„æ–‡æ¡£çš„windowå¯¹è±¡çš„ä»£ç†ã€‚è¿™ä¸ªä»£ç†å¯¹è±¡ä¸»è¦ç”¨äºŽåœ¨å‘é€ä¸Šä¸€æ¡æ¶ˆæ¯çš„çª—å£ä¸­è°ƒç”¨postMessage()æ–¹æ³•ã€‚å¦‚æžœå‘é€æ¶ˆæ¯çš„çª—å£æ¥è‡ªåŒä¸€ä¸ªåŸŸï¼Œé‚£è¿™ä¸ªå¯¹è±¡å°±æ˜¯windowã€‚123456789EventUtil.addHandler(window,"message",function(event)&#123; //ç¡®ä¿å‘é€æ¶ˆæ¯çš„åŸŸæ˜¯å·²çŸ¥çš„åŸŸ if(event.origin=="http://www.wrox.com")&#123; //å¤„ç†æŽ¥æ”¶åˆ°çš„æ•°æ® processsMessage(event.data); //å¯é€‰ï¼šå‘æ¥æºçª—å£å‘é€å›žæ‰§ event.source.postMessage("Received","http://p2p.wrox.com"); &#125;&#125;); event.sourceå¤§å¤šæ•°æƒ…å†µä¸‹åªæ˜¯windowå¯¹è±¡çš„ä»£ç†ï¼Œä¸èƒ½é€šè¿‡è¿™ä¸ªä»£ç†å¯¹è±¡è®¿é—®windowå¯¹è±¡çš„å…¶ä»–ä»»ä½•ä¿¡æ¯ã€‚åœ¨ä½¿ç”¨postMessage()æ—¶ï¼Œæœ€å¥½æ˜¯åªä¼ å­—ç¬¦ä¸²ï¼Œå¦‚æžœæƒ³ä¼ å…¥ç»“æž„åŒ–çš„æ•°æ®ï¼Œæœ€ä½³é€‰æ‹©æ˜¯å…ˆåœ¨è¦ä¼ å…¥çš„æ•°æ®ä¸Šè°ƒç”¨JSON.stringify()ï¼Œé€šè¿‡postMessage()ä¼ å…¥å¾—åˆ°å­—ç¬¦ä¸²ï¼Œç„¶åŽå†åœ¨onmessageäº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨JSON.parse()ã€‚ 2.åŽŸç”Ÿæ‹–æ”¾æ‹–æ”¾äº‹ä»¶æ‹–åŠ¨æŸå…ƒç´ æ—¶ï¼Œå°†ä¾æ¬¡è§¦å‘ä¸‹åˆ—äº‹ä»¶ï¼š1ï¼‰dragstart2ï¼‰drag3ï¼‰dragendå½“æŸä¸ªå…ƒç´ è¢«æ‹–åŠ¨åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„æ”¾ç½®ç›®æ ‡ä¸Šæ—¶ï¼Œä¸‹åˆ—äº‹ä»¶ä¼šä¾æ¬¡å‘ç”Ÿï¼š1ï¼‰dragenter2ï¼‰dragover3ï¼‰dragleaveï¼ˆæ‹–å‡ºäº†ç›®æ ‡ï¼‰æˆ–dropï¼ˆæ”¾åˆ°ç›®æ ‡ä¸­ï¼‰ è‡ªå®šä¹‰æ”¾ç½®ç›®æ ‡æœ‰äº›å…ƒç´ é»˜è®¤æ˜¯ä¸å…è®¸æ”¾ç½®ï¼Œä½†å¯ä»¥é‡å†™è¯¥å…ƒç´ çš„dragoverå’Œdragenteräº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œæ¥ä½¿å¾—å…ƒç´ å˜æˆæœ‰æ•ˆçš„æ”¾ç½®ç›®æ ‡ã€‚1234567var droptarget = document.getElementById("droptarget");EventUtil.addHandler(droptarget,"dragover",function(event)&#123; EventUtil.preventDefault(event);&#125;);EventUtil.addHandler(droptarget,"dragenter",function(event)&#123; EventUtil.preventDefault(event);&#125;); åœ¨firefox3.5+ä¸­ï¼Œæ”¾ç½®äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ˜¯æ‰“å¼€è¢«æ”¾åˆ°æ”¾ç½®ç›®æ ‡ä¸Šçš„URLï¼Œå› æ­¤ï¼Œä¸ºäº†è®©firefox æ”¯æŒæ­£å¸¸çš„æ‹–æ”¾ï¼Œè¿˜è¦å–æ¶ˆäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼šEventUtil.addHandler(droptarget,â€dropâ€,function(event){ EventUtil.preventDefault(event);}); dataTransferå¯¹è±¡ä¸ºäº†åœ¨æ‹–æ”¾æ“ä½œæ—¶å®žçŽ°æ•°æ®äº¤æ¢ï¼Œå¼•å…¥dataTransfer å¯¹è±¡ï¼Œå®ƒæ˜¯äº‹ä»¶å¯¹è±¡çš„ä¸€ä¸ªå±žæ€§ï¼Œç”¨äºŽä»Žè¢«æ‹–åŠ¨å…ƒç´ å‘æ”¾ç½®ç›®æ ‡ä¼ é€’å­—ç¬¦ä¸²æ ¼å¼çš„æ•°æ®ã€‚dataTransferå¯¹è±¡ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šgetData()å’ŒsetData()ã€‚123456//è®¾ç½®å’ŒæŽ¥æ”¶æ–‡æœ¬æ•°æ®event.dataTransfer.setData("text","some text");var text = event.dataTransfer.getData("text");//è®¾ç½®å’ŒæŽ¥æ”¶URLevent.dataTransfer.setData("URL","http://www.wrox.com/");var text = event.dataTransfer.getData("URL"); ä¸ºäº†å®žçŽ°è·¨æµè§ˆå™¨ä»ŽdataTransferå¯¹è±¡å–å¾—æ•°æ®ï¼Œæœ€å¥½åœ¨å–å¾—URLæ•°æ®æ—¶æ£€æµ‹ä¸¤ä¸ªå€¼ï¼Œè€Œåœ¨å–å¾—æ–‡æœ¬æ•°æ®æ—¶ä½¿ç”¨â€œTextâ€.12345var dataTransfer = event.dataTransfer;//è¯»å–URLvar url = dataTransfer.getData("url") ||dataTransfer.getData("text/uri-list");//è¯»å–æ–‡æœ¬var text = dataTransfer.getData("Text") ; dropEffectä¸ŽeffectAlloweddataTransferå¯¹è±¡çš„ä¸¤ä¸ªå±žæ€§ï¼šdropEffectå’ŒeffectAllowed.dropEffectæœ‰4ä¸ªå¯èƒ½då€¼ï¼šnoneï¼šä¸èƒ½æŠŠæ‹–åŠ¨çš„å…ƒç´ æ”¾åœ¨è¿™é‡Œã€‚moveï¼šåº”è¯¥æŠŠæ‹–åŠ¨çš„å…ƒç´ ç§»åŠ¨åˆ°æ”¾ç½®ç›®æ ‡ã€‚copyï¼šåº”è¯¥æŠŠæ‹–åŠ¨çš„å…ƒç´ å¤åˆ¶åˆ° æ”¾ç½®ç›®æ ‡ã€‚linkï¼šè¡¨ç¤ºæ”¾ç½®ç›®æ ‡ä¼šæ‰“å¼€æ‹–åŠ¨çš„å…ƒç´ ï¼ˆä½†æ‹–åŠ¨çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªé“¾æŽ¥ï¼Œæœ‰URLï¼‰ã€‚ dropEffectå±žæ€§åªæœ‰æ­é…effectAllowedå±žæ€§æ‰æœ‰ç”¨ã€‚effectAllowedæœ‰ä»¥ä¸‹å¯èƒ½çš„å€¼ï¼šuninitializedï¼šæ²¡æœ‰ç»™è¢«æ‹–åŠ¨çš„å…ƒç´ è®¾ç½®ä»»ä½•æ”¾ç½®è¡Œä¸ºã€‚noneï¼šè¢«æ‹–åŠ¨å…ƒç´ ä¸èƒ½æœ‰ä»»ä½•è¡Œä¸ºã€‚copyï¼šåªå…è®¸å€¼ä¸ºâ€œcopyâ€çš„dropEffectã€‚linkï¼šåªå…è®¸å€¼ä¸ºâ€œlinkâ€çš„dropEffectã€‚moveï¼šåªå…è®¸å€¼ä¸ºâ€œmoveâ€çš„dropEffectã€‚copyLinkï¼šå…è®¸å€¼ä¸ºâ€œcopyâ€å’Œâ€œlinkâ€çš„dropEffectã€‚copyMoveï¼šå…è®¸å€¼ä¸ºâ€œcopyâ€å’Œâ€œmoveâ€çš„dropEffectã€‚linkMoveï¼šå…è®¸å€¼ä¸ºâ€œlinkâ€å’Œâ€œmoveâ€çš„dropEffectã€‚allï¼šå…è®¸ä»»æ„dropEffectã€‚ å¿…é¡»åœ¨ondragstartäº‹ä»¶å¤„ç†ç¨‹åºä¸­è®¾ç½®effectAllowedå±žæ€§ã€‚ å¯æ‹–åŠ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾åƒã€é“¾æŽ¥å’Œæ–‡æœ¬æ˜¯å¯ä»¥æ‹–åŠ¨çš„ï¼Œä½†æ–‡æœ¬åªæœ‰åœ¨è¢«é€‰ä¸­çš„æƒ…å†µä¸‹æ‰å¯è¢«æ‹–åŠ¨ã€‚è¦æƒ³è®©å…¶ä»–å…ƒç´ ä¹Ÿå¯è¢«æ‹–åŠ¨ï¼ŒHTML5ä¸ºæ‰€æœ‰HTMLå…ƒç´ è§„å®šäº†draggableå±žæ€§ï¼Œè¡¨ç¤ºå…ƒç´ æ˜¯å¦å¯ä»¥æ‹–åŠ¨ã€‚1&lt;div draggable="true"&gt;...&lt;/div&gt; å…¶ä»–æˆå‘˜HTML5è¿˜è§„å®šäº†dataTransferå¯¹è±¡è¿˜åº”è¯¥åŒ…å«ä¸‹åˆ—æ–¹æ³•å’Œå±žæ€§ï¼šaddElement(element)ï¼šä¸ºæ‹–åŠ¨æ“ä½œæ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚clearData(format)ï¼šæ¸…é™¤ä»¥ç‰¹å®šæ ¼å¼ä¿å­˜çš„æ•°æ®ã€‚setDragImage(element,x,y)ï¼šæŒ‡å®šä¸€å‰¯å›¾åƒï¼Œå½“æ‹–åŠ¨å‘ç”Ÿæ—¶ï¼Œæ˜¾ç¤ºåœ¨å…‰æ ‡ä¸‹æ–¹ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯è¦æ˜¾ç¤ºçš„HTMLå…ƒç´ å’Œå…‰æ ‡åœ¨å›¾åƒä¸­çš„xã€yåæ ‡ã€‚typesï¼šå½“å‰ä¿å­˜çš„æ•°æ®ç±»åž‹ã€‚ æ‹–æ‹½å®žçŽ°åŽŸç†è®¡ç®—å‡ºé¼ æ ‡ç§»åŠ¨çš„è·ç¦»ï¼Œç„¶åŽå°†å…ƒç´ çš„åæ ‡ä½ç½®åŠ ä¸Šé¼ æ ‡å‰åŽåæ ‡ä¹‹å·®ï¼Œæœ€åŽæ”¹å˜å…ƒç´ çš„topå’Œleftå€¼1234nn6 = document.getElementById &amp;&amp; !document.all;//åˆ¤æ–­æ˜¯å¦æ˜¯IE6æµè§ˆå™¨dragObj.style.top = (nn6 ? objY + e.clientY - mouseY : objY + event.clientY - mouseY) + "px";dragObj.style.left = (nn6 ? objX + e.clientX - mouseX : objX + event.clientX - mouseX) + "px";ï¼ˆe.clientXå’Œe.clientYæ˜¯é¼ æ ‡å½“å‰çš„åæ ‡ä½ç½®ï¼ŒmouseXå’ŒmouseYæ˜¯é¼ æ ‡åŽŸæ¥çš„åæ ‡ä½ç½®ï¼ŒobjXå’ŒobjYæ˜¯å…ƒç´ çš„åæ ‡ä½ç½®ï¼‰ åª’ä½“å…ƒç´ &lt;video&gt;å’Œ&lt;audio&gt;å¸¸ç”¨å±žæ€§ï¼šå…¨éƒ¨å±žæ€§ï¼šå¸¸ç”¨æ–¹æ³•äº‹ä»¶ è‡ªå®šä¹‰åª’ä½“æ’­æ”¾å™¨1234567891011&lt;div class="mediaplayer"&gt; &lt;div class="video"&gt; &lt;video id="player" src="movie.mov" poster="mymovie.jpg" width="300" height="200"&gt; Video player not available. &lt;/video&gt; &lt;/div&gt; &lt;div class="controls"&gt; &lt;input type="button" value="Play" id="video-btn"/&gt; &lt;span id="curtime"&gt;0&lt;/span&gt;&lt;span id="duration"&gt;0&lt;/span&gt; &lt;/div&gt;&lt;/div&gt; 123456789101112131415161718192021var player = document.getElementById("player"), btn = document.getElementById("video-btn"), curtime = document.getElementById("curtime"), duration = document.getElementById("duration");//æ›´æ–°æ’­æ”¾æ—¶é—´duration.innerHTML = player.duration;//ä¸ºæŒ‰é’®æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºEventUtil.addHandler(btn,"click",function(event)&#123; if (player.paused) &#123; player.play(); btn.value = "Pause"; &#125;else&#123; player.pause(); btn.value = "Play"; &#125;&#125;);//å®šæ—¶æ›´æ–°å½“å‰æ—¶é—´setInterval(function()&#123; curtime.innerHTML = player.currentTime;&#125;,250); æ£€æµ‹ç¼–ç å™¨ï¼ˆæµè§ˆå™¨ï¼‰çš„æ”¯æŒæƒ…å†µcanPlayType()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æŽ¥æ”¶ä¸€ç§æ ¼å¼/ç¼–è§£ç å™¨å­—ç¬¦ä¸²ï¼Œè¿”å›žâ€œprobablyâ€ã€â€œmaybeâ€å’Œâ€œâ€ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ã€‚ç©ºå­—ç¬¦ä¸²æ˜¯å‡å€¼ï¼Œå…¶ä»–ä¸¤ä¸ªä½çœŸå€¼,ä¼šè½¬æ¢ä¸ºtrueã€‚123if(audio.canPlayType("audio/mpeg"))&#123; &#125; Audioç±»åž‹&lt;audio&gt;å…ƒç´ è¿˜æœ‰ä¸€ä¸ªåŽŸç”Ÿçš„Javascriptæž„é€ å‡½æ•°Audioï¼Œä¸ŽImageså¾ˆç›¸ä¼¼ã€‚1var audio = new Audio("sound.mp3"); åŽ†å²çŠ¶æ€ç®¡ç†é€šè¿‡hashchangeäº‹ä»¶ï¼Œå¯çŸ¥é“URLçš„å‚æ•°ä»€ä¹ˆæ—¶å€™å‘ç”Ÿäº†å˜åŒ–ã€‚é€šè¿‡çŠ¶æ€ç®¡ç†APIï¼ˆHTML5çš„historyå¯¹è±¡ï¼‰ï¼Œèƒ½å¤Ÿåœ¨ä¸åŠ è½½æ–°é¡µé¢çš„æƒ…å†µä¸‹æ”¹å˜æµè§ˆå™¨çš„URLã€‚history.pushState()æ–¹æ³•æŽ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šçŠ¶æ€å¯¹è±¡ã€æ–°çŠ¶æ€çš„æ ‡é¢˜å’Œå¯é€‰çš„ç›¸å¯¹URLã€‚1history.pushState(&#123;name:"Peter"&#125;,"Peter' page","peter.html")ï¼› æ‰§è¡ŒpushState()æ–¹æ³•åŽï¼Œæ–°çš„çŠ¶æ€ä¿¡æ¯å°±ä¼šè¢«åŠ å…¥åˆ°åŽ†å²çŠ¶æ€æ ˆä¸­ã€‚å½“æŒ‰ä¸‹â€œåŽé€€â€æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘windowå¯¹è±¡çš„popstateäº‹ä»¶ã€‚popstateäº‹ä»¶çš„äº‹ä»¶å¯¹è±¡æœ‰ä¸€ä¸ªstateå±žæ€§ã€‚å½“å•å‡»â€œåŽé€€â€æŒ‰é’®è¿”å›žæµè§ˆå™¨åŠ è½½çš„ç¬¬ä¸€ä¸ªé¡µé¢æ—¶ï¼Œevent.state=nullã€‚æ›´æ–°å½“å‰çŠ¶æ€ï¼Œè°ƒç”¨replaceState()ï¼Œä¼ å…¥å‚æ•°ä¸ŽpushState()çš„å‰ä¸¤ä¸ªå‚æ•°ç›¸åŒã€‚ä¼ é€’ç»™pushState()æˆ–replaceState()çš„çŠ¶æ€å¯¹è±¡ä¸èƒ½åŒ…å«DOMå…ƒç´ ã€‚ é‡ç‚¹äº†è§£åˆ©ç”¨history.pushStateå®žçŽ°çš„pjaxæŠ€æœ¯ã€‚ JSONJSONæ˜¯ä¸€ç§æ•°æ®æ ¼å¼ï¼Œä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä¸”å¹¶ä¸ä»Žå±žä¸ŽJavascriptã€‚1.è¯­æ³•JSONè¯­æ³•å¯ä»¥è¡¨ç¤ºä»¥ä¸‹ä¸‰ç§ç±»åž‹çš„å€¼ï¼šç®€å•å€¼ï¼šä½¿ç”¨ä¸Žjavascriptç›¸åŒçš„è¯­æ³•ï¼Œå¯ä»¥åœ¨JSONä¸­è¡¨ç¤ºå­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”å€¼å’Œnullï¼Œä½†ä¸æ”¯æŒjavascriptä¸­çš„undefinedã€‚JSONå­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼ˆå•å¼•å·ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ï¼‰ å¯¹è±¡ï¼šå¯¹è±¡ä½œä¸ºä¸€ç§å¤æ‚æ•°æ®ç±»åž‹ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸€ç»„æ— åºçš„é”®å€¼å¯¹ã€‚è€Œæ¯ä¸ªé”®å€¼å¯¹ä¸­çš„å€¼å¯ä»¥æ˜¯ç®€å•å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤æ‚æ•°æ®ç±»åž‹çš„å€¼ã€‚JSONä¸­çš„å¯¹è±¡è¦æ±‚ç»™å±žæ€§åŠ åŒå¼•å·ï¼Œæ­¤å¤–JSONæ²¡æœ‰å˜é‡çš„æ¦‚å¿µã€‚1234&#123; "name":"Peter", "age":29&#125; æ•°ç»„ï¼šè¡¨ç¤ºä¸€ç»„æœ‰åºçš„å€¼çš„åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡æ•°å€¼ç´¢å¼•æ¥è®¿é—®å…¶ä¸­çš„å€¼ã€‚æ•°ç»„çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»åž‹â€”â€”ç®€å•å€¼ã€å¯¹è±¡æˆ–æ•°ç»„ã€‚eg:[25,â€hiâ€,true] 2.è§£æžä¸Žåºåˆ—åŒ–JSONå¯¹è±¡æ—©æœŸçš„JSONè§£æžå™¨åŸºæœ¬ä¸Šæ˜¯ä½¿ç”¨javascriptçš„eval()å‡½æ•°ï¼Œä½†å­˜åœ¨é£Žé™©ã€‚JSONå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šstringify()å’Œparse()ã€‚åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«ç”¨äºŽæŠŠjavascriptå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²å’ŒæŠŠJSONå­—ç¬¦ä¸²è§£æžä¸ºåŽŸç”Ÿjavascriptå€¼ã€‚12345678910111213141516var book=&#123; title:"Professional JavaScript", authors:["Nicholas C. Zakas"], edition: 3, year:2011&#125;;var jsonText = JSON.stringify(book); //å°†javascriptå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²åœ¨jsonTextä¸­ï¼š&#123; "title":"Professional JavaScript", "authors":["Nicholas C. Zakas"], "edition": 3, "year":2011&#125;var boookCopy = JSON.parse(jsonText);//å°†JSONå­—ç¬¦ä¸²è§£æžä¸ºåŽŸç”Ÿjavascriptå€¼ åºåˆ—åŒ–é€‰é¡¹JSON.stringify()é™¤äº†è¦åºåˆ—åŒ–çš„javascriptå¯¹è±¡å¤–ï¼Œè¿˜å¯ä»¥æŽ¥æ”¶å¦å¤–ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ç”¨äºŽæŒ‡å®šä»¥ä¸åŒçš„æ–¹å¼åºåˆ—åŒ–javascriptå¯¹è±¡ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªè¿‡æ»¤å™¨ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œè¡¨ç¤ºæ˜¯å¦åœ¨JSONå­—ç¬¦ä¸²ä¸­ä¿ç•™ç¼©è¿›ã€‚1.è¿‡æ»¤ç»“æžœå¦‚æžœè¿‡æ»¤å‚æ•°æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆJSON.stringify()çš„ç»“æžœä¸­å°†åªåŒ…å«æ•°ç»„ä¸­åˆ—å‡ºçš„å±žæ€§ã€‚1234567var book=&#123; "title":"Professional JavaScript", "authors":["Nicholas C. Zakas"], edition: 3, year:2011&#125;;var jsonText = JSON.stringify(book,["title","edition"]) åœ¨jsonTextä¸­ä¸ºï¼š1234&#123; "title":"Professional JavaScript", "edition": 3&#125; å¦‚æžœç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œè¡Œä¸ºä¼šç¨æœ‰ä¸åŒã€‚ä¼ å…¥çš„å‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå±žæ€§ï¼ˆé”®ï¼‰åå’Œå±žæ€§å€¼ã€‚æ ¹æ®å±žæ€§ï¼ˆé”®ï¼‰åå¯ä»¥çŸ¥é“åº”è¯¥å¦‚ä½•å¤„ç†è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­çš„å±žæ€§ã€‚å±žæ€§ååªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œåœ¨å€¼å¹¶éžé”®å€¼å¯¹ç»“æž„çš„å€¼æ—¶ï¼Œé”®åå¯ä»¥æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚å‡½æ•°è¿”å›žçš„å€¼å°±æ˜¯ç›¸åº”é”®çš„å€¼ï¼Œä½†å‡½æ•°è¿”å›žçš„æ˜¯undefined,é‚£ä¹ˆç›¸åº”å±žæ€§ä¼šè¢«å¿½ç•¥ã€‚123456789101112131415var book=&#123; "title":"Professional JavaScript", "authors":["Nicholas C. Zakas"], edition: 3, year:2011&#125;;var jsonText = JSON.stringify(book,function(key,value)&#123; switch(key)&#123; case "authors": return value.join(","); case "year": return 5000; case "edition": return undefined; default: return value; &#125;&#125;); åºåˆ—åŒ–åŽï¼ŒjsonTextå€¼ä¸ºï¼š12345&#123; "title":"Professional JavaScript", "authors":["Nicholas C. Zakas"], "year":5000&#125; 2.å­—ç¬¦ä¸²ç¼©è¿›JSON.stringify()æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ•°ç”¨äºŽæŽ§åˆ¶ç»“æžœä¸­çš„ç¼©è¿›å’Œç©ºç™½ç¬¦ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ•°å€¼æ—¶ï¼Œè¡¨ç¤ºæ¯ä¸ªçº§åˆ«ç¼©è¿›çš„ç©ºæ ¼æ•°ï¼Œæœ€å¤§ç¼©è¿›æ ¼æ•°ä¸º10ï¼›å¦‚æžœä¸ºå­—ç¬¦ä¸²éžæ•°å€¼ï¼Œåˆ™è¿™ä¸ªå­—ç¬¦ä¸²å°†åœ¨JSONå­—ç¬¦ä¸²ä¸­è¢«ç”¨ä½œç¼©è¿›å­—ç¬¦ï¼ˆä¸å†ä½¿ç”¨ç©ºæ ¼ï¼‰ 3.toJSON()æ–¹æ³•1234567891011var book=&#123; "title":"Professional JavaScript", "authors":["Nicholas C. Zakas"], edition: 3, year:2011, toJSON:function()&#123; return this.title; &#125;&#125;;var jsonText = JSON.stringify(book);//å›¾ä¹¦çš„ä¹¦å åºåˆ—åŒ–å¯¹è±¡çš„é¡ºåº1ï¼‰å¦‚æžœå­˜åœ¨toJSON()è€Œä¸”èƒ½é€šè¿‡å®ƒå–å¾—æœ‰æ•ˆçš„å€¼ï¼Œåˆ™å…ˆè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦åˆ™è¿”å›žå¯¹è±¡æœ¬èº«ã€‚2ï¼‰å¦‚æžœæä¾›äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œåº”ç”¨è¿™ä¸ªå‡½æ•°è¿‡æ»¤å™¨ã€‚3ï¼‰å¯¹ç¬¬äºŒæ­¥è¿”å›žçš„æ¯ä¸ªå€¼è¿›è¡Œç›¸åº”çš„åºåˆ—åŒ–ã€‚4ï¼‰å¦‚æžœæä¾›äº†ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ‰§è¡Œç›¸åº”çš„æ ¼å¼åŒ– è§£æžé€‰é¡¹JSON.parse()ä¹Ÿå¯ä»¥åƒæŽ¥æ”¶å¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆè¿˜åŽŸå‡½æ•°ï¼‰ï¼Œå°†åœ¨æ¯ä¸€ä¸ªé”®å€¼å¯¹ä¸Šè°ƒç”¨ã€‚å¦‚æžœè¿˜åŽŸå‡½æ•°è¿”å›žundefinedï¼Œåˆ™è¡¨ç¤ºè¦ä»Žç»“æžœä¸­åˆ é™¤ç›¸åº”çš„é”®ï¼›å¦‚æžœè¿”å›žå…¶ä»–å€¼ï¼Œåˆ™å°†è¯¥å€¼æ’å…¥åˆ°ç»“æžœä¸­ã€‚12345678910111213141516var book=&#123; "title":"Professional JavaScript", "authors":["Nicholas C. Zakas"], edition: 3, year:2011, releaseDate: new Date(2015,11,8);&#125;;var jsonText = JSON.stringify(book);var bookCopy = JSON.parse(jsonText,function(key,value)&#123; if(key=="releaseDate")&#123; return new Date(value); &#125;else&#123; return value; &#125;&#125;); ç»“æžœä¸ºï¼šbookCopy.releaseDateå±žæ€§ä¸­ä¿å­˜ä¸€ä¸ªDateå¯¹è±¡ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆå…­ï¼‰]]></title>
    <url>%2F2017%2F05%2F15%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨Canvasç»˜å›¾åŸºæœ¬ç”¨æ³•è¦ä½¿ç”¨&lt;canvas&gt;å…ƒç´ ï¼Œå¿…é¡»å…ˆè®¾ç½®å…¶widthå’Œheightï¼ŒæŒ‡å®šå¯ä»¥ç»˜å›¾çš„åŒºåŸŸå¤§å°ã€‚è¦åœ¨è¿™å—ç”»å¸ƒï¼ˆcanvasï¼‰ä¸Šç»˜å›¾å—ï¼Œéœ€è¦å–å¾—ç»˜å›¾ä¸Šä¸‹æ–‡ï¼Œæ˜¯é€šè¿‡getContext()ï¼Œç„¶åŽä¼ å…¥ä¸Šä¸‹æ–‡çš„åå­—ã€‚ä¼ å…¥â€œ2dâ€ï¼Œå°±å¯ä»¥å–å¾—2Dä¸Šä¸‹æ–‡å¯¹è±¡ã€‚1&lt;canvas id="drawing" width="200" height="200"&gt;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvaså…ƒç´ &lt;/canvas&gt; 12345var drawing = document.getElementById("drawing");//ç¡®å®šæµè§ˆå™¨æ”¯æŒ&lt;canvas&gt;å…ƒç´ if(drawing.getContext)&#123; var context = drawing.getContext("2d");&#125; ä½¿ç”¨toDataURL()æ–¹æ³•ï¼Œå¯ä»¥å¯¼å‡ºåœ¨&lt;canvas&gt;å…ƒç´ ä¸Šç»˜åˆ¶çš„å›¾åƒã€‚è¿™ä¸ªæ–¹æ³•æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³å›¾åƒçš„MIMEç±»åž‹æ ¼å¼ï¼Œè€Œä¸”é€‚ç”¨äºŽåˆ›å»ºå›¾åƒçš„ä»»ä½•ä¸Šä¸‹æ–‡ã€‚12345678910var drawing = document.getElementById("drawing");//ç¡®å®šæµè§ˆå™¨æ”¯æŒ&lt;canvas&gt;å…ƒç´ if(drawing.getContext)&#123; //å–å¾—å›¾åƒçš„æ•°æ®URI var imgURI = drawing.toDataURL("image/png"); //æ˜¾ç¤ºå›¾åƒ var image = document.createElement("img"); image.src = imgURI; document.body.appendChild(image);&#125; 2Dä¸Šä¸‹æ–‡1.å¡«å……å’Œæè¾¹å¡«å……ï¼Œå°±æ˜¯ç”¨æŒ‡å®šçš„æ ·å¼ï¼ˆé¢œè‰²ã€æ¸å˜ã€æˆ–å›¾åƒï¼‰å¡«å……å›¾å½¢ï¼Œå–å†³äºŽfillStyleå±žæ€§ï¼›æè¾¹ï¼Œå°±æ˜¯åªåœ¨å›¾å½¢çš„è¾¹ç¼˜ç”»çº¿ï¼Œå–å†³äºŽstrokeStyleå±žæ€§ã€‚fillStyleå’ŒstrokeStyleå±žæ€§çš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ¸å˜å¯¹è±¡æˆ–æ¨¡å¼å¯¹è±¡ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼éƒ½æ˜¯â€œ#000000â€ã€‚123456var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var context = drawing.getContext("2d"); context.strokeStyle = "red"; context.fiilStyle = "#0000ff";&#125; 2.ç»˜åˆ¶çŸ©å½¢çŸ©å½¢æ˜¯å”¯ä¸€ä¸€ç§å¯ä»¥ç›´æŽ¥åœ¨2Dä¸Šä¸‹åˆä¸­ç»˜åˆ¶çš„å½¢çŠ¶ã€‚ä¸ŽçŸ©å½¢æœ‰å…³çš„æ–¹æ³•åŒ…æ‹¬ï¼šfillRect()ã€strokeRect()å’ŒclearRect()ã€‚è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶4ä¸ªå‚æ•°ï¼šçŸ©å½¢çš„xåæ ‡ã€çŸ©å½¢çš„yåæ ‡ã€çŸ©å½¢å®½åº¦å’ŒçŸ©å½¢é«˜åº¦ã€‚è¿™äº›å‚æ•°çš„å•ä½éƒ½æ˜¯åƒç´ ã€‚é¦–å…ˆï¼ŒfillRect()æ–¹æ³•ä¼šåœ¨ç”»å¸ƒä¸Šç»˜åˆ¶çš„çŸ©å½¢ä¼šå¡«å……æŒ‡å®šçš„é¢œè‰²ã€‚å¡«å……çš„é¢œè‰²é€šè¿‡fillStyleå±žæ€§æŒ‡å®šã€‚1234567891011var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var context = drawing.getContext("2d"); //ç»˜åˆ¶çº¢è‰²çŸ©å½¢ context.fillStyle = "#ff0000"; context.fillRect(10,10,50,50); //ç»˜åˆ¶åŠé€æ˜Žçš„è“è‰²çŸ©å½¢ context.fillStyle = "rgba(0,0,255,0.5)"; context.fillRect(30,30,50,50);&#125; strokeRect()æ–¹æ³•åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶çš„æ˜¯çŸ©å½¢è¾¹æ¡†ï¼Œè¾¹æ¡†é¢œè‰²ç”±strokeStyleå±žæ€§æŒ‡å®šã€‚æè¾¹çº¿æ¡çš„è·¨åº¦ç”±lineWidthå±žæ€§æŽ§åˆ¶ï¼Œè¯¥å±žæ€§çš„å€¼å¯ä»¥æ˜¯ä»»æ„æ•´æ•°ã€‚å¦å¤–ï¼Œé€šè¿‡lineCapå±žæ€§å¯ä»¥æŽ§åˆ¶çº¿æ¡æœ«ç«¯çš„å½¢çŠ¶æ˜¯å¹³å¤´ã€åœ†å¤´è¿˜æ˜¯æ–¹å¤´ï¼ˆâ€œbuttâ€ï¼Œâ€œroundâ€ï¼Œâ€œsquareâ€ï¼‰ï¼Œé€šè¿‡lineJoinå±žæ€§å¯ä»¥æŽ§åˆ¶çº¿æ¡ç›¸äº¤çš„æ–¹å¼æ˜¯åœ†äº¤ã€æ–œäº¤è¿˜æ˜¯æ–œæŽ¥ï¼ˆâ€œroundâ€ï¼Œâ€œbevelâ€ï¼Œâ€œmiterâ€ï¼‰ï¼› clearRect()æ–¹æ³•ç”¨äºŽæ¸…é™¤ç”»å¸ƒä¸Šçš„çŸ©å½¢åŒºåŸŸï¼ŒåŒºåŸŸå¤§å°ç”±è¯¥æ–¹æ³•ä¸­ä¼ å…¥çš„å‚æ•°å†³å®šã€‚æœ¬è´¨ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ç»˜åˆ¶ä¸Šä¸‹æ–‡ä¸­çš„æŸä¸€çŸ©å½¢åŒºåŸŸå˜é€æ˜Žã€‚12345678910111213var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var context = drawing.getContext("2d"); // ç»˜åˆ¶çº¢è‰²çŸ©å½¢ context.fillStyle = "#ff0000"; context.fillRect(10, 10, 50, 50); // ç»˜åˆ¶åŠé€æ˜Žçš„è“è‰²çŸ©å½¢ context.fillStyle = "rgba(0, 0, 255, 0.5)"; context.fillRect(30, 30, 50, 50); // åœ¨ä¸¤ä¸ªçŸ©å½¢é‡å çš„åœ°æ–¹æ¸…é™¤ä¸€ä¸ªå°çŸ©å½¢ context.clearRect(40, 40, 10, 10);&#125; 3.ç»˜åˆ¶è·¯å¾„è¦ç»˜åˆ¶è·¯å¾„ï¼Œé¦–å…ˆå¿…é¡»è°ƒç”¨beginPath()æ–¹æ³•ï¼Œè¡¨ç¤ºè¦å¼€å§‹ç»˜åˆ¶æ–°è·¯å¾„ã€‚ç„¶åŽé€šè¿‡ä¸‹åˆ—æ–¹æ³•æ¥å®žé™…åœ°ç»˜åˆ¶è·¯å¾„ï¼šarc(x, y, radius, startAngle, endAngle, counterclockwise)ï¼šä»¥(x,y)ä¸ºåœ†å¿ƒç»˜åˆ¶ä¸€æ¡å¼§çº¿ï¼Œå¼§çº¿åŠå¾„ä¸ºradiusï¼Œèµ·å§‹å’Œç»“æŸè§’åº¦ï¼ˆç”¨å¼§åº¦è¡¨ç¤ºï¼‰åˆ†åˆ«ä¸ºstartAngleå’ŒendAngleã€‚æœ€åŽä¸€ä¸ªå‚æ•°è¡¨ç¤ºstartAngleå’ŒendAngleæ˜¯å¦æŒ‰é€†æ—¶é’ˆè®¡ç®—ï¼Œå€¼ä¸ºfalseè¡¨ç¤ºæŒ‰é¡ºæ—¶é’ˆæ–¹å‘è®¡ç®—ã€‚arcTo(x1, y1, x2, y2, radius)ï¼šä»Žä¸Šä¸€ç‚¹å¼€å§‹ç»˜åˆ¶ä¸€æ¡å¼§çº¿ï¼Œåˆ°(x2,y2)ä¸ºæ­¢ï¼Œå¹¶ä¸”ä»¥ç»™å®šçš„åŠå¾„radiusç©¿è¿‡(x1,y1)ã€‚bezierCurveTo(c1x, c1y, c2x, c2y, x, y)ï¼šä»Žä¸Šä¸€ç‚¹å¼€å§‹ç»˜åˆ¶ä¸€æ¡æ›²çº¿ï¼Œåˆ°(x,y)ä¸ºæ­¢ï¼Œå¹¶ä¸”ä»¥(c1x,c1y)å’Œ(c2x,c2y)ä¸ºæŽ§åˆ¶ç‚¹ã€‚lineTo(x, y)ï¼šä»Žä¸Šä¸€ç‚¹å¼€å§‹ç»˜åˆ¶ä¸€æ¡ç›´çº¿ï¼Œåˆ°(x,y)ä¸ºæ­¢ã€‚moveTo(x, y)ï¼šå°†ç»˜å›¾æ¸¸æ ‡ç§»åŠ¨åˆ°(x,y)ï¼Œä¸ç”»çº¿ã€‚quadraticCurveTo(cx, cy, x, y)ï¼šä»Žä¸Šä¸€ç‚¹å¼€å§‹ç»˜åˆ¶ä¸€æ¡äºŒæ¬¡æ›²çº¿ï¼Œåˆ°(x,y)ä¸ºæ­¢ï¼Œå¹¶ä¸”ä»¥(cx,cy)ä½œä¸ºæŽ§åˆ¶ç‚¹ã€‚rect(x, y, width, height)ï¼šä»Žç‚¹(x,y)å¼€å§‹ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ï¼Œå®½åº¦å’Œé«˜åº¦åˆ†åˆ«ç”±widthå’ŒheightæŒ‡å®šã€‚è¿™ä¸ªæ–¹æ³•ç»˜åˆ¶çš„æ˜¯çŸ©å½¢è·¯å¾„ï¼Œè€Œä¸æ˜¯strokeRect()å’ŒfillRect()æ‰€ç»˜åˆ¶çš„ç‹¬ç«‹çš„å½¢çŠ¶ã€‚ å¦‚æžœæƒ³ç»˜åˆ¶ä¸€æ¡è¿žæŽ¥åˆ°è·¯å¾„èµ·ç‚¹çš„çº¿æ¡ï¼Œå¯ä»¥è°ƒç”¨closePath().å¦‚æžœä½ æƒ³ç”¨fillStyleå¡«å……å®ƒï¼Œå¯ä»¥è°ƒç”¨fill()æ–¹æ³•ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥è°ƒç”¨stroke()æ–¹æ³•å¯¹è·¯å¾„æè¾¹ï¼Œæè¾¹ä½¿ç”¨çš„æ˜¯strokeStyleã€‚è¿˜å¯ä»¥è°ƒç”¨clip()åœ¨è·¯å¾„ä¸Šåˆ›å»ºä¸€ä¸ªå‰ªåˆ‡åŒºåŸŸã€‚1234567891011121314151617181920212223242526//ç»˜åˆ¶ä¸€ä¸ªä¸å¸¦æ•°å­—çš„æ—¶é’Ÿè¡¨ç›˜var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var context = drawing.getContext("2d"); //å¼€å§‹ç»˜åˆ¶è·¯å¾„ context.beginPath(); //ç»˜åˆ¶å¤–åœ† context.arc(100,100,99,0,2*Math.PI,false); //ç»˜åˆ¶å†…åœ† context.moveTo(194,100); context.arc(100,100,94,0,2*Math.PI,false); //ç»˜åˆ¶åˆ†é’ˆ context.moveTo(100,100); context.lineTo(100,15); //ç»˜åˆ¶æ—¶é’ˆ context.moveTo(100,100); context.lineTo(35,100); //æè¾¹è·¯å¾„ context.stroke();&#125; åœ¨è·¯å¾„ä½¿ç”¨é¢‘ç¹æ—¶ï¼Œä½¿ç”¨isPointInPath()æ–¹æ³•åˆ¤æ–­è·¯å¾„è¢«å…³é—­ä¹‹å‰ç”»å¸ƒæŸä¸€ç‚¹æ˜¯å¦ä½äºŽè·¯å¾„ä¸Šï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šxåæ ‡å’Œyåæ ‡ã€‚ ç»˜åˆ¶æ–‡æœ¬ç»˜åˆ¶æ–‡æœ¬ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šfillText()å’ŒstrokeText()ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æŽ¥æ”¶4ä¸ªå‚æ•°ï¼šè¦ç»˜åˆ¶çš„æ–‡æœ¬å­—ç¬¦ä¸²ã€xåæ ‡ã€yåæ ‡å’Œå¯é€‰çš„æœ€å¤§åƒç´ å®½åº¦ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä»¥ä¸‹åˆ—3ä¸ªå±žæ€§ä¸ºåŸºç¡€ï¼šfontï¼šè¡¨ç¤ºæ–‡æœ¬æ ·å¼ã€å¤§å°åŠå­—ä½“ï¼Œç”¨CSSä¸­æŒ‡å®šå­—ä½“çš„æ ¼å¼æ¥æŒ‡å®šã€‚textAlignï¼šè¡¨ç¤ºæ–‡æœ¬å¯¹é½æ–¹å¼ã€‚å¯èƒ½çš„å€¼æœ‰â€œstartâ€ã€â€œendâ€ã€â€œleftâ€ã€â€œrightâ€å’Œâ€œcenterâ€ï¼Œå»ºè®®ä½¿ç”¨â€œstartâ€å’Œâ€œendâ€,æ›´ç¨³å®šã€‚textBaselineï¼šè¡¨ç¤ºæ–‡æœ¬çš„åŸºçº¿ã€‚å¯èƒ½çš„å€¼æœ‰â€topâ€œã€â€hangingâ€œã€â€middleâ€œã€â€alphabeticâ€œã€â€ideographicâ€œå’Œâ€bottomâ€œã€‚1234context.font = "bold 14px Arial";context.textAlign = "center";context.textBaseline = "middle";context.fillText("12",100,20); 2Dä¸Šä¸‹æ–‡æä¾›äº†è¾…åŠ©ç¡®å®šæ–‡æœ¬å¤§å°çš„æ–¹æ³•measureText()ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦ç»˜åˆ¶çš„æ–‡æœ¬ï¼›è¿”å›žä¸€ä¸ªTextMetricså¯¹è±¡ã€‚è¿”å›žçš„å¯¹è±¡ç›®å‰åªæœ‰ä¸€ä¸ªwidthå±žæ€§ã€‚measureText()æ–¹æ³•åˆ©ç”¨fontã€textAlignå’ŒtextBaselineçš„å½“å‰å€¼è®¡ç®—æŒ‡å®šæ–‡æœ¬çš„å¤§å°ã€‚12345678var fontSize = 100;context.font = fontSize +"px Arial";while(context.measureText("Hello world!").width &gt; 140)&#123; fontSize--; context.font = fontSize + "px Arial";&#125;context.fillText("Hello world!",10,10);context.fillText("Font size is " +fontSize +"px",10,50); å˜æ¢é€šè¿‡ä¸Šä¸‹æ–‡çš„å˜æ¢ï¼Œå¯ä»¥æŠŠå¤„ç†åŽçš„å›¾åƒç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šã€‚é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥ä¿®æ”¹å˜æ¢çŸ©é˜µï¼šrotate(angle)ï¼šå›´ç»•åŽŸç‚¹æ—‹è½¬å›¾åƒangleå¼§åº¦ã€‚ æ—‹è½¬è§’åº¦ï¼Œä»¥å¼§åº¦è®¡ã€‚å¦‚éœ€å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦ï¼Œè¯·ä½¿ç”¨ degreesMath.PI/180 å…¬å¼è¿›è¡Œè®¡ç®—ã€‚ä¸¾ä¾‹ï¼šå¦‚éœ€æ—‹è½¬ 5 åº¦ï¼Œå¯è§„å®šä¸‹é¢çš„å…¬å¼ï¼š5Math.PI/180ã€‚context.rotate(5*Math.PI/180); scale(scaleX,scaleY)ï¼šç¼©æ”¾å›¾åƒï¼Œåœ¨xæ–¹å‘ä¹˜ä»¥scaleXï¼Œåœ¨yæ–¹å‘ä¹˜ä»¥scaleYã€‚scaleXå’ŒscaleYçš„é»˜è®¤å€¼éƒ½æ˜¯1.0ã€‚translate(x,y)ï¼šéƒ½æ˜¯å°†åæ ‡åŽŸç‚¹ç§»åŠ¨åˆ°(x,y)ã€‚æ‰§è¡Œè¿™ä¸ªå˜æ¢ä¹‹åŽï¼Œåæ ‡(0,0)ä¼šå˜æˆä¹‹å‰ç”±(x,y)è¡¨ç¤ºçš„ç‚¹ã€‚transform(m1_1, m1_2, m2_1, m2_2, dx, dy)ï¼šç›´æŽ¥ä¿®æ”¹å˜æ¢çŸ©é˜µï¼Œæ–¹å¼æ˜¯ä¹˜ä»¥å¦‚ä¸‹çŸ©é˜µã€‚ m1_1 m1_2 dx m2_1 m2_2 dy 0 0 1 setTransform(m1_1, m1_2, m2_1, m2_2, dx, dy)ï¼šå°†å˜æ¢çŸ©é˜µé‡ç½®ä¸ºé»˜è®¤çŠ¶æ€ï¼Œç„¶åŽå†è°ƒç”¨transform()ã€‚è¿˜ç”±ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è·Ÿè¸ªä¸Šä¸‹æ–‡çš„çŠ¶æ€å˜åŒ–ï¼Œå¦‚æžœä½ çŸ¥é“å°†æ¥è¿˜è¦è¿”å›žæŸç»„å±žæ€§ä¸Žå˜æ¢çš„ç»„åˆï¼Œå¯ä»¥è°ƒç”¨save()æ–¹æ³•ï¼›ç­‰æƒ³è¦å›žåˆ°ä¹‹å‰ä¿å­˜çš„è®¾ç½®æ—¶ï¼Œå¯ä»¥è°ƒç”¨restore()æ–¹æ³•ï¼Œåœ¨ä¿å­˜è®¾ç½®çš„æ ˆç»“æž„ä¸­å‘å‰è¿”å›žä¸€çº§ï¼Œæ¢å¤ä¹‹å‰çš„çŠ¶æ€ã€‚è¿žç»­è°ƒç”¨save()å¯ä»¥æŠŠæ›´å¤šè®¾ç½®ä¿å­˜åˆ°æ ˆç»“æž„ä¸­ï¼Œä¹‹åŽå†è¿žç»­è°ƒç”¨restore()åˆ™å¯ä»¥ä¸€çº§ä¸€çº§è¿”å›žã€‚123456789101112131415context.fillStyle = "#ff0000";context.save();context.fillStyle = "#00ff00";context.translate(100,100);context.save();context.fillStyle = "#0000ff";context.fillRect(0,0,100,200); //ä»Žç‚¹(100,100)å¼€å§‹ç»˜åˆ¶è“è‰²çŸ©å½¢context.restore();context.fillRect(10,10,100,200); //ä»Žç‚¹(110,110)å¼€å§‹ç»˜åˆ¶ç»¿è‰²çŸ©å½¢context.restore();context.fillRect(0,0,100,200); //ä»Žç‚¹(0,0)å¼€å§‹ç»˜åˆ¶çº¢è‰²çŸ©å½¢ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsave()æ–¹æ³•ä¿å­˜çš„åªæ˜¯å¯¹ç»˜å›¾ä¸Šä¸‹æ–‡çš„è®¾ç½®å’Œå˜æ¢ï¼Œä¸ä¼šä¿å­˜ç»˜å›¾ä¸Šä¸‹æ–‡çš„å†…å®¹ã€‚ ç»˜åˆ¶å›¾åƒ2Dä¸Šä¸‹æ–‡å†…ç½®äº†å¯¹å›¾åƒçš„æ”¯æŒï¼Œé€šè¿‡drawImage()æ–¹æ³•å¯ä»¥å°†ä¸€å‰¯å›¾åƒç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šã€‚è¯¥æ–¹æ³•æœ‰ä¸‰ç§å‚æ•°ç»„åˆï¼š12345678var image = document.images[0];//ä¼ å…¥HTML&lt;img&gt;å…ƒç´ ï¼Œä»¥åŠç»˜åˆ¶è¯¥å›¾åƒçš„èµ·ç‚¹çš„xå’Œyåæ ‡ã€‚context.drawImage(image, 10, 10);//è¦æƒ³æ”¹å˜å›¾åƒå¤§å°ï¼Œå¯ä»¥å†å¤šä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šç›®æ ‡å®½åº¦å’Œç›®æ ‡é«˜åº¦context.drawImage(image, 50, 10, 20, 30);//æŠŠå›¾åƒä¸­çš„æŸä¸ªåŒºåŸŸç»˜åˆ¶åˆ°ä¸Šä¸‹æ–‡ä¸­,ä¼ å…¥9ä¸ªå‚æ•°ï¼šè¦ç»˜åˆ¶çš„å›¾åƒã€æºå›¾åƒçš„xåæ ‡ã€æºå›¾åƒçš„yåæ ‡ã€æºå›¾åƒçš„å®½åº¦ã€//æºå›¾åƒçš„é«˜åº¦ã€ç›®æ ‡å›¾åƒçš„xåæ ‡ã€ç›®æ ‡å›¾åƒçš„yåæ ‡ã€ç›®æ ‡å›¾åƒçš„å®½åº¦ã€ç›®æ ‡å›¾åƒçš„é«˜åº¦ã€‚context.drawImage(image, 0, 10, 50, 50, 0, 100, 40, 60); é˜´å½±2Dä¸Šä¸‹æ–‡ä¼šæ ¹æ®ä»¥ä¸‹å‡ ä¸ªå±žæ€§çš„å€¼ï¼Œè‡ªåŠ¨ä¸ºå½¢çŠ¶æˆ–è·¯å¾„ç»˜åˆ¶å‡ºé˜´å½±ï¼šshadowColorï¼šç”¨CSSé¢œè‰²æ ¼å¼è¡¨ç¤ºçš„é˜´å½±é¢œè‰²ï¼Œé»˜è®¤ä¸ºé»‘è‰²ã€‚shadowOffsetXï¼šå½¢çŠ¶æˆ–è·¯å¾„xè½´æ–¹å‘çš„é˜´å½±åç§»é‡ï¼Œé»˜è®¤ä¸º0ã€‚shadowOffsetYï¼šå½¢çŠ¶æˆ–è·¯å¾„yè½´æ–¹å‘çš„é˜´å½±åç§»é‡ï¼Œé»˜è®¤ä¸º0ã€‚shadowBlurï¼šæ¨¡ç³Šçš„åƒç´ æ•°ï¼Œé»˜è®¤ä¸º0ï¼Œå³ä¸æ¨¡ç³Šã€‚12345678910111213var drawing = document.getElementById("drawing");var context = drawing.getContext("2d");//è®¾ç½®é˜´å½±context.shadowOffsetX = 5;context.shadowOffsetY = 5;context.shadowBlur = 4;context.shadowColor = "rgba(0,0,0,0.5)";//ç»˜åˆ¶çº¢è‰²çŸ©å½¢context.fillStyle = "#ff0000";context.fillRect(10, 10, 50, 50);//ç»˜åˆ¶è“è‰²çŸ©å½¢context.fillStyle = "rgba(0,0,255,1)";context.fillRect(30, 30, 50, 50); æ¸å˜æ¸å˜ç”±CanvasGradientå®žä¾‹è¡¨ç¤ºï¼Œèƒ½å¤Ÿé€šè¿‡2Dä¸Šä¸‹æ–‡æ¥åˆ›å»ºå’Œä¿®æ”¹ã€‚è¦åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿æ€§æ¸å˜ï¼Œå¯ä»¥è°ƒç”¨createLinearGradient()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶4ä¸ªå‚æ•°ï¼šèµ·ç‚¹çš„xåæ ‡ã€èµ·ç‚¹çš„yåæ ‡ã€ç»ˆç‚¹çš„xåæ ‡ã€ç»ˆç‚¹çš„yåæ ‡ã€‚è°ƒç”¨è¿™ä¸ªæ–¹æ³•åŽï¼Œå®ƒå°±ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„æ¸å˜ï¼Œå¹¶è¿”å›žCanvasGradientå¯¹è±¡çš„å®žä¾‹ã€‚åˆ›å»ºäº†æ¸å˜å¯¹è±¡åŽï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ä½¿ç”¨addColorStop()æ–¹æ³•æ¥æŒ‡å®šè‰²æ ‡ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šè‰²æ ‡ä½ç½®å’ŒCSSé¢œè‰²å€¼ã€‚è‰²æ ‡ä½ç½®æ˜¯ä¸€ä¸ª0ï¼ˆå¼€å§‹çš„é¢œè‰²ï¼‰åˆ°1ï¼ˆç»“æŸçš„é¢œè‰²ï¼‰ä¹‹é—´çš„æ•°å­—ã€‚123456var gradient = context.createLinearGradient(30,30,70,70);gradient.addColorStop(0,"white");gradient.addColorStop(1,"black");//å°†fillStyleæˆ–strokeStyleè®¾ç½®ä¸ºè¿™ä¸ªå¯¹è±¡ï¼Œä»Žè€Œä½¿ç”¨æ¸å˜æ¥ç»˜åˆ¶å½¢çŠ¶æˆ–æè¾¹context.fillStyle = gradient ;context.fillRect(30,30,50,50); ä¸ºäº†ç¡®ä¿æ¸å˜ä¸Žå½¢çŠ¶å¯¹é½ï¼Œæœ‰æ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨å‡½æ•°æ¥ç¡®ä¿åæ ‡åˆé€‚ï¼š123function createRectLinearGradient(context,x,y,width,height)&#123; return context.createLinearGradient(x, y, x+width, y+height);&#125; åˆ›å»ºå¾„å‘æ¸å˜ï¼ˆæˆ–æ”¾å°„æ¸å˜ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨createRadialGradient()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶6ä¸ªå‚æ•°ï¼Œå¯¹åº”ç€ä¸¤ä¸ªåœ†çš„åœ†å¿ƒå’ŒåŠå¾„ã€‚å‰ä¸‰ä¸ªæ˜¯èµ·ç‚¹åœ†çš„åœ†å¿ƒï¼ˆxå’Œyï¼‰åŠåŠå¾„ï¼ŒåŽä¸‰ä¸ªæ˜¯ç»ˆç‚¹åœ†çš„åœ†å¿ƒï¼ˆxå’Œyï¼‰åŠåŠå¾„ã€‚å¦‚æžœæƒ³ä»ŽæŸä¸ªå½¢çŠ¶çš„ä¸­å¿ƒç‚¹å¼€å§‹åˆ›å»ºä¸€ä¸ªå‘å¤–æ‰©æ•£çš„å¾„å‘æ¸å˜æ•ˆæžœï¼Œå°±è¦å°†ä¸¤ä¸ªåœ†å®šä¹‰ä¸ºåŒå¿ƒåœ†ã€‚123456var gradient = context.createRadialGradient(55,55,10,55,55,30);gradient.addColorStop(0,"white");gradient.addColorStop(1,"black");context.fillStyle = gradient ;context.fillRect(30,30,50,50); æ¨¡å¼æ¨¡å¼å…¶å®žå°±æ˜¯é‡å¤çš„å›¾åƒï¼Œå¯ä»¥ç”¨æ¥å¡«å……æˆ–æè¾¹å›¾å½¢ã€‚é€šè¿‡createPattern()æ–¹æ³•æ¥åˆ›å»ºæ–°æ¨¡å¼ï¼Œè¯¥æ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªHTML&lt;img&gt;å…ƒç´ å’Œä¸€ä¸ªè¡¨ç¤ºå¦‚ä½•é‡å¤å›¾åƒçš„å­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªå‚æ•°å€¼ä¸ŽCSSçš„background-repeatå±žæ€§å€¼ç›¸åŒï¼šrepeatã€repeat-xã€repeat-yã€no-repeatã€‚123456789101112131415var image = document.image[0];pattern = context.createPattern(image,"repeat");//ç»˜åˆ¶çŸ©å½¢context.fillStyle = pattern;context.fillRect(10,10,150,150);éœ€è¦æ³¨æ„çš„æ˜¯æ¨¡å¼å¯¹è±¡çš„ç”Ÿæˆå’Œèµ‹å€¼è¿‡ç¨‹å¿…é¡»å†™åˆ°JavaScriptçš„functionä¸­ï¼Œå¦åˆ™å¯èƒ½ä¼šå¤±æ•ˆã€‚window.onload = function() &#123; var drawing = document.getElementById("drawing"); var context = drawing.getContext("2d"); var img = new Image(); img.src = "http://imgsrc.baidu.com/forum/pic/item/e6b14bc2a4561b1fe4dd3b24.jpg"; var pattern = context.createPattern(img, 'repeat'); context.fillStyle = pattern; context.fillRect(0, 0, canvas.width, canvas.height);&#125; ä½¿ç”¨å›¾åƒæ•°æ®é€šè¿‡getImageData()å–å¾—åŽŸå§‹å›¾åƒæ•°æ®ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶å››ä¸ªå‚æ•°ï¼šè¦å–å¾—å…¶æ•°æ®çš„ç”»é¢åŒºåŸŸçš„xå’Œyåæ ‡ä»¥åŠè¯¥åŒºåŸŸçš„åƒç´ å®½åº¦å’Œé«˜åº¦ã€‚è¿”å›žImageDataå¯¹è±¡å®žä¾‹ï¼Œæ¯ä¸ªImageDataå¯¹è±¡éƒ½æœ‰ä¸‰ä¸ªå±žæ€§ï¼šwidthã€heightå’Œdataã€‚dataå±žæ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¿å­˜ç€å›¾åƒä¸­æ¯ä¸€ä¸ªåƒç´ çš„æ•°æ®ã€‚åœ¨dataæ•°ç»„ä¸­ï¼Œæ¯ä¸€ä¸ªåƒç´ ç”¨4ä¸ªå…ƒç´ æ¥ä¿å­˜ï¼Œåˆ†åˆ«è¡¨ç¤ºçº¢ã€ç»¿ã€è“å’Œé€æ˜Žåº¦å€¼ã€‚123456var imageData = context.getImageData(10,5,50,50);var data = imageData.data;red = data[0];green = data[1];blue = data[2];alpha = data[3]; é€šè¿‡ä¿®æ”¹å›¾åƒæ•°æ®ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·åˆ›å»ºä¸€ä¸ªç®€å•çš„ç°é˜¶è¿‡æ»¤å™¨ï¼š123456789101112131415161718192021222324252627/*ç°é˜¶è¿‡æ»¤å™¨*/var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var context = drawing.getContext("2d"); var image = document.images[0]; var imageData, data, i, len, average, red, green, blue, alpha; //ç»˜åˆ¶åŽŸå§‹å›¾åƒ context.drawImage(image,0,0); //å–å¾—å›¾åƒæ•°æ® imageData = context.getImageData(0,0,image.width,image.height); data = imageData.data; for (i = 0,len = data.length; i &lt; len; i += 4) &#123; red = data[i]; green = data[i+1]; blue = data[i+2]; alpha = data[i+3]; //æ±‚å¾—rgbå¹³å‡å€¼ average = Math.floor((red+green+blue)/3); //è®¾ç½®é¢œè‰²å€¼ï¼Œé€æ˜Žåº¦ä¸å˜ data[i] = average; data[i+1] = average; data[i+2] = average; &#125; imageData.data = data; //å°†å›¾åƒæ•°æ®ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š context.putImageData(imageData,0,0);&#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æœ¬åœ°æµ‹è¯•æ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ¬åœ°æµ‹è¯•ç”¨çš„å›¾ç‰‡æ˜¯æ–‡ä»¶å¤¹å†…çš„ï¼Œjsè·¨åŸŸé™åˆ¶æ˜¯ä¸èƒ½èŽ·å–éžåŒä¸€åŸŸåä¸‹çš„æ•°æ®çš„ï¼Œè€Œæœ¬åœ°çš„ä½ç½®æ˜¯æ²¡æœ‰åŸŸåçš„ï¼Œæ‰€ä»¥æµè§ˆå™¨éƒ½è®¤ä¸ºä½ æ˜¯è·¨åŸŸï¼Œå¯¼è‡´æŠ¥é”™ã€‚ åˆæˆè¿˜æœ‰ä¸¤ä¸ªä¼šåº”ç”¨åˆ°2Dä¸Šä¸‹æ–‡ä¸­æ‰€æœ‰ç»˜åˆ¶æ“ä½œçš„å±žæ€§ï¼šglobalAlphaå’ŒglobalCompositionOperation.globalAlphaæ˜¯ä¸€ä¸ªä»‹äºŽ0å’Œ1ä¹‹é—´çš„å€¼ï¼ˆåŒ…æ‹¬0å’Œ1ï¼‰ï¼Œç”¨äºŽæŒ‡å®šæ‰€æœ‰ç»˜åˆ¶çš„é€æ˜Žåº¦ã€‚é»˜è®¤å€¼ä¸º0ï¼›å¦‚æžœæ‰€æœ‰åŽç»­æ“ä½œéƒ½è¦åŸºäºŽç›¸åŒçš„é€æ˜Žåº¦ï¼Œå°±å¯ä»¥å…ˆæŠŠglobalAlphaè®¾ç½®ä¸ºé€‚å½“çš„å€¼ï¼Œç„¶åŽç»˜åˆ¶ï¼Œæœ€åŽå†è®¾ç½®ä¸º0ã€‚12345678910//ç»˜åˆ¶çº¢è‰²çŸ©å½¢context.fillStyle = "#ff0000";context.fillRect(10,10,50,50);//ä¿®æ”¹å…¨å±€é€æ˜Žåº¦context.globalAlpha =0.5;//ç»˜åˆ¶è“è‰²çŸ©å½¢context.fillStyle="rgba(0,0,255,1)";context.fillRect(30,30,50,50);//é‡ç½®å…¨å±€é€æ˜Žåº¦context.globalAlpha = 0; globalCompositionOperationè¡¨ç¤ºåŽç»˜åˆ¶çš„å›¾å½¢æ€Žæ ·ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢ç»“åˆã€‚æœ‰ä»¥ä¸‹å±žæ€§å€¼ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šsource-overï¼ˆé»˜è®¤å€¼ï¼‰ï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä½äºŽå…ˆç»˜åˆ¶çš„å›¾å½¢ä¸Šæ–¹ã€‚source-inï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢é‡å éƒ¨åˆ†å¯è§ï¼Œä¸¤è€…å…¶ä»–éƒ¨åˆ†å®Œå…¨é€æ˜Žã€‚source-outï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢é‡å éƒ¨åˆ†ä¸å¯è§ï¼Œå…ˆç»˜åˆ¶çš„å›¾å½¢å®Œå…¨é€æ˜Žã€‚source-atopï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢é‡å éƒ¨åˆ†å¯è§ï¼Œå…ˆç»˜åˆ¶çš„å›¾å½¢ä¸å—å½±å“ã€‚destination-overï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä½äºŽå…ˆç»˜åˆ¶çš„å›¾å½¢ä¸‹æ–¹ï¼Œåªæœ‰ä¹‹å‰é€æ˜Žåƒç´ ä¸‹çš„éƒ¨åˆ†æ‰å¯è§ã€‚destination-inï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä½äºŽå…ˆç»˜åˆ¶çš„å›¾å½¢ä¸‹æ–¹ï¼Œä¸¤è€…ä¸é‡å çš„éƒ¨åˆ†å®Œå…¨é€æ˜Žã€‚destination-outï¼šåŽç»˜åˆ¶çš„å›¾å½¢æ“¦é™¤ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢é‡å çš„éƒ¨åˆ†ã€‚destination-atopï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä½äºŽå…ˆç»˜åˆ¶çš„å›¾å½¢ä¸‹æ–¹ï¼Œåœ¨ä¸¤è€…ä¸é‡å çš„åœ°æ–¹ï¼Œå…ˆç»˜åˆ¶çš„å›¾å½¢å˜é€æ˜Žã€‚lighterï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢é‡å éƒ¨åˆ†çš„å€¼ç›¸åŠ ï¼Œä½¿è¯¥éƒ¨åˆ†å˜äº®ã€‚copyï¼šåŽç»˜åˆ¶çš„å›¾å½¢å®Œå…¨æ›¿ä»£ä¸Žä¹‹é‡å çš„å…ˆç»˜åˆ¶å›¾å½¢ã€‚xorï¼šåŽç»˜åˆ¶çš„å›¾å½¢ä¸Žå…ˆç»˜åˆ¶çš„å›¾å½¢é‡å çš„éƒ¨åˆ†æ‰§è¡Œâ€œå¼‚æˆ–â€æ“ä½œã€‚ WebGLWebGLæ˜¯é’ˆå¯¹Canvasçš„3Dä¸Šä¸‹æ–‡ã€‚ç±»åž‹åŒ–æ•°ç»„WebGLæ¶‰åŠçš„å¤æ‚è®¡ç®—éœ€è¦æå‰çŸ¥é“æ•°å€¼çš„ç²¾åº¦ï¼Œè€Œæ ‡å‡†çš„Javascriptæ•°å€¼æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚ä¸ºæ­¤ï¼ŒWebGLå¼•å…¥äº†ç±»åž‹åŒ–æ•°ç»„ã€‚ç±»åž‹åŒ–æ•°ç»„ä¹Ÿæ˜¯æ•°ç»„ï¼Œåªä¸è¿‡å…¶å…ƒç´ è¢«è®¾ç½®ä¸ºç‰¹å®šç±»åž‹çš„å€¼ã€‚ç±»åž‹åŒ–æ•°ç»„çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªåä¸ºArrayBufferï¼ˆæ•°ç»„ç¼“å†²å™¨ç±»åž‹ï¼‰çš„ç±»åž‹ã€‚æ¯ä¸ªArrayBufferå¯¹è±¡è¡¨ç¤ºçš„åªæ˜¯å†…å­˜ä¸­æŒ‡å®šçš„å­—èŠ‚æ•°ï¼Œä½†ä¸ä¼šæŒ‡å®šè¿™äº›å­—èŠ‚ç”¨äºŽä¿å­˜ä»€ä¹ˆç±»åž‹çš„æ•°æ®ã€‚é€šè¿‡ArrayBufferèƒ½å¤Ÿä¸ºå°†æ¥ä½¿ç”¨åˆ†é…ä¸€å®šæ•°é‡çš„å­—èŠ‚ã€‚12var buffer = new ArrayBuffer(20);//åœ¨å†…å­˜ä¸­åˆ†é…20å­—èŠ‚var bytes = buffer.byteLength; //é€šè¿‡bufferå¯¹è±¡èŽ·å–å”¯ä¸€çš„ä¿¡æ¯ï¼Œå­—èŠ‚æ•° 1.è§†å›¾ä½¿ç”¨ArrayBufferçš„ä¸€ç§ç‰¹åˆ«çš„æ–¹å¼å°±æ˜¯ç”¨å®ƒæ¥åˆ›å»ºæ•°ç»„ç¼“å†²å™¨è§†å›¾ã€‚æœ€å¸¸è§çš„è§†å›¾æ˜¯DataViewï¼Œé€šè¿‡å®ƒå¯ä»¥é€‰æ‹©ArrayBufferä¸­ä¸€å°æ®µå­—èŠ‚ã€‚123456//åŸºäºŽæ•´ä¸ªç¼“å†²å™¨åˆ›å»ºä¸€ä¸ªæ–°è§†å›¾var view = new DataView(buffer);//åˆ›å»ºä¸€ä¸ªå¼€å§‹äºŽå­—èŠ‚9çš„æ–°è§†å›¾var view = new DataView(buffer, 9);//åˆ›å»ºä¸€ä¸ªä»Žå­—èŠ‚9å¼€å§‹åˆ°å­—èŠ‚18çš„æ–°è§†å›¾var view = new DataView(buffer, 9, 10); DataViewå¯¹è±¡ä¼šæŠŠå­—èŠ‚åç§»é‡ä»¥åŠå­—èŠ‚é•¿åº¦ä¿¡æ¯åˆ†åˆ«ä¿å­˜åœ¨byteOffsetå’ŒbyteLengthå±žæ€§ä¸­ã€‚ 2.ç±»åž‹åŒ–è§†å›¾ç±»åž‹åŒ–è§†å›¾ä¸€èˆ¬ä¹Ÿè¢«ç§°ä¸ºç±»åž‹åŒ–æ•°ç»„ã€‚æœ‰ä»¥ä¸‹å‡ ç§ï¼šInt8Arrayã€Uint8Arrayã€Int16Arrayã€Uint16Arrayã€Int32Arrayã€Uint32Arrayã€Float32Arrayã€Float64Array. å¦‚æžœä¸ºç›¸åº”å…ƒç´ æŒ‡å®šçš„å­—èŠ‚æ•°æ”¾ä¸ä¸‹ç›¸åº”çš„å€¼ï¼Œåˆ™å®žé™…ä¿å­˜çš„å€¼æ˜¯æœ€å¤§å¯èƒ½å€¼çš„æ¨¡ã€‚ç±»åž‹åŒ–è§†å›¾è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œsubarray()ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åŸºäºŽåº•å±‚æ•°ç»„ç¼“å†²å™¨çš„å­é›†åˆ›å»ºä¸€ä¸ªæ–°è§†å›¾ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå¼€å§‹å…ƒç´ çš„ç´¢å¼•å’Œå¯é€‰çš„ç»“æŸå…ƒç´ çš„ç´¢å¼•ã€‚è¿”å›žçš„ç±»åž‹ä¸Žè°ƒç”¨è¯¥æ–¹æ³•çš„è§†å›¾ç±»åž‹ç›¸åŒã€‚ WebGLä¸Šä¸‹æ–‡åœ¨ä½¿ç”¨WebGLä¸Šä¸‹æ–‡æ—¶ï¼ŒåŠ¡å¿…å…ˆæ£€æµ‹ä¸€ä¸‹è¿”å›žå€¼ã€‚1&lt;canvas id="drawing" width="200" height="200"&gt;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvaså…ƒç´ &lt;/canvas&gt; 1234567var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var gl = drawing.getContext("experimental-webgl"); if(gl)&#123; //ä½¿ç”¨WebGL &#125;&#125; ä¸€èˆ¬éƒ½æŠŠWebGLä¸Šä¸‹æ–‡å¯¹è±¡å‘½åä¸ºglã€‚é€šè¿‡ç»™getContext()ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥ä¸ºWebGLä¸Šä¸‹æ–‡è®¾ç½®ä¸€äº›é€‰é¡¹ã€‚è¿™ä¸ªå‚æ•°æœ¬èº«æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰ä»¥ä¸‹å±žæ€§ï¼šalphaï¼šå€¼ä¸ºtrueï¼Œè¡¨ç¤ºä¸ºä¸Šä¸‹æ–‡åˆ›å»ºä¸€ä¸ªAlphaé€šé“ç¼“å†²åŒºï¼›é»˜è®¤ä¸ºtrueã€‚depthï¼šå€¼ä¸ºtrueï¼Œè¡¨ç¤ºå¯ä»¥ä½¿ç”¨16ä½æ·±ç¼“å†²åŒºï¼›é»˜è®¤å€¼ä¸ºtrueã€‚stencilï¼šå€¼ä¸ºtrueï¼Œè¡¨ç¤ºå¯ä»¥ä½¿ç”¨8ä½æ¨¡æ¿ç¼“å†²åŒºï¼›é»˜è®¤å€¼ä¸ºfalseã€‚antialiasï¼šå€¼ä¸ºtrueï¼Œè¡¨ç¤ºå°†ä½¿ç”¨é»˜è®¤æœºåˆ¶æ‰§è¡ŒæŠ—é”¯é½¿æ“ä½œï¼›é»˜è®¤ä¸ºtrueã€‚premultipliedAlphaï¼šå€¼ä¸ºtrueï¼Œè¡¨ç¤ºç»˜å›¾ç¼“å†²åŒºæœ‰é¢„ä¹˜Alphaå€¼ï¼›é»˜è®¤å€¼ä¸ºtrueã€‚preserveDrawingBufferï¼šå€¼ä¸ºtrueï¼Œè¡¨ç¤ºåœ¨ç»˜å›¾å®ŒæˆåŽä¿ç•™ç»˜å›¾ç¼“å†²åŒºï¼›é»˜è®¤å€¼ä¸ºfalseã€‚1234567var drawing = document.getElementById("drawing");if(drawing.getContext)&#123; var gl = drawing.getContext("experimental-webgl",&#123;alpha:false&#125;); if(gl)&#123; //ä½¿ç”¨WebGL &#125;&#125; å¦‚æžœgetContext()æ— æ³•åˆ›å»ºWebGLä¸Šä¸‹æ–‡ï¼Œæœ‰çš„æµè§ˆå™¨ä¼šæŠ¥é”™ï¼Œä¸ºæ­¤ï¼Œæœ€å¥½æŠŠè°ƒç”¨å°è£…åˆ°try-catchå—ä¸­ã€‚1234567891011121314var drawing = document.getElementById("drawing"), gl;if(drawing.getContext)&#123; try&#123; gl = drawing.getContext("experimental-webgl"); &#125;catch(ex)&#123; &#125; if(gl)&#123; //ä½¿ç”¨WebGL &#125;else&#123; alert("WebGL context could not be created."); &#125;&#125; 1.å¸¸é‡eg:gl.COLOR_BUFFER_BIT 2.æ–¹æ³•å‘½åæ–¹æ³•åçš„åŽç¼€åŒ…å«å‚æ•°ä¸ªæ•°ï¼ˆ1åˆ°4ï¼‰å’ŒæŽ¥æ”¶çš„æ•°æ®ç±»åž‹ï¼ˆfè¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œiè¡¨ç¤ºæ•´æ•°ï¼‰ï¼Œè€Œvä»£è¡¨æŽ¥æ”¶æ•°ç»„eg:gl.uniform3i()æŽ¥æ”¶3ä¸ªæ•´æ•°ã€‚gl.uniform4f()æŽ¥æ”¶4ä¸ªæµ®ç‚¹æ•°ã€‚gl.uniform3iv()æŽ¥æ”¶ä¸€ä¸ªåŒ…å«3ä¸ªå€¼çš„æ•´æ•°æ•°ç»„ã€‚ 3.å‡†å¤‡ç»˜å›¾åœ¨å®žé™…æ“ä½œWebGLä¸Šä¸‹æ–‡ä¹‹å‰ï¼Œä¸€èˆ¬éƒ½è¦ä½¿ç”¨æŸç§å®žè‰²æ¸…é™¤&lt;canvas&gt;ï¼Œä¸ºç»˜å›¾åšå¥½å‡†å¤‡ã€‚é¦–å…ˆå¿…é¡»ä½¿ç”¨clearColor()æ–¹æ³•æ¥æŒ‡å®šè¦ä½¿ç”¨çš„é¢œè‰²å€¼ï¼Œè¯¥æ–¹æ³•æŽ¥æ”¶4ä¸ªå‚æ•°ï¼šçº¢ã€ç»¿ã€è“å’Œé€æ˜Žåº¦ã€‚æ¯ä¸ªå‚æ•°éƒ½å¿…é¡»æ˜¯ä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æ•°å€¼ï¼Œè¡¨ç¤ºæ¯ç§åˆ†é‡åœ¨æœ€ç»ˆé¢œè‰²ä¸­çš„å¼ºåº¦ã€‚eg:gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT); 4.è§†å£ä¸Žåæ ‡å¼€å§‹ç»˜å›¾ä¹‹å‰ï¼Œé€šå¸¸éœ€è¦å…ˆå®šä¹‰WebGLè§†å£ï¼ˆviewportï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè§†å£å¯ä»¥ä½¿ç”¨æ•´ä¸ª&lt;canvas&gt;åŒºåŸŸã€‚è¦æ”¹å˜è§†å£çš„å¤§å°ï¼Œå¯ä»¥è°ƒç”¨viewport()æ–¹æ³•å¹¶ä¼ å…¥4ä¸ªå‚æ•°ï¼šï¼ˆè§†å£ç›¸å¯¹äºŽ&lt;canvas&gt;å…ƒç´ çš„ï¼‰xåæ ‡ã€yåæ ‡ã€å®½åº¦å’Œé«˜åº¦ã€‚12//è°ƒç”¨&lt;canvas&gt;å…ƒç´ gl.viewport(0,0,drawing.width,drawing.height); è§†å£åæ ‡çš„åŽŸç‚¹åœ¨&lt;canvas&gt;å…ƒç´ çš„å·¦ä¸‹è§’ï¼Œxè½´å’Œyè½´çš„æ­£æ–¹å‘åˆ†åˆ«æ˜¯å‘å³å’Œå‘ä¸Šã€‚ å¦å¤–ï¼Œåœ¨è§†å£å†…éƒ¨çš„åæ ‡ç³»ä¸Žå®šä¹‰è§†å£çš„åæ ‡ç³»ä¹Ÿä¸ä¸€æ ·ï¼Œåœ¨è§†å£å†…éƒ¨ï¼Œåæ ‡åŽŸç‚¹ï¼ˆ0,0ï¼‰æ˜¯è§†å£çš„ä¸­å¿ƒç‚¹ã€‚åœ¨è§†å£å†…éƒ¨ç»˜å›¾æ—¶ä½¿ç”¨è§†å£å¤–éƒ¨åæ ‡ï¼Œç»“æžœå¯èƒ½ä¼šè¢«è§†å£å‰ªåˆ‡ã€‚ 5.ç¼“å†²åŒºé¡¶ç‚¹ä¿¡æ¯ä¿å­˜åœ¨javascriptçš„ç±»åž‹åŒ–æ•°ç»„ä¸­ï¼Œä½¿ç”¨ä¹‹å‰å¿…é¡»è½¬æ¢åˆ°WebGLç¼“å†²åŒºã€‚12345678var buffer =gl.createBuffer(); //åˆ›å»ºç¼“å†²åŒºgl.bindBuffer(gl.ARRAY_BUFFER,buffer); //ç»‘å®šåˆ°WebGLä¸Šä¸‹æ–‡gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0.5,1]),gl.STATIC_DRAW);gl.bufferData()çš„æœ€åŽä¸€ä¸ªå‚æ•°ç”¨äºŽæŒ‡å®šä½¿ç”¨ç¼“å†²åŒºçš„æ–¹å¼ï¼šgl.STATIC_DRAWï¼šæ•°æ®åªåŠ è½½ä¸€æ¬¡ï¼Œåœ¨å¤šæ¬¡ç»˜å›¾ä¸­ä½¿ç”¨ã€‚gl.STREAM_DRAWï¼šæ•°æ®åªåŠ è½½ä¸€æ¬¡ï¼Œåœ¨å‡ æ¬¡ç»˜å›¾ä¸­ä½¿ç”¨ã€‚gl.DYNAMIC_DRAWï¼šæ•°æ®åŠ¨æ€æ”¹å˜ï¼Œåœ¨å¤šæ¬¡ç»˜å›¾ä¸­ä½¿ç”¨ã€‚ ä½¿ç”¨gl.deleteBuffer()é‡Šæ”¾å†…å­˜ã€‚ 6.é”™è¯¯WebGLæ“ä½œä¸€èˆ¬ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä¸ºäº†çŸ¥é“æ˜¯å¦æœ‰é”™è¯¯å‘ç”Ÿï¼Œå¿…é¡»åœ¨è°ƒç”¨æŸä¸ªå¯èƒ½å‡ºé”™çš„æ–¹æ³•åŽï¼Œæ‰‹å·¥è°ƒç”¨gl.getError()ã€‚ 7.ç€è‰²å™¨WebGLä¸­æœ‰ä¸¤ç§ç€è‰²å™¨ï¼šé¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡æ®µï¼ˆæˆ–åƒç´ ï¼‰ç€è‰²å™¨ã€‚é¡¶ç‚¹ç€è‰²å™¨ç”¨äºŽå°†3Dé¡¶ç‚¹è½¬æ¢ä¸ºéœ€è¦æ¸²æŸ“çš„2Dç‚¹ã€‚ç‰‡æ®µç€è‰²å™¨ç”¨äºŽå‡†ç¡®è®¡ç®—è¦ç»˜åˆ¶çš„æ¯ä¸ªåƒç´ çš„é¢œè‰²ã€‚ç€è‰²å™¨æ˜¯ç”¨GLSLè¯­è¨€ç¼–å†™çš„ã€‚ 8.ç¼–å†™ç€è‰²å™¨ç•¥9.ç¼–å†™ç€è‰²å™¨ç¨‹åºç•¥10.ä¸ºç€è‰²å™¨ä¼ å…¥å€¼ç•¥11.è°ƒè¯•ç€è‰²å™¨å’Œç¨‹åºç•¥ 12.ç»˜å›¾WebGLåªèƒ½ç»˜åˆ¶ä¸‰ç§å½¢çŠ¶ï¼šç‚¹ã€çº¿å’Œä¸‰è§’ã€‚æ‰§è¡Œç»˜å›¾æ“ä½œè¦è°ƒç”¨gl.drawArrays()æˆ–gl.drawElements()æ–¹æ³•ï¼Œå‰è€…ç”¨äºŽæ•°ç»„ç¼“å†²åŒºï¼ŒåŽè€…ç”¨äºŽå…ƒç´ æ•°ç»„ç¼“å†²åŒºã€‚gl.drawArrays()æˆ–gl.drawElements()çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œè¡¨ç¤ºè¦ç»˜åˆ¶çš„å½¢çŠ¶ï¼Œå¸¸é‡å–å€¼å¦‚ä¸‹ï¼šgl.POINTSï¼šå°†æ¯ä¸ªé¡¶ç‚¹å½“æˆä¸€ä¸ªç‚¹æ¥ç»˜åˆ¶ã€‚gl.LINESï¼šå°†æ•°ç»„å½“æˆä¸€ç³»åˆ—é¡¶ç‚¹ï¼Œåœ¨è¿™äº›é¡¶ç‚¹é—´ç”»çº¿ã€‚æ¯ä¸ªé¡¶ç‚¹æ—¢æ˜¯èµ·ç‚¹ä¹Ÿæ˜¯ç»ˆç‚¹ï¼Œå› æ­¤æ•°ç»„ä¸­å¿…é¡»åŒ…å«å¶æ•°ä¸ªé¡¶ç‚¹ã€‚gl.LINE_LOOPï¼šå°†æ•°ç»„å½“æˆä¸€ç³»åˆ—é¡¶ç‚¹ï¼Œåœ¨è¿™äº›é¡¶ç‚¹é—´ç”»çº¿ã€‚æœ€åŽä¸€ä¸ªé¡¶ç‚¹ç”»åˆ°ç¬¬ä¸€ä¸ªé¡¶ç‚¹ï¼Œå½¢æˆä¸€ä¸ªå½¢çŠ¶çš„è½®å»“ã€‚gl.LINE_STRIPï¼šé™¤äº†ä¸èŠ±æœ€åŽä¸€ä¸ªé¡¶ç‚¹ä¸Žç¬¬ä¸€ä¸ªé¡¶ç‚¹ä¹‹é—´çš„çº¿ä¹‹å¤–ï¼Œå…¶ä»–ä¸Žgl.LINE_LOOPç›¸åŒã€‚gl.TRIANGLESï¼šå°†æ•°ç»„å½“æˆä¸€ç³»åˆ—é¡¶ç‚¹ï¼Œåœ¨è¿™äº›é¡¶ç‚¹é—´ç”»ä¸‰è§’å½¢ã€‚gl.TRIANGLES_STRIPï¼šé™¤äº†å‰ä¸‰ä¸ªé¡¶ç‚¹ä¹‹åŽçš„é¡¶ç‚¹å½“ä½œç¬¬ä¸‰ä¸ªé¡¶ç‚¹ä¸Žå‰ä¸¤ä¸ªé¡¶ç‚¹å…±åŒæž„æˆä¸€ä¸ªæ–°ä¸‰è§’å½¢å¤–ï¼Œå…¶ä»–ä¸Žgl.TRIANGLESç›¸åŒã€‚gl.TRIANGLES_FANï¼šé™¤äº†å‰ä¸‰ä¸ªé¡¶ç‚¹ä¹‹åŽçš„é¡¶ç‚¹å½“ä½œç¬¬ä¸‰ä¸ªé¡¶ç‚¹ä¸Žå‰ä¸€ä¸ªé¡¶ç‚¹åŠç¬¬ä¸€ä¸ªé¡¶ç‚¹å…±åŒæž„æˆä¸€ä¸ªæ–°ä¸‰è§’å½¢å¤–ï¼Œå…¶ä»–ä¸Žgl.TRIANGLESç›¸åŒã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ä¸­æœ‰Aã€Bã€Cã€Då››ä¸ªé¡¶ç‚¹ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ˜¯ä¸‰è§’å½¢è¿žæŽ¥ABC,ç¬¬äºŒä¸ªä¸‰è§’å½¢è¿žæŽ¥BCDã€‚12345678910111213141516171819//å‡è®¾å·²ç»ä½¿ç”¨äº†ç€è‰²å™¨è¯·å¤„ç†è§†å£//å®šä¹‰ä¸‰ä¸ªé¡¶ç‚¹ä»¥åŠæ¯ä¸ªé¡¶ç‚¹çš„x å’Œy åæ ‡var vertices = new Float32Array([0,1,1,-1,-1,-1]), buffer = gl.createBuffer(), vertexSetSize = 2, vertexSetCount = vertices.length/vertexSetSize, uColor,aVertexPosition;//æŠŠæ•°æ®æ”¾åˆ°ç¼“å†²åŒºgl.bindBuffer(gl.ARRAY_BUFFER,buffer);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);//ä¸ºç‰‡æ®µç€è‰²å™¨ä¼ å…¥é¢œè‰²å€¼uColor = gl.getUniformLocation(program,"uColor");gl.uniform4fv(uColor,[0,0,0,1]);//ä¸ºç€è‰²å™¨ä¼ å…¥é¡¶ç‚¹ä¿¡æ¯aVertexPosition = gl.getAttribLocation(program,"aVertextPosition");gl.enableVertexAttribArray(aVertexPosition);gl.vertexAttribPointer(aVertexPosition,vertexSetSize,gl.FLOAT,false,0,0);//ç»˜åˆ¶ä¸‰è§’å½¢gl.drawArrays(gl.TRIANGLES,0,vertexSetCount); 13.çº¹ç†WebGLçš„çº¹ç†å¯ä»¥ä½¿ç”¨DOMä¸­çš„å›¾åƒã€‚è°ƒç”¨gl.createTexture()åˆ›å»ºä¸€ä¸ªæ–°çº¹ç†ã€‚12345678910111213var image = new Image(),texture;image.src="simple.gif";iimage.onload = function()&#123; texture = gl.createTexture(); gl.bindTexture(gl.TEXTURE_2D,texture); gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,true); gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED,image); gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST); gl.textParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST); //æ¸…é™¤å½“å‰çº¹ç† gl.bindTexture(gl.TEXTURE_2D,null);&#125;; 14.è¯»å–åƒç´ é€šè¿‡gl.readPixels()æ–¹æ³•è¯»å–åƒç´ ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆäº”ï¼‰]]></title>
    <url>%2F2017%2F05%2F14%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶Javascriptä¸ŽHTMLä¹‹é—´çš„äº¤äº’æ˜¯é€šè¿‡äº‹ä»¶æ¥å®žçŽ°çš„ã€‚äº‹ä»¶ï¼Œå°±æ˜¯æ–‡æ¡£æˆ–æµè§ˆå™¨çª—å£ä¸­å‘ç”Ÿçš„ä¸€äº›ç‰¹å®šçš„äº¤äº’çž¬é—´ã€‚ äº‹ä»¶æµäº‹ä»¶æµæè¿°çš„æ˜¯ä»Žé¡µé¢ä¸­æŽ¥æ”¶äº‹ä»¶çš„é¡ºåºã€‚IE8åŠä¹‹å‰ç‰ˆæœ¬çš„äº‹ä»¶æµä»…æ˜¯äº‹ä»¶å†’æ³¡æµã€‚ äº‹ä»¶å†’æ³¡IEçš„äº‹ä»¶æµå«åšäº‹ä»¶å†’æ³¡ï¼Œå³äº‹ä»¶å¼€å§‹æ—¶ç”±æœ€å…·ä½“çš„å…ƒç´ ï¼ˆæ–‡æ¡£ä¸­åµŒå¥—å±‚æ¬¡æœ€æ·±çš„é‚£ä¸ªèŠ‚ç‚¹ï¼‰æŽ¥æ”¶ï¼Œç„¶åŽé€çº§å‘ä¸Šä¼ æ’­åˆ°è¾ƒä¸ºä¸å…·ä½“çš„èŠ‚ç‚¹ï¼ˆæ–‡æ¡£ï¼‰ã€‚æ‰“ä¸ªæ¯”æ–¹è¯´ï¼šä½ åœ¨åœ°æ–¹æ³•é™¢è¦ä¸Šè¯‰ä¸€ä»¶æ¡ˆå­ï¼Œå¦‚æžœåœ°æ–¹æ²¡æœ‰å¤„ç†æ­¤ç±»æ¡ˆä»¶çš„æ³•é™¢ï¼Œåœ°æ–¹ç›¸å…³éƒ¨é—¨ä¼šå¸®ä½ ç»§ç»­å¾€ä¸Šçº§æ³•é™¢ä¸Šè¯‰ï¼Œæ¯”å¦‚ä»Žå¸‚çº§åˆ°çœçº§ï¼Œç›´è‡³åˆ°ä¸­å¤®æ³•é™¢ï¼Œæœ€ç»ˆä½¿ä½ çš„æ¡ˆä»¶å¾—ä»¥å¤„ç†ã€‚æœ€å¸¸åº”ç”¨äºŽäº‹ä»¶å§”æ‰˜æŠ€æœ¯ä¸­ã€‚ äº‹ä»¶æ•èŽ·äº‹ä»¶æ•èŽ·çš„æ€æƒ³æ˜¯ä¸å¤ªå…·ä½“çš„èŠ‚ç‚¹åº”è¯¥æ›´æ—©æŽ¥æ”¶åˆ°äº‹ä»¶ï¼Œè€Œæœ€å…·ä½“çš„èŠ‚ç‚¹åº”è¯¥æœ€åŽæŽ¥æ”¶åˆ°äº‹ä»¶ã€‚äº‹ä»¶æ•èŽ·çš„ç”¨æ„åœ¨äºŽäº‹ä»¶åˆ°è¾¾é¢„å®šç›®æ ‡ä¹‹å‰æ•èŽ·å®ƒã€‚ DOMäº‹ä»¶æµâ€œDOM2çº§äº‹ä»¶â€è§„å®šçš„äº‹ä»¶æµåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼šäº‹ä»¶æ•èŽ·é˜¶æ®µï¼Œå¤„äºŽç›®æ ‡é˜¶æ®µå’Œäº‹ä»¶å†’æ³¡é˜¶æ®µã€‚ äº‹ä»¶å¤„ç†ç¨‹åºäº‹ä»¶æ˜¯æŒ‡ç”¨æˆ·æˆ–æµè§ˆå™¨è‡ªèº«æ‰§è¡Œçš„æŸç§åŠ¨ä½œï¼Œå¦‚clickï¼›äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯æŒ‡å“åº”æŸä¸ªäº‹ä»¶çš„å‡½æ•°ï¼Œä¹Ÿå«åšäº‹ä»¶ä¾¦å¬å™¨ï¼Œå¦‚onclick()ã€‚ äº‹ä»¶å¤„ç†ç¨‹åºæœ‰ä»¥ä¸‹äº”ç±»ï¼š1ï¼‰HTMLäº‹ä»¶å¤„ç†ç¨‹åºç›´æŽ¥åœ¨HTMLä¸­è°ƒç”¨javascriptä»£ç æˆ–å‡½æ•°ï¼›æœ‰ç‚¹ï¼šç®€å•ï¼Œæ–¹ä¾¿ï¼›ç¼ºç‚¹ï¼šjavascriptå’Œhtmlç´§å¯†è€¦åˆï¼Œä¸æ–¹ä¾¿ç»´æŠ¤å’Œä¿®æ”¹ã€‚123456&lt;script&gt; function showMessage() &#123; alert("Hello world!"); &#125;&lt;/script&gt;&lt;input type="button" value="click me" onclick="showMessage()"&gt; 2ï¼‰DOM0çº§äº‹ä»¶å¤„ç†ç¨‹åºé€šè¿‡javascriptæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„ä¼ ç»Ÿæ–¹å¼ï¼Œå°±æ˜¯å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºå±žæ€§ã€‚123456var btn = document.getElementById("myBtn");btn.onclick = function()&#123; alert(this.id);&#125;;btn.onclick = null; //åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº 3ï¼‰DOM2çº§äº‹ä»¶å¤„ç†ç¨‹åºâ€œDOM2çº§äº‹ä»¶â€å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œç”¨äºŽå¤„ç†å’Œåˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åºçš„æ“ä½œï¼šaddEventListener()å’ŒremoveEventListener()æ‰€æœ‰DOMèŠ‚ç‚¹éƒ½åŒ…å«è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå®ƒä»¬éƒ½æŽ¥æ”¶3ä¸ªå‚æ•°ï¼šè¦å¤„ç†çš„äº‹ä»¶åã€ä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åºçš„å‡½æ•°å’Œä¸€ä¸ªå¸ƒå°”å€¼ã€‚æœ€åŽè¿™ä¸ªå¸ƒå°”å€¼å‚æ•°å¦‚æžœæ˜¯true,è¡¨ç¤ºåœ¨æ•èŽ·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼›å¦‚æžœæ˜¯falseï¼Œè¡¨ç¤ºåœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºã€‚1234var btn = document.getElementById("myBtn");btn.addEventListener("click",function()&#123; alert(this.id);&#125;,false); ä½¿ç”¨DOM2çº§æ–¹æ³•ä¸»è¦å¥½å¤„æ˜¯å¯ä»¥æ·»åŠ å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚é€šè¿‡addEventListener()æ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºåªèƒ½ä½¿ç”¨removeEventListener()æ¥ç§»é™¤ï¼›ç§»é™¤æ—¶ä¼ å…¥çš„å‚æ•°ä¸Žæ·»åŠ å¤„ç†ç¨‹åºæ—¶ä½¿ç”¨çš„å‚æ•°ç›¸åŒã€‚è¿™ä¹Ÿæ„å‘³ç€é€šè¿‡addEventListener()æ·»åŠ çš„åŒ¿åå‡½æ•°å°†æ— æ³•ç§»é™¤ã€‚ 4ï¼‰IEäº‹ä»¶å¤„ç†ç¨‹åºIEå®žçŽ°äº†ä¸ŽDOMä¸­ç±»ä¼¼çš„ä¸¤ä¸ªæ–¹æ³•ï¼šattachEvent()å’ŒdetachEvent()ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•æŽ¥å—ç›¸åŒçš„ä¸¤ä¸ªå‚æ•°ï¼šäº‹ä»¶å¤„ç†ç¨‹åºåç§°ä¸Žäº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°ã€‚1234var btn = document.getElementById("myBtn");btn.attachEvent("onclick",function()&#123; alert("Clicked");&#125;); åœ¨IEä¸­ä½¿ç”¨attachEvent()ä¸Žä½¿ç”¨DOM0çº§æ–¹æ³•çš„ä¸»è¦åŒºåˆ«åœ¨äºŽäº‹ä»¶å¤„ç†ç¨‹åºçš„ä½œç”¨åŸŸã€‚åœ¨ä½¿ç”¨DOM0çº§æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºä¼šåœ¨å…¶æ‰€å±žå…ƒç´ çš„ä½œç”¨åŸŸå†…è¿è¡Œï¼›åœ¨ä½¿ç”¨attachEvent()æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­è¿è¡Œï¼Œå› æ­¤thisç­‰äºŽwindowã€‚ ä½¿ç”¨attachEvent()æ·»åŠ çš„äº‹ä»¶å¯ä»¥é€šè¿‡detachEvent()æ¥ç§»é™¤ï¼Œä½†å¿…é¡»æä¾›ç›¸åŒçš„å‚æ•°ï¼ŒåŒæ ·åœ°ï¼Œæ— æ³•å°†åŒ¿åå‡½æ•°ç§»é™¤ã€‚æ”¯æŒIEäº‹ä»¶å¤„ç†ç¨‹åºçš„æµè§ˆå™¨æœ‰IEå’ŒOperaã€‚ 5ï¼‰è·¨æµè§ˆå™¨çš„äº‹ä»¶å¤„ç†ç¨‹åºè‡ªå®šä¹‰åˆé€‚çš„äº‹ä»¶å¤„ç†çš„æ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸‹ä¸€è‡´åœ°è¿è¡Œã€‚åˆ›å»ºaddHandler()æ–¹æ³•ï¼Œå®ƒçš„èŒè´£æ˜¯è§†æƒ…å†µåˆ†åˆ«ä½¿ç”¨DOM0çº§æ–¹æ³•ã€DOM2çº§æ–¹æ³•æˆ–IEæ–¹æ³•æ¥æ·»åŠ äº‹ä»¶ã€‚addHandler()æ–¹æ³•æŽ¥æ”¶3ä¸ªå‚æ•°ï¼šè¦æ“ä½œçš„å…ƒç´ ã€äº‹ä»¶åç§°å’Œäº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°ã€‚123456789101112131415161718192021EventUtil=&#123; addHandler: function(element,type,handler) &#123; if(element.addEventListener)&#123; element.addEventListener(type,handler,false); &#125;else if(element.attachEvent)&#123; element.attachEvent("on"+type,handler); &#125;else&#123; element["on"+type] = handler; &#125; &#125;, removeHandler: function(element,type,handler) &#123; if(element.removeEventListener) &#123; element.removeEventListener(type,handler,false); &#125;else if(element.detachEvent) &#123; element.detachEvent("on"+type,handler); &#125;else&#123; element["on"+type] = null; &#125; &#125;&#125;; äº‹ä»¶å¯¹è±¡åœ¨è§¦å‘DOMä¸Šçš„æŸä¸ªäº‹ä»¶æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡eventã€‚æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒeventå¯¹è±¡ã€‚ DOMä¸­çš„äº‹ä»¶å¯¹è±¡å…¼å®¹DOMçš„æµè§ˆå™¨ä¼šå°†ä¸€ä¸ªeventå¯¹è±¡ä¼ å…¥åˆ°äº‹ä»¶å¤„ç†ç¨‹åºä¸­ã€‚1234var btn = document.getElementById("myBtn");btn.onclick = function(event) &#123; alert(event.type); //â€œclickâ€&#125;; åœ¨äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨ï¼Œå¯¹è±¡thiså§‹ç»ˆç­‰äºŽcurrentTargetçš„å€¼ï¼Œè€Œtargetåˆ™åŒ…å«äº‹ä»¶çš„å®žé™…ç›®æ ‡ã€‚ IEä¸­çš„äº‹ä»¶å¯¹è±¡è¦è®¿é—®IEä¸­çš„eventå¯¹è±¡æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ï¼Œå–å†³äºŽæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„æ–¹æ³•ã€‚åœ¨ä½¿ç”¨DOM0çº§æ–¹æ³•æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºæ—¶ï¼Œeventå¯¹è±¡ä½œä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§å­˜åœ¨ã€‚12345var btn = document.getElementById("myBtn");btn.onclick = function()&#123; var event = window.event; alert(event.type); //â€œclickâ€&#125;; å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºçš„ä½œç”¨åŸŸæ˜¯æ ¹æ®æŒ‡å®šå®ƒçš„æ–¹å¼æ¥ç¡®å®šçš„ï¼Œæ‰€ä»¥ä¸èƒ½è®¤ä¸ºthisä¼šå§‹ç»ˆç­‰äºŽäº‹ä»¶ç›®æ ‡ã€‚æ‰€ä»¥ï¼Œæœ€å¥½è¿˜æ˜¯ä½¿ç”¨event.srcElementæ¥ç¡®å®šäº‹ä»¶ç›®æ ‡ã€‚ è·¨æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡å¯¹å‰é¢çš„EventUtilå¯¹è±¡åŠ ä»¥å¢žå¼ºï¼š12345678910111213141516171819202122232425262728293031323334353637383940EventUtil = &#123; addHandler : function(element,type,handler) &#123; if(element.addEventListener) &#123; element.addEventListener(type,handler,false); &#125;else if(element.attachEvent) &#123; element.attachEvent("on"+type,handler); &#125;else &#123; element["on"+type] = handler; &#125; &#125;, getEvent: function(event) &#123; return event ? event : window.event; &#125;, getTarget: function(event) &#123; return event.target || event.srcElement; &#125;, preventDefaultï¼šfunction(event) &#123; if(event.preventDefault) &#123; event.preventDefault(); &#125;else &#123; event.returnValue=true; &#125; &#125;, removeHandler: function(element,type,handler) &#123; if(element.removeEventListener) &#123; element.removeEventListener(type,handler,false); &#125;else if(element.detachEvent) &#123; element.detachEvent("on"+type,handler); &#125;else &#123; element["on"+type] = null; &#125; &#125;, stopPropagation: function(event) &#123; if(event.stopPropagation) &#123; event.stopPropagation(); &#125;else&#123; event.cancelBubble = true; &#125; &#125;&#125;; äº‹ä»¶ç±»åž‹â€œDOM3çº§äº‹ä»¶â€è§„å®šäº†ä»¥ä¸‹å‡ ç±»äº‹ä»¶ï¼šUIäº‹ä»¶ï¼šå½“ç”¨æˆ·ä¸Žé¡µé¢ä¸Šçš„å…ƒç´ è¿›è¡Œäº¤äº’æ—¶è§¦å‘ï¼›UIäº‹ä»¶ï¼ˆåœ¨DOM2çº§ä¸­å½’ä¸ºHTMLäº‹ä»¶ï¼‰æœ‰ï¼šloadã€unloadã€abortã€errorã€selectã€resizeã€scroll ç„¦ç‚¹äº‹ä»¶ï¼šå½“å…ƒç´ èŽ·å¾—æˆ–æ˜¯åŽ»ç„¦ç‚¹æ—¶è§¦å‘ï¼›blurã€focusinã€focusoutã€focusã€DOMFocusInã€DOMFocusOutï¼›åˆ©ç”¨è¿™äº›äº‹ä»¶å¹¶ä¸Ždocument.hasFocus()æ–¹æ³•åŠdocument.activeElementå±žæ€§é…åˆï¼Œå¯ä»¥çŸ¥æ™“ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„è¡Œè¸ªã€‚ å½“ç„¦ç‚¹ä»Žé¡µé¢ä¸­çš„ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªå…ƒç´ ï¼Œä¼šä¾æ¬¡è§¦å‘ä¸‹åˆ—äº‹ä»¶ï¼š1ï¼‰focusoutåœ¨å¤±åŽ»ç„¦ç‚¹çš„å…ƒç´ ä¸Šè§¦å‘ï¼›2ï¼‰focusinåœ¨èŽ·å¾—ç„¦ç‚¹çš„å…ƒç´ ä¸Šè§¦å‘ï¼›3ï¼‰bluråœ¨å¤±åŽ»ç„¦ç‚¹çš„å…ƒç´ ä¸Šè§¦å‘ï¼›4ï¼‰DOMFocusOutåœ¨å¤±åŽ»ç„¦ç‚¹çš„å…ƒç´ ä¸Šè§¦å‘ï¼›5ï¼‰focusåœ¨èŽ·å¾—ç„¦ç‚¹çš„å…ƒç´ ä¸Šè§¦å‘ï¼›6ï¼‰DOMFocusInåœ¨èŽ·å¾—ç„¦ç‚¹çš„å…ƒç´ ä¸Šè§¦å‘ã€‚ é¼ æ ‡äº‹ä»¶ï¼šå½“ç”¨æˆ·é€šè¿‡é¼ æ ‡åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œæ—¶è§¦å‘ï¼›clickã€dbclickã€mousedownã€mouseenterã€mouseleaveã€mousemoveã€mouseoutã€mouseoverã€mouseup ç›¸å…³å…ƒç´ ï¼ševentå¯¹è±¡çš„relatedTargetå±žæ€§æä¾›äº†ç›¸å…³å…ƒç´ çš„ä¿¡æ¯ã€‚ä¾‹å¦‚mouseroverï¼Œäº‹ä»¶çš„ä¸»ç›®æ ‡æ˜¯èŽ·å¾—å…‰æ ‡çš„å…ƒç´ ï¼Œè€Œç›¸å…³å…ƒç´ å°±æ˜¯é‚£ä¸ªå¤±åŽ»å…‰æ ‡çš„å…ƒç´ ã€‚ æ»šè½®äº‹ä»¶ï¼šå½“ä½¿ç”¨é¼ æ ‡æ»šè½®ï¼ˆæˆ–ç±»ä¼¼è®¾å¤‡ï¼‰æ—¶è§¦å‘ï¼›mousewheel;ä¸Žmousewheeläº‹ä»¶å¯¹åº”çš„eventå¯¹è±¡é™¤åŒ…å«é¼ æ ‡äº‹ä»¶çš„æ‰€æœ‰æ ‡å‡†ä¿¡æ¯å¤–ï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ªç‰¹æ®Šçš„wheelDeltaå±žæ€§ã€‚å½“ç”¨æˆ·å‘å‰æ»šåŠ¨é¼ æ ‡æ»šè½®æ—¶ï¼ŒwheelDeltaæ˜¯120çš„å€æ•°ï¼›å½“ç”¨æˆ·å‘åŽæ»šåŠ¨é¼ æ ‡æ»šè½®æ—¶ï¼ŒwheelDeltaæ˜¯-120çš„å€æ•°ã€‚ è€ŒFireFoxæ”¯æŒåä¸ºDOMMouseScrollçš„ç±»ä¼¼äº‹ä»¶ï¼Œæœ‰å…³é¼ æ ‡æ»šè½®çš„ä¿¡æ¯åˆ™ä¿å­˜åœ¨detailå±žæ€§ä¸­ï¼Œå‘å‰æ»šåŠ¨é¼ æ ‡æ»šè½®æ—¶ï¼Œå±žæ€§å€¼ä¸º-3çš„å€æ•°ï¼Œå‘åŽæ»šåŠ¨é¼ æ ‡æ»šè½®æ—¶ï¼Œå±žæ€§å€¼ä¸º3çš„å€æ•°ã€‚ æ–‡æœ¬äº‹ä»¶ï¼šå½“åœ¨æ–‡æ¡£ä¸­è¾“å…¥æ–‡æœ¬æ—¶è§¦å‘ï¼›é”®ç›˜äº‹ä»¶ï¼šå½“ç”¨æˆ·é€šè¿‡é”®ç›˜åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œæ—¶è§¦å‘ï¼›keydownï¼ˆä»»æ„é”®ï¼‰ã€keypressï¼ˆä»…å­—ç¬¦é”®ï¼‰ã€keyupï¼›åœ¨å‘ç”Ÿkeydownå’Œkeyupäº‹ä»¶æ—¶ï¼Œeventå¯¹è±¡çš„keyCodeå±žæ€§ä¼šåŒ…å«ä¸€ä¸ªä»£ç ï¼Œä¸Žé”®ç›˜ä¸Šä¸€ä¸ªç‰¹å®šçš„é”®å¯¹åº”ã€‚ è¦æƒ³ä»¥è·¨æµè§ˆå™¨çš„æ–¹å¼å–å¾—å­—ç¬¦ç¼–ç ï¼Œå¿…é¡»é¦–å…ˆæ£€æµ‹charCodeå±žæ€§æ˜¯å¦å¯ç”¨ï¼Œå¦‚æžœä¸å¯ç”¨åˆ™ä½¿ç”¨keyCode.1234567891011var EventUtil = &#123; //çœç•¥ä»£ç  getCharCode : function(event)&#123; if(typeof event.charCode == "number")&#123; return event.charCode; &#125;else&#123; return event.keyCode; &#125; &#125; //çœç•¥ä»£ç &#125; åˆæˆäº‹ä»¶(DOM3çº§)ï¼šå½“ä¸ºIME(è¾“å…¥æ³•ç¼–è¾‘å™¨)è¾“å…¥å­—ç¬¦æ—¶è§¦å‘ï¼›å˜åŠ¨äº‹ä»¶ï¼šå½“åº•å±‚DOMç»“æž„å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ï¼›å˜åŠ¨åç§°äº‹ä»¶ï¼šå½“å…ƒç´ æˆ–å±žæ€§åå˜åŠ¨æ—¶è§¦å‘ã€‚ï¼ˆå·²è¢«åºŸå¼ƒï¼‰ HTML5äº‹ä»¶1.contextmenuäº‹ä»¶é€šå¸¸ä½¿ç”¨contextmenuäº‹ä»¶æ¥æ˜¾ç¤ºè‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡èœå•ã€‚ 2.beforeunloadäº‹ä»¶è¯¥äº‹ä»¶æ˜¯ä¸ºäº†è®©å¼€å‘äººå‘˜æœ‰å¯èƒ½åœ¨é¡µé¢å¸è½½å‰é˜»æ­¢è¿™ä¸€æ“ä½œã€‚ 3.DOMContentLoadedäº‹ä»¶è¯¥äº‹ä»¶åœ¨å½¢æˆå®Œæ•´çš„DOMæ ‘ä¹‹åŽè§¦å‘ï¼Œä¸ç†ä¼šå›¾åƒã€javascriptæ–‡ä»¶ã€cssæ–‡ä»¶æˆ–å…¶ä»–èµ„æºæ˜¯å¦å·²ç»ä¸‹è½½å®Œæ¯•ã€‚ 4.readystatechangeäº‹ä»¶è¯¥äº‹ä»¶çš„ç›®çš„æ˜¯æä¾›ä¸Žæ–‡æ¡£æˆ–å…ƒç´ çš„åŠ è½½çŠ¶æ€æœ‰å…³çš„ä¿¡æ¯ã€‚æ”¯æŒreadystatechangeäº‹ä»¶çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªreadyStateå±žæ€§ï¼Œå¯èƒ½åŒ…å«ä¸‹åˆ—å€¼ï¼šuninitializedï¼ˆæœªåˆå§‹åŒ–ï¼‰ï¼šå¯¹è±¡å­˜åœ¨ä½†å°šæœªåˆå§‹åŒ–ï¼›loadingï¼šå¯¹è±¡æ­£åœ¨åŠ è½½æ•°æ®ï¼›loadedï¼šå¯¹è±¡åŠ è½½æ•°æ®å®Œæˆï¼›interactive(äº¤äº’)ï¼šå¯ä»¥æ“ä½œå¯¹è±¡äº†ï¼Œä½†è¿˜æ²¡æœ‰å®Œå…¨åŠ è½½ï¼›completeï¼šå¯¹è±¡åŠ è½½å®Œæ¯•ã€‚ 5.pageshowå’Œpagehideäº‹ä»¶ 6.hashchangeäº‹ä»¶å°†hashchangeäº‹ä»¶å¤„ç†ç¨‹åºæ·»åŠ ç»™windowå¯¹è±¡ï¼Œç„¶åŽURLå‚æ•°åˆ—è¡¨åªè¦å˜åŒ–å°±ä¼šè°ƒç”¨å®ƒã€‚æ­¤æ—¶eventå¯¹è±¡åº”è¯¥é¢å¤–åŒ…å«ä¸¤ä¸ªå±žæ€§ï¼šoldURLå’ŒnewURLã€‚è¿™ä¸¤ä¸ªå±žæ€§åˆ†åˆ«ä¿å­˜ç€å‚æ•°åˆ—è¡¨å˜åŒ–å‰åŽçš„å®Œæ•´URLã€‚ è®¾å¤‡äº‹ä»¶1.orientationchangeäº‹ä»¶è‹¹æžœå…¬å¸ä¸ºç§»åŠ¨Safariä¸­æ·»åŠ äº†orientationchangeäº‹ä»¶ï¼Œä»¥ä¾¿å¼€å‘äººå‘˜èƒ½å¤Ÿç¡®å®šç”¨æˆ·ä½•æ—¶å°†è®¾å¤‡ç”±æ¨ªå‘æŸ¥çœ‹æ¨¡å¼åˆ‡æ¢ä¸ºçºµå‘æŸ¥çœ‹æ¨¡å¼ã€‚window.orientationå±žæ€§å¯èƒ½åŒ…å«3ä¸ªå€¼ï¼š0è¡¨ç¤ºè‚–åƒæ¨¡å¼ï¼Œ90è¡¨ç¤ºå‘å·¦æ—‹è½¬çš„æ¨ªå‘æ¨¡å¼ï¼Œ-90è¡¨ç¤ºå‘å³æ—‹è½¬çš„æ¨ªå‘æ¨¡å¼ã€‚ 2.MozOrientationäº‹ä»¶Firefox3.6ä¸ºæ£€æµ‹è®¾å¤‡çš„æ–¹å‘å¼•å…¥äº†ä¸€ä¸ªåä¸ºMozOrientationçš„æ–°äº‹ä»¶ã€‚ 3.deviceorientationäº‹ä»¶ 4.devicemotionäº‹ä»¶ è§¦æ‘¸ä¸Žæ‰‹åŠ¿äº‹ä»¶1.è§¦æ‘¸äº‹ä»¶touchstartï¼šå½“æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶è§¦å‘ï¼›å³ä½¿å·²ç»æœ‰ä¸€ä¸ªæ‰‹æŒ‡æ”¾åœ¨äº†å±å¹•ä¸Šä¹Ÿä¼šè§¦å‘ã€‚touchmoveï¼šå½“æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨æ—¶è¿žç»­åœ°è§¦å‘ã€‚è¿™ä¸ªäº‹ä»¶å‘ç”ŸæœŸé—´ï¼Œè°ƒç”¨preventDefault()å¯ä»¥é˜»æ­¢æ»šåŠ¨touchendï¼šå½“æ‰‹æŒ‡ä»Žå±å¹•ç§»å¼€æ—¶è§¦å‘ï¼›touchcancelï¼šå½“ç³»ç»Ÿåœæ­¢è·Ÿè¸ªè§¦æ‘¸æ—¶è§¦å‘ï¼›ä¸‰ä¸ªç”¨äºŽè·Ÿè¸ªè§¦æ‘¸çš„å±žæ€§ï¼štouchesï¼šè¡¨ç¤ºå½“å‰è·Ÿè¸ªçš„è§¦æ‘¸æ“ä½œçš„Touchå¯¹è±¡çš„æ•°ç»„ï¼›targetTouchesï¼šç‰¹å®šäºŽäº‹ä»¶ç›®æ ‡çš„Touchå¯¹è±¡çš„æ•°ç»„ï¼›changeTouchesï¼šè¡¨ç¤ºè‡ªä¸Šæ¬¡è§¦æ‘¸ä»¥æ¥å‘ç”Ÿäº†ä»€ä¹ˆæ”¹å˜çš„Touchå¯¹è±¡çš„æ•°ç»„ã€‚ æ¯ä¸ªTouchå¯¹è±¡åŒ…å«ä¸‹åˆ—å±žæ€§ï¼šclientXï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„xåæ ‡ï¼›clientYï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„yåæ ‡identifierï¼šæ ‡è¯†è§¦æ‘¸çš„å”¯ä¸€IDï¼›pageXï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„xåæ ‡ï¼›pageYï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„yåæ ‡ï¼›screenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ï¼›screenYï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„yåæ ‡ï¼›targetï¼šè§¦æ‘¸çš„DOMèŠ‚ç‚¹ç›®æ ‡ã€‚ 2.æ‰‹åŠ¿äº‹ä»¶gesturestartï¼šå½“ä¸€ä¸ªæ‰‹æŒ‡å·²ç»æŒ‰åœ¨å±å¹•ä¸Šè€Œå¦ä¸€ä¸ªæ‰‹æŒ‡åˆè§¦æ‘¸å±å¹•æ—¶è§¦å‘ã€‚gesturechangeï¼šå½“è§¦æ‘¸å±å¹•çš„ä»»ä½•ä¸€ä¸ªæ‰‹æŒ‡çš„ä½ç½®å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚gestureendï¼šå½“ä»»ä½•ä¸€ä¸ªæ‰‹æŒ‡ä»Žå±å¹•ä¸Šé¢ç§»å¼€æ—¶è§¦å‘ã€‚ å†…å­˜å’Œæ€§èƒ½äº‹ä»¶å§”æ‰˜ï¼ˆäº‹ä»¶ä»£ç†ï¼‰äº‹ä»¶å§”æ‰˜åˆ©ç”¨äº†äº‹ä»¶å†’æ³¡ï¼ŒåªæŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»åž‹çš„æ‰€æœ‰äº‹ä»¶ã€‚ä¼˜ç‚¹ï¼š documentå¯¹è±¡å¾ˆå¿«å°±å¯ä»¥è®¿é—®ï¼Œè€Œä¸”å¯ä»¥åœ¨é¡µé¢ç”Ÿå‘½å‘¨æœŸçš„ä»»ä½•æ—¶ç‚¹ä¸Šä¸ºå®ƒæ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆæ— éœ€ç­‰å¾…DOMContentLoadedæˆ–loadäº‹ä»¶ï¼‰ã€‚ åœ¨é¡µé¢ä¸­è®¾ç½®äº‹ä»¶å¤„ç†ç¨‹åºæ‰€éœ€çš„æ—¶é—´æ›´å°‘ã€‚åªæ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ‰€éœ€çš„DOMå¼•ç”¨æ›´å°‘ï¼Œæ‰€èŠ±æ—¶é—´æ›´å°‘ã€‚ æ•´ä¸ªé¡µé¢å ç”¨çš„å†…å­˜ç©ºé—´æ›´å°‘ï¼Œèƒ½å¤Ÿæå‡æ•´ä½“æ€§èƒ½ã€‚ ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºæ¯å½“å°†äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡å®šç»™å…ƒç´ æ—¶ï¼Œè¿è¡Œä¸­çš„æµè§ˆå™¨ä»£ç ä¸Žæ”¯æŒé¡µé¢äº¤äº’çš„Javascriptä»£ç ä¹‹é—´å°±ä¼šå»ºç«‹ä¸€ä¸ªè¿žæŽ¥ã€‚è¿žæŽ¥è¶Šå¤šï¼Œé¡µé¢æ‰§è¡Œèµ·æ¥å°±æ…¢ã€‚æ‰€ä»¥ï¼Œéœ€è¦å°†é‚£äº›è¿‡æ—¶ä¸ç”¨çš„â€œç©ºäº‹ä»¶å¤„ç†ç¨‹åºâ€ç§»é™¤ã€‚ å½“ä»Žæ–‡æ¡£ä¸­ç§»é™¤å¸¦æœ‰äº‹ä»¶å¤„ç†ç¨‹åºçš„å…ƒç´ æ—¶ï¼ŒåŽŸæ¥æ·»åŠ åˆ°å…ƒç´ ä¸­çš„äº‹ä»¶å¤„ç†ç¨‹åºæžæœ‰å¯èƒ½æ— æ³•è¢«å½“ä½œåžƒåœ¾å›žæ”¶ã€‚æ‰€ä»¥æœ€å¥½æ‰‹å·¥ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºï¼Œeg : btn.onclick = null; å¯¼è‡´â€œç©ºäº‹ä»¶å¤„ç†ç¨‹åºâ€çš„å¦å¤–ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯å¸è½½é¡µé¢çš„æ—¶å€™ã€‚å¦‚æžœåœ¨é¡µé¢è¢«å¸è½½ä¹‹å‰æ²¡æœ‰æ¸…ç†å¹²å‡€äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé‚£å®ƒä»¬ä¼šæ»žç•™åœ¨å†…å­˜ä¸­ã€‚æ‰€ä»¥ï¼Œæœ€å¥½çš„åšæ³•æ˜¯åœ¨é¡µé¢å¸è½½ä¹‹å‰ï¼Œå…ˆé€šè¿‡onunloadäº‹ä»¶å¤„ç†ç¨‹åºç§»é™¤æ‰€æœ‰çš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚ æ¨¡æ‹Ÿäº‹ä»¶DOMä¸­çš„äº‹ä»¶æ¨¡æ‹Ÿé€šè¿‡document.createEvent()æ–¹æ³•åˆ›å»ºeventå¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¡¨ç¤ºè¦åˆ›å»ºçš„äº‹ä»¶ç±»åž‹çš„å­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²å¦‚ä¸‹ï¼šUIEvents ï¼šä¸€èˆ¬åŒ–çš„UIäº‹ä»¶ã€‚MouseEvents : ä¸€èˆ¬åŒ–çš„é¼ æ ‡äº‹ä»¶ã€‚MutationEvents : ä¸€èˆ¬åŒ–çš„DOMå˜åŠ¨äº‹ä»¶ã€‚HTMLEvents : ä¸€èˆ¬åŒ–çš„HTMLäº‹ä»¶ã€‚ æ¨¡æ‹Ÿäº‹ä»¶çš„è§¦å‘éœ€è¦ä½¿ç”¨dispatchEvent()æ–¹æ³•ï¼Œæ‰€æœ‰æ”¯æŒäº‹ä»¶çš„DOMèŠ‚ç‚¹éƒ½æ”¯æŒè¿™ä¸ªæ–¹æ³•ã€‚ 1.æ¨¡æ‹Ÿé¼ æ ‡äº‹ä»¶ï¼ˆMouseEventï¼‰1234567var btn = document.getElementById("myBtn");//åˆ›å»ºäº‹ä»¶å¯¹è±¡var event = document.createEvent("MouseEvent");//åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡event.initMouseEvent("click",true,true,document.defaultView,0,0,0,0,0,false,false,false,false,0,null);//è§¦å‘äº‹ä»¶btn.dispatchEvent(event); 2.æ¨¡æ‹Ÿé”®ç›˜äº‹ä»¶ï¼ˆkeyboardEventï¼‰123456789var textbox = document.getElementById("myTextbox"), event;//ä»¥DOM3çº§æ–¹å¼åˆ›å»ºäº‹ä»¶å¯¹è±¡if(document.implementation.hasFeature("KeyboardEvents","3.0"))&#123; event = document.createEvent("KeyboardEvent"); //æ¨¡æ‹ŸæŒ‰ä¸‹Shifté”®åˆåŒæ—¶æŒ‰ä¸‹Aé”® event.initKeyboardEvent("keydown",true,true,document.defaultView,"a",0,"Shift",0); &#125;textbox.dispatchEvent(event); IEä¸­çš„äº‹ä»¶æ¨¡æ‹Ÿé€šè¿‡document.createEventObject()åœ¨IEä¸­åˆ›å»ºeventå¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•ä¸æŽ¥å—å‚æ•°ï¼Œè¿”å›žé€šç”¨çš„eventå¯¹è±¡ã€‚ç„¶åŽï¼Œä½ å¿…é¡»æ‰‹å·¥ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œæœ€åŽåœ¨ç›®æ ‡ä¸Šè°ƒç”¨fireEvent()æ–¹æ³•ã€‚fireEvent()æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šäº‹ä»¶å¤„ç†ç¨‹åºåç§°å’Œeventå¯¹è±¡ã€‚12345678910var btn = document.getElementById("myBtn");//åˆ›å»ºäº‹ä»¶å¯¹è±¡var event = document.createEventObject();//åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡event.screenX=100;event.screenY=0;//...çœç•¥å…¶ä»–å±žæ€§çš„åˆå§‹åŒ–//è§¦å‘äº‹ä»¶btn.fireEvent("onclick",event); è¡¨å•è„šæœ¬è¡¨å•çš„åŸºç¡€çŸ¥è¯†åœ¨Javascriptä¸­ï¼Œè¡¨å•å¯¹åº”çš„æ˜¯HTMLFormElementç±»åž‹ï¼Œç»§æ‰¿äºŽHTMLElementã€‚æœ‰å¦‚ä¸‹å±žæ€§å’Œæ–¹æ³•ï¼šacceptCharsetï¼šæœåŠ¡å™¨èƒ½å¤Ÿå¤„ç†çš„å­—ç¬¦é›†ï¼›actionï¼šæŽ¥å—è¯·æ±‚çš„URLï¼›elementsï¼šè¡¨å•ä¸­æ‰€æœ‰æŽ§ä»¶çš„é›†åˆï¼›enctypeï¼šè¯·æ±‚çš„ç¼–ç ç±»åž‹ï¼›lengthï¼šè¡¨å•ä¸­æŽ§ä»¶çš„æ•°é‡ï¼›methodï¼šè¦å‘é€çš„HTTPè¯·æ±‚ç±»åž‹ï¼›nameï¼šè¡¨å•çš„åç§°ï¼›reset()ï¼šå°†æ‰€æœ‰è¡¨å•åŸŸé‡ç½®ä¸ºé»˜è®¤å€¼ï¼›submit()ï¼šæäº¤è¡¨å•ï¼›targetï¼šç”¨äºŽå‘é€è¯·æ±‚å’ŒæŽ¥æ”¶å“åº”çš„çª—å£åç§°ã€‚ å–å¾—è¡¨å•ä¸»è¦æ˜¯é€šè¿‡ä¸ºå…¶æ·»åŠ idç‰¹æ€§ï¼Œç„¶åŽä½¿ç”¨document.getElementById()æ–¹æ³•å–å¾—ï¼›æ­¤å¤–è¿˜å¯ä»¥é€šè¿‡document.formså¯ä»¥å–å¾—é¡µé¢ä¸­æ‰€æœ‰çš„è¡¨å•ã€‚12var firstForm = document.forms[0]; //é€šè¿‡æ•°å€¼ç´¢å¼•èŽ·å–var myForm = document.forms["myForm"]; //é€šè¿‡nameå€¼èŽ·å– æäº¤è¡¨å•ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®æˆ–å›¾åƒæŒ‰é’®æ—¶ï¼Œå°±ä¼šæäº¤è¡¨å•ã€‚å›¾åƒæŒ‰é’®ï¼š1&lt;input type = "image" src = "img.gif"/&gt; æµè§ˆå™¨ä¼šåœ¨å°†è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ä¹‹å‰è§¦å‘submitäº‹ä»¶ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰æœºä¼šéªŒè¯è¡¨å•æ•°æ®ï¼Œå¹¶æ®ä»¥å†³å®šæ˜¯å¦å…è®¸è¡¨å•æäº¤ã€‚é˜»æ­¢è¿™ä¸ªäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºå°±å¯ä»¥å–æ¶ˆè¡¨å•é‚£æäº¤ã€‚1234567891011121314var form = document.getElementById("myForm");EventUtil.addHandler(form,"submit",function(event)&#123; event = EventUtil.getEvent(event); EventUtil.preventDefault(event);&#125;);åœ¨Javascriptä¸­ï¼Œä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨submit()æ–¹æ³•æäº¤è¡¨å•ã€‚eg:var form = document.getElementById("myForm");form.submit();// é‡ç½®è¡¨å•form.reset(); è¡¨å•å­—æ®µ123var form = document.getElementById("myForm");var field1 = form.elements[0];var field2 = form.elements["textbox2"]; å¦‚æžœæœ‰å¤šä¸ªè¡¨å•æŽ§ä»¶éƒ½åœ¨ä½¿ç”¨ä¸€ä¸ªname(å¦‚å•é€‰æŒ‰é’®)ï¼Œnameå°±ä¼šè¿”å›žä»¥è¯¥nameå‘½åçš„ä¸€ä¸ªNodeListã€‚ å…±æœ‰çš„è¡¨å•å­—æ®µå±žæ€§disabledï¼Œformï¼Œnameï¼Œreadonlyï¼ŒtabIndexï¼Œtypeï¼Œvalueã€‚ ä¸ºé˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»è¡¨å•çš„æäº¤æŒ‰é’®ï¼Œéœ€è¦åœ¨ç¬¬ä¸€æ¬¡å•å‡»åŽå°±ç¦ç”¨æäº¤æŒ‰é’®ã€‚1234567EventUtil.addHandler(form, "submit", function(event) &#123; event = EventUtil.getEvent(event); var target = EventUtil.getTarget(event); var btn = target.elements["submit-btn"]; btn.disabled = true;&#125;); å…±æœ‰çš„è¡¨å•å­—æ®µæ–¹æ³•focus()å’Œblur()ã€‚åœ¨HTML5ä¸­ï¼Œä¸ºè¡¨å•å­—æ®µæ–°å¢žäº†ä¸€ä¸ªautofocuså±žæ€§ï¼Œåœ¨æ”¯æŒè¿™ä¸ªå±žæ€§çš„æµè§ˆå™¨ä¸­ï¼Œåªè¦è®¾ç½®äº†ï¼Œä¸ç”¨Javascriptå°±èƒ½è‡ªåŠ¨æŠŠç„¦ç‚¹ç§»åŠ¨åˆ°ç›¸åº”å­—æ®µã€‚1&lt;input type="text" autofocus /&gt; å…±æœ‰çš„è¡¨å•å­—æ®µäº‹ä»¶blurã€changeã€focusã€‚1234567891011var textbox = document.forms[0].elements[0];EventUtil.addHandler(textbox,"change",function(event)&#123; event = EventUtil.getEvent(event); var target = EventUtil.getTarget(event); if(/[^\d]/.test(target.value))&#123; target.style.backgroundColor = "red"; &#125;else&#123; target.style.backgroundColor = ""; &#125;&#125;); æ–‡æœ¬æ¡†è„šæœ¬&lt;input&gt;å’Œ&lt;textarea&gt;è¦å®žçŽ°æ–‡æœ¬æ¡†ï¼Œå¿…é¡»å°†&lt;input&gt;å…ƒç´ çš„typeç‰¹æ€§è®¾ç½®ä¸ºâ€textâ€ã€‚è€Œé€šè¿‡è®¾ç½®sizeç‰¹æ€§ï¼Œå¯ä»¥æŒ‡å®šæ–‡æœ¬æ¡†ä¸­èƒ½å¤Ÿæ˜¾ç¤ºçš„å­—ç¬¦æ•°ã€‚è€Œmaxlengthç‰¹æ€§åˆ™ç”¨äºŽæŒ‡å®šæ–‡æœ¬æ¡†å¯ä»¥æŽ¥å—çš„æœ€å¤§å­—ç¬¦æ•°ã€‚ &lt;textarea&gt;åˆ™å§‹ç»ˆä¼šå‘ˆçŽ°ä¸€ä¸ªå¤šè¡Œæ–‡æœ¬æ¡†ã€‚é€šè¿‡ä½¿ç”¨rowsï¼ˆè¡Œï¼‰å’Œcolsï¼ˆåˆ—ï¼‰ç‰¹æ€§æ¥æŒ‡å®šæ–‡æœ¬æ¡†å¤§å° é€‰æ‹©æ–‡æœ¬ä¸Šè¿°ä¸¤ç§æ–‡æœ¬æ¡†éƒ½æ”¯æŒselect()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨äºŽé€‰æ‹©æ–‡æœ¬æ¡†ä¸­çš„æ‰€æœ‰æ–‡æœ¬ï¼Œè¯¥æ–¹æ³•ä¸æŽ¥å—å‚æ•°ã€‚1.é€‰æ‹©ï¼ˆselectï¼‰äº‹ä»¶åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­ï¼Œåªæœ‰ç”¨æˆ·é€‰æ‹©äº†æ–‡æœ¬ï¼ˆè€Œä¸”é‡Šæ”¾é¼ æ ‡ï¼‰ï¼Œæ‰ä¼šè§¦å‘selectäº‹ä»¶ã€‚è€Œåœ¨IE8åŠæ›´æ—©ç‰ˆæœ¬ä¸­ï¼Œåªè¦ç”¨æˆ·é€‰æ‹©äº†ä¸€ä¸ªå­—æ¯ï¼ˆä¸å¿…é‡Šæ”¾é¼ æ ‡ï¼‰ï¼Œå°±ä¼šè§¦å‘selectäº‹ä»¶ã€‚2.å–å¾—é€‰æ‹©çš„æ–‡æœ¬åœ¨HTML5ä¸­ï¼Œæ·»åŠ äº†ä¸¤ä¸ªå±žæ€§ï¼šselectionStartå’ŒselectionEndã€‚è¿™ä¸¤ä¸ªå±žæ€§ä¸­ä¿å­˜çš„æ˜¯åŸºäºŽ0çš„æ•°å€¼ï¼Œè¡¨ç¤ºæ‰€é€‰æ‹©çš„æ–‡æœ¬çš„èŒƒå›´ã€‚å› æ­¤ï¼Œè¦å–å¾—ç”¨æˆ·åœ¨æ–‡æœ¬æ¡†ä¸­é€‰æ‹©çš„æ–‡æœ¬ï¼Œå¯ä»¥å¦‚ä¸‹ç¼–ç ï¼š123function getSelectedText(textbox)&#123; return textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);&#125; è€ŒIE8åŠå…¶æ›´æ—©ç‰ˆæœ¬è¦å®žçŽ°å–å¾—ç”¨æˆ·é€‰æ‹©çš„æ–‡æœ¬ï¼Œéœ€è¦é€šè¿‡document.selectionå¯¹è±¡ï¼Œå…¶ä¸­ä¿å­˜ç€ç”¨æˆ·åœ¨æ•´ä¸ªæ–‡æ¡£èŒƒå›´å†…é€‰æ‹©çš„æ–‡æœ¬ä¿¡æ¯ã€‚12345678//å…¼å®¹å„æµè§ˆå™¨function getSelectedText(textbox)&#123; if(typeof textbox.selectionStart == "number")&#123; return textbox.value.substring(textbox.selectionStart,textbox.selectionEnd); &#125;else if(document.selection)&#123; return document.selection.createRange().text; &#125;&#125; 3.å–å¾—éƒ¨åˆ†æ–‡æœ¬setSelectionRange()æ–¹æ³•ï¼Œæ‰€æœ‰æ–‡æœ¬æ¡†éƒ½æ”¯æŒï¼Œè¯¥æ–¹æ³•æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦é€‰æ‹©çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•å’Œè¦é€‰æ‹©çš„æœ€åŽä¸€ä¸ªå­—ç¬¦ä¹‹åŽçš„å­—ç¬¦çš„ç´¢å¼•ã€‚12345textbox.value="Hello World!";//é€‰æ‹©æ‰€æœ‰æ–‡æœ¬textbox.setSelectionRange(0,textbox.value.length); //"Hello World!"//é€‰æ‹©å‰ä¸‰ä¸ªå­—ç¬¦textbox.setSelectionRange(0,3); //"Hel" è¦çœ‹åˆ°é€‰æ‹©çš„æ–‡æœ¬ï¼Œå¿…é¡»åœ¨è°ƒç”¨setSelectionRange()ä¹‹å‰æˆ–ä¹‹åŽç«‹å³å°†ç„¦ç‚¹è®¾ç½®åˆ°æ–‡æœ¬æ¡†ã€‚IE9ã€FireFoxã€Safariã€Chromeå’ŒOperaæ”¯æŒè¿™ç§æ–¹æ¡ˆã€‚è€ŒIE8åŠå…¶æ›´æ—©ç‰ˆæœ¬æ”¯æŒä½¿ç”¨èŒƒå›´é€‰æ‹©éƒ¨åˆ†æ–‡æœ¬ã€‚1234567891011121314//å…¼å®¹å„æµè§ˆå™¨ç‰ˆfunction selectText(textbox,startIndex,stopIndex)&#123; if(textbox.setSelectionRange)&#123; textbox.setSelectionRange(startIndex,stopIndex); &#125;else if(text.createTextRange)&#123; var range = textbox.createTextRange(); range.collapse(true); //å°†èŒƒå›´æŠ˜å åˆ°æ–‡æœ¬æ¡†çš„å¼€å§‹ä½ç½® range.moveStart("character",startIndex); range.moveEnd("character",stopIndex-startIndex); range.select(); &#125; textbox.focus(); //è®¾ç½®æ–‡æœ¬æ¡†ç„¦ç‚¹ï¼Œä»¥ä¾¿ç”¨æˆ·çœ‹åˆ°æ–‡æœ¬æ¡†ä¸­é€‰æ‹©çš„æ–‡æœ¬&#125;selectText(textbox,0,textbox.value.length); è¿‡æ»¤è¾“å…¥1.å±è”½å­—ç¬¦æ£€æµ‹keypressäº‹ä»¶å¯¹åº”çš„å­—ç¬¦ç¼–ç ï¼Œç„¶åŽå†å†³å®šå¦‚ä½•å“åº”ã€‚EventUtil.addHandler(textbox, â€œkeypressâ€, function(event){ event = EventUtil.getEvent(event); var target = EventUtil.getTarget(event); var charCode = EventUtil.getCharCode(event); //å±è”½éžæ•°å€¼ï¼Œå¹¶é¿å…å±è”½ä¸€äº›å¸¸ç”¨å’Œå¿…è¦çš„é”®,ï¼Œå¦‚å‘ä¸Šé”®ã€å‘ä¸‹é”®ã€ctrl+Cç­‰ if(!/\d/.test(String.fromCharCode(charCode))&amp;&amp;charCode&gt;9&amp;&amp;!event.ctrlKey){ EventUtil.preventDefault(event); }}); 2.æ“ä½œå‰ªè´´æ¿å…­ä¸ªå‰ªè´´æ¿äº‹ä»¶ï¼šbeforecopyï¼šåœ¨å‘ç”Ÿå¤åˆ¶æ“ä½œå‰è§¦å‘ã€‚copyï¼šåœ¨å‘ç”Ÿå¤åˆ¶æ“ä½œæ—¶è§¦å‘ã€‚beforecutï¼šåœ¨å‘ç”Ÿå‰ªåˆ‡æ“ä½œå‰è§¦å‘ã€‚cutï¼šåœ¨å‘ç”Ÿå‰ªåˆ‡æ“ä½œæ—¶è§¦å‘ã€‚beforepasteï¼šåœ¨å‘ç”Ÿç²˜è´´æ“ä½œå‰è§¦å‘ã€‚pasteï¼šåœ¨å‘ç”Ÿç²˜è´´æ“ä½œæ—¶è§¦å‘ã€‚ è¦è®¿é—®å‰ªåˆ‡æ¿ä¸­çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨clipboardDataå¯¹è±¡ï¼šåœ¨IEä¸­ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯windowå¯¹è±¡çš„å±žæ€§ï¼›è€Œåœ¨å…¶ä»–ä¸»æµæµè§ˆå™¨ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ç›¸åº”çš„eventå¯¹è±¡çš„å±žæ€§ã€‚clipboardDataå¯¹è±¡æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼šgetData()ã€setData()å’ŒclearData()ã€‚è¿™ä¸‰ä¸ªæ–¹æ³•çš„æŽ¥å—å‚æ•°åœ¨IEå’Œå…¶ä»–ä¸»æµæµè§ˆå™¨ä¸­æœ‰æ‰€åŒºåˆ«ã€‚1234567891011121314var EventUtil=&#123; //çœç•¥çš„ä»£ç  getClipboardText: function(event)&#123; var clipboardData = (event.clipboardData || window.clipboardData); return clipboardData.getData("text"); &#125; , setClipboardText: function(event,value)&#123; if(event.clipboardData)&#123; return event.clipboardData.setData("text/plain",value); &#125;else if(window.clipboardData)&#123; return window.clipboardData.setData("text",value); &#125; &#125;&#125;; åœ¨éœ€è¦ç¡®ä¿ç²˜è´´åˆ°æ–‡æœ¬æ¡†ä¸­çš„æ–‡æœ¬åŒ…å«æŸäº›å­—ç¬¦ï¼Œæˆ–è€…ç¬¦åˆæŸç§æ ¼å¼è¦æ±‚æ—¶ï¼Œèƒ½å¤Ÿè®¿é—®å‰ªè´´æ¿æ˜¯éžå¸¸æœ‰ç”¨çš„ã€‚1234567EventUtil.addHandler(textbox, "paste", function(event)&#123; event = EventUtil.getEvent(event); var text = EventUtil.getClipboardText(event); if(!/^\d*$/.test(text))&#123; EventUtil.preventDefault(event); &#125;&#125;); è‡ªåŠ¨åˆ‡æ¢ç„¦ç‚¹ä¸ºå¢žå¼ºè¡¨å•å­—æ®µçš„æ˜“ç”¨æ€§ï¼Œé€šå¸¸åœ¨ç”¨æˆ·å¡«å†™å®Œå½“å‰å­—æ®µæ—¶ï¼Œè‡ªåŠ¨å°†ç„¦ç‚¹åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå­—æ®µã€‚123&lt;input type="text" name="tel1" id="txtTel1" maxlength="3"&gt;&lt;input type="text" name="tel2" id="txtTel2" maxlength="3"&gt;&lt;input type="text" name="tel3" id="txtTel3" maxlength="4"&gt; å½“ç”¨æˆ·åœ¨å‰ä¸€ä¸ªæ–‡æœ¬æ¡†ä¸­è¾“å…¥çš„å­—ç¬¦è¾¾åˆ°æœ€å¤§æ•°é‡åŽï¼Œè‡ªåŠ¨å°†ç„¦ç‚¹åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–‡æœ¬æ¡†ã€‚12345678910111213141516171819202122232425(function()&#123; function tabForward(event)&#123; evnet = EventUtil.getEvent(event); var target = EventUtil.getTarget(event); if (target.value.length == target.maxlength)&#123; var form = target.form; for (var i = 0,len = form.elements.length;i&lt;len; i++) &#123; if(form.elements[i] == target)&#123; if(form.elements[i+1])&#123; form.elements[i+1].focus(); &#125; return; &#125; &#125; &#125; &#125; var textbox1 = document.getElementById("txtTel1"); var textbox2 = document.getElementById("txtTel2"); var textbox3 = document.getElementById("txtTel3"); EventUtil.addHandler(textbox1,"kepup",tabForward); EventUtil.addHandler(textbox2,"kepup",tabForward); EventUtil.addHandler(textbox3,"kepup",tabForward);&#125;)(); HTML5çº¦æŸéªŒè¯APIå½“ç”¨æˆ·ç¦ç”¨javascriptæˆ–æµè§ˆå™¨ä¸æ”¯æŒæ—¶ï¼Œä½¿ç”¨HTML5æä¾›çš„ä¸€äº›åŠŸèƒ½ï¼Œä»èƒ½å¤Ÿå®žçŽ°åŸºæœ¬çš„éªŒè¯ã€‚1.å¿…å¡«å­—æ®µrequiredå±žæ€§1&lt;input type="text" required&gt; 2.å…¶ä»–è¾“å…¥ç±»åž‹HTML5ä¸º&lt;input&gt;å…ƒç´ çš„typeå±žæ€§åˆå¢žåŠ äº†å‡ ä¸ªå€¼:emailå’Œurlç­‰ã€‚12&lt;input type="email" name="email"&gt;&lt;input type="url" name="homepage"&gt; 3.æ•°å€¼èŒƒå›´é™¤äº†â€emailâ€å’Œâ€œurlâ€ï¼ŒHTML5è¿˜å®šä¹‰äº†å¦å¤–å‡ ä¸ªè¾“å…¥å…ƒç´ ï¼šâ€numberâ€ã€â€rangeâ€ã€â€datetimeâ€ã€â€datetime-localâ€ã€â€dateâ€ã€â€monthâ€ã€â€weekâ€ä»¥åŠâ€timeâ€.å¯¹è¿™äº›æ•°å€¼ç±»åž‹çš„è¾“å…¥å…ƒç´ ï¼Œå¯ä»¥æŒ‡å®šminå±žæ€§ã€maxå±žæ€§å’Œstepå±žæ€§ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šstepUp()å’ŒstepDown(),éƒ½å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼šè¦åœ¨å½“å‰å€¼åŸºç¡€ä¸ŠåŠ ä¸Šå‡åŽ»çš„æ•°å€¼ã€‚ï¼ˆé»˜è®¤æ˜¯åŠ æˆ–å‡1ï¼‰è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½è¿˜æ²¡å¾—åˆ°ä»»ä½•æµè§ˆå™¨çš„æ”¯æŒã€‚ 4.è¾“å…¥æ¨¡å¼HTML5ä¸ºæ–‡æœ¬å­—æ®µæ–°å¢žäº†patternå±žæ€§ï¼Œè¿™ä¸ªå±žæ€§çš„å€¼æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºŽåŒ¹é…æ–‡æœ¬æ¡†ä¸­çš„å€¼ã€‚åªå…è®¸è¾“å…¥æ•°å€¼ï¼š1&lt;input type ="text" pattern="\d+" name="count"&gt; æ³¨æ„ï¼Œæ¨¡å¼çš„å¼€å¤´å’Œç»“å°¾ä¸ç”¨åŠ ^å’Œ$ç¬¦å·ã€‚è¿™ä¸¤ä¸ªç¬¦å·è¡¨ç¤ºè¾“å…¥çš„å€¼å¿…é¡»ä»Žå¤´åˆ°å°¾éƒ½ä¸Žæ¨¡å¼åŒ¹é…ã€‚ 5.æ£€æµ‹æœ‰æ•ˆæ€§ä½¿ç”¨checkValidity()æ–¹æ³•å¯ä»¥æ£€æµ‹è¡¨å•ä¸­çš„æŸä¸ªå­—æ®µæ˜¯å¦æœ‰æ•ˆã€‚å¦‚æžœå­—æ®µæœ‰æ•ˆï¼Œè¿”å›žtrue,å¦åˆ™è¿”å›žfalseã€‚å­—æ®µçš„å€¼æ˜¯å¦æœ‰æ•ˆçš„åˆ¤æ–­ä¾æ®æ˜¯æ ¹æ®å‰é¢ä»‹ç»çš„å„ç§çº¦æŸï¼Œå¦‚å¿…å¡«å­—æ®µå¦‚æžœæ²¡æœ‰å€¼å°±æ˜¯æ— æ•ˆï¼Œè€Œå­—æ®µä¸­çš„å€¼ä¸Žpatternå±žæ€§ä¸åŒ¹é…ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚12345if(document.forms[0].elements[0].checkValidity())&#123;//å­—æ®µæœ‰æ•ˆ&#125;else&#123;//å­—æ®µæ— æ•ˆ&#125; validityå±žæ€§ä¼šå‘ŠçŸ¥ä»€ä¹ˆå­—æ®µæœ‰æ•ˆæˆ–æ— æ•ˆã€‚è¿™ä¸ªå¯¹è±¡æœ‰ä¸€ç³»åˆ—å±žæ€§ï¼Œæ¯ä¸ªå±žæ€§è¿”å›žå¸ƒå°”å€¼ã€‚customErrorã€patternMismatchã€rangeOverflowã€rangeUnderflowã€stepMismatchã€tooLongã€typeMismatchã€validã€valueMissingã€‚ 6.ç¦ç”¨éªŒè¯é€šè¿‡è®¾ç½®novalidateå±žæ€§ï¼Œå¯ä»¥å‘Šè¯‰è¡¨å•ä¸è¿›è¡ŒéªŒè¯ã€‚ é€‰æ‹©æ¡†è„šæœ¬é€‰æ‹©æ¡†æ˜¯é€šè¿‡&lt;select&gt;å’Œ&lt;option&gt;å…ƒç´ åˆ›å»ºçš„ã€‚æœ‰å¦‚ä¸‹çš„å±žæ€§å’Œæ–¹æ³•ï¼šadd(newOption,relOption)ï¼šå‘æŽ§ä»¶ä¸­æ’å…¥æ–°&lt;option&gt;å…ƒç´ ï¼Œå…¶ä½ç½®åœ¨ç›¸å…³é¡¹ï¼ˆrelOptionï¼‰ä¹‹å‰ã€‚multipleï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å¤šé€‰ã€‚optionsï¼šæŽ§ä»¶ä¸­æ‰€æœ‰&lt;option&gt;å…ƒç´ çš„HTMLCollectionã€‚remove(index)ï¼šç§»é™¤ç»™å®šä½ç½®çš„é€‰é¡¹ã€‚selectIndexï¼šåŸºäºŽ0çš„é€‰ä¸­é¡¹çš„ç´¢å¼•ï¼Œå¦‚æžœæ²¡æœ‰é€‰ä¸­é¡¹ï¼Œåˆ™å€¼ä¸º-1ï¼› å¯¹äºŽæ”¯æŒå¤šé€‰çš„æŽ§ä»¶ï¼Œåªä¿å­˜é€‰ä¸­é¡¹ä¸­ç¬¬ä¸€é¡¹çš„ç´¢å¼•ã€‚sizeï¼šé€‰æ‹©æ¡†ä¸­å¯è§çš„è¡Œæ•°ã€‚ åœ¨DOMä¸­ï¼Œæ¯ä¸ª&lt;option&gt;å…ƒç´ éƒ½æœ‰ä¸€ä¸ªHTMLOptionElementå¯¹è±¡è¡¨ç¤ºï¼Œå¹¶æ‹¥æœ‰å¦‚ä¸‹çš„å±žæ€§ï¼šindexï¼šå½“å‰é€‰é¡¹åœ¨options é›†åˆä¸­çš„ç´¢å¼•ã€‚labelï¼šå½“å‰é€‰é¡¹çš„æ ‡ç­¾ï¼›selectedï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰é€‰é¡¹æ˜¯å¦è¢«é€‰ä¸­ã€‚å°†è¿™ä¸ªå±žæ€§è®¾ç½®ä¸ºtrueå¯ä»¥é€‰ä¸­å½“å‰é€‰é¡¹ã€‚textï¼šé€‰é¡¹çš„æ–‡æœ¬ï¼›valueï¼šé€‰é¡¹çš„å€¼ã€‚ é€‰æ‹©é€‰é¡¹å¯¹äºŽå•é€‰çš„é€‰æ‹©æ¡†ï¼Œè®¿é—®é€‰ä¸­é¡¹çš„æœ€ç®€å•æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨é€‰æ‹©æ¡†çš„selectedIndex å±žæ€§ã€‚1var selectedOption = selectbox.options[selectbox.selectedIndex]; å¦ä¸€ç§é€‰æ‹©é€‰é¡¹çš„æ–¹å¼ï¼Œå°±æ˜¯å–å¾—å¯¹æŸä¸€é¡¹çš„å¼•ç”¨ï¼Œç„¶åŽå°†å…¶å±žæ€§è®¾ç½®ä¸ºtrueã€‚1selectbox.options[0].selected=true; selectedå±žæ€§çš„ä½œç”¨ä¸»è¦æ˜¯ç¡®å®šç”¨æˆ·é€‰æ‹©äº†é€‰æ‹©æ¡†ä¸­çš„å“ªä¸€é¡¹ã€‚ æ·»åŠ é€‰é¡¹æœ‰å¤šç§æ·»åŠ é€‰é¡¹çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š1234var newOption = document.createElement("option");newOption.appendChild(document.createTextNode("Option text"));newOption.setAttribute("value","Option value");selectbox.appendChild(newOption); ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨Optionæž„é€ å‡½æ•°æ¥åˆ›å»ºæ–°é€‰é¡¹ã€‚Optionæž„é€ å‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šæ–‡æœ¬ï¼ˆtextï¼‰å’Œå€¼ï¼ˆvalueï¼‰ã€‚12var newOption = new Option("Option text","Option value");selectbox.appendChild(newOption); ç¬¬ä¸‰ç§æ·»åŠ æ–°é€‰é¡¹çš„æ–¹å¼æ˜¯ä½¿ç”¨é€‰æ‹©æ¡†çš„add()æ–¹æ³•ã€‚è¯¥æ–¹æ³•æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦æ·»åŠ çš„æ–°é€‰é¡¹å’Œå°†ä½äºŽæ–°é€‰é¡¹ä¹‹åŽçš„é€‰é¡¹ã€‚123var newOption = new Option("Option text","Option value");//ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥undefinedï¼Œè¡¨ç¤ºå°†æ–°é€‰é¡¹æ’å…¥åˆ°åˆ—è¡¨æœ€åŽã€‚è¿™æ˜¯æœ€ä½³æ–¹æ¡ˆselectbox.add(newOption,undefined); è¦æƒ³å°†æ–°é€‰é¡¹æ’å…¥åˆ°å…¶ä»–ä½ç½®ï¼Œåº”è¯¥ä½¿ç”¨æ ‡å‡†çš„DOMæŠ€æœ¯å’ŒinsertBefore()æ–¹æ³•ã€‚ ç§»é™¤é€‰é¡¹ä½¿ç”¨DOMçš„removeChild()æ–¹æ³•æˆ–è€…ä½¿ç”¨é€‰æ‹©æ¡†çš„remove()æ–¹æ³•ï¼Œè¿˜æœ‰æœ€åŽä¸€ç§å°±æ˜¯å°†ç›¸åº”é€‰é¡¹è®¾ç½®ä¸ºnullã€‚123selectbox.removeChild(seclectbox.options[0]); //ç§»é™¤ç¬¬ä¸€ä¸ªé€‰é¡¹selectbox.remove(0); //ä¼ å…¥è¦ç§»é™¤é€‰é¡¹çš„ç´¢å¼•selectbox.options[0]=null; ç§»åŠ¨å’Œé‡æŽ’é€‰é¡¹ä½¿ç”¨DOMæŠ€æœ¯èƒ½å¤Ÿå¾ˆç®€å•çš„å®žçŽ°ç§»åŠ¨å’Œé‡æŽ’é€‰é¡¹ã€‚12345678//ç§»åŠ¨é€‰é¡¹ï¼Œå®ŒæˆåŽä¼šé‡ç½®æ¯ä¸€ä¸ªé€‰é¡¹çš„indexå±žæ€§var selectbox1 = document.getElementById("selLocations1");var selectbox2 = document.getElementById("selLocations2");selectbox2.appendChid(selectbox1.options[0]);//é‡æŽ’é€‰é¡¹var optionToMove = selectbox.options[1];selectbox.insertBefore(optionToMove,selectbox.options[optionToMove.index-1]); è¡¨å•åºåˆ—åŒ–æµè§ˆå™¨å°†æ•°æ®å‘é€ç»™æœåŠ¡å™¨çš„è¿‡ç¨‹ï¼šå¯¹è¡¨å•å­—æ®µçš„åç§°å’Œå€¼è¿›è¡ŒURLç¼–ç ï¼Œä½¿ç”¨å’Œå·ï¼ˆ&amp;ï¼‰åˆ†éš”ï¼›ä¸å‘é€ç¦ç”¨çš„è¡¨å•å­—æ®µï¼›åªå‘é€å‹¾é€‰çš„å¤é€‰æ¡†å’Œå•é€‰æŒ‰é’®ï¼›ä¸å‘é€typeä¸ºâ€œresetâ€å’Œâ€œbuttonâ€çš„æŒ‰é’®ï¼›å¤šé€‰é€‰æ‹©æ¡†ä¸­çš„æ¯ä¸ªé€‰ä¸­çš„å€¼å•ç‹¬ä¸€ä¸ªæ¡ç›®ï¼›åœ¨å•å‡»æäº¤æŒ‰é’®æäº¤è¡¨å•çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šå‘é€æäº¤æŒ‰é’®ï¼›å¦åˆ™ä¸å‘é€æäº¤æŒ‰é’®ã€‚&lt;select&gt;å…ƒç´ çš„å€¼ï¼Œå°±æ˜¯é€‰ä¸­çš„&lt;option&gt;å…ƒç´ çš„valueç‰¹æ€§çš„å€¼ã€‚å¦‚æžœ&lt;option&gt;å…ƒç´ æ²¡æœ‰valueç‰¹æ€§ï¼Œåˆ™æ˜¯&lt;option&gt;å…ƒç´ çš„æ–‡æœ¬å€¼ã€‚ è¡¨å•åºåˆ—åŒ–çš„å®žçŽ°ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475function (form)&#123; var parts=[], field = null, i, len, j, optLen, option, optValue; for (i = 0,len = form.elements.length; i &lt; len; i++) &#123; field = form.elements[i]; switch(field.type)&#123; case "select-one": case "select-multiple": if (field.name.length) &#123; for (j = 0,optLen=field.options.length; j &lt; optLen; j++) &#123; option = field.options[j]; if (option.selected) &#123; optValue=""; if (option.hasAttribute) &#123; optValue = (option.hasAttribute("value") ? option.value : option.text); &#125;else&#123; //å…¼å®¹IE optValue = (option.attributes["value"].specified ? option.value : option.text); &#125; parts.push(encodeURIComponent(field.name)+ "=" + encodeURIComponent(field.value)); &#125; &#125; &#125; break; case undefined://å­—æ®µé›† case "file": case "submit": case "reset": case "button": break; case "radio": case "checkbox": if (!field.checked) &#123; break; &#125; default: //ä¸åŒ…å«æ²¡æœ‰åå­—çš„è¡¨å•å­—æ®µ if(field.name.length)&#123; parts.push(encodeURIComponent(field.name)+ "=" + encodeURIComponent(field.value)); &#125; &#125; &#125; return parts.join("&amp;"); &#125;## å¯Œæ–‡æœ¬ç¼–è¾‘å¯Œæ–‡æœ¬ç¼–è¾‘ï¼Œåˆç§°ä¸ºWYSIWYGï¼ˆWhat You See Is What You Get,æ‰€è§å³æ‰€å¾—ï¼‰ã€‚è¿™ä¸€æŠ€æœ¯çš„æœ¬è´¨ï¼Œå°±æ˜¯åœ¨é¡µé¢ä¸­åµŒå…¥ä¸€ä¸ªåŒ…å«ç©ºçš„HTMLé¡µé¢çš„iframeã€‚é€šè¿‡è®¾ç½®designModeå±žæ€§ï¼Œè¿™ä¸ªç©ºç™½çš„HTMLé¡µé¢å¯ä»¥è¢«ç¼–è¾‘ï¼Œè€Œç¼–è¾‘çš„å¯¹è±¡åˆ™æ˜¯è¯¥é¡µé¢&amp;lt;body&amp;gt;å…ƒç´ çš„HTMLä»£ç ã€‚designModeå±žæ€§æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼šâ€œoffâ€ï¼ˆé»˜è®¤å€¼ï¼‰å’Œâ€œonâ€ã€‚åœ¨è®¾ç½®ä¸ºâ€œonâ€æ—¶ï¼Œæ•´ä¸ªæ–‡æ¡£éƒ½ä¼šå˜å¾—å¯ä»¥ç¼–è¾‘ã€‚ä½¿ç”¨contenteditableå±žæ€§æŠŠcontenteditableå±žæ€§åº”ç”¨ç»™é¡µé¢ä¸­çš„ä»»ä½•å…ƒç´ ï¼Œç„¶åŽç”¨æˆ·ç«‹å³å°±å¯ä»¥ç¼–è¾‘è¯¥å…ƒç´ ã€‚contenteditable å±žæ€§æœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼ï¼šâ€œtrue"è¡¨ç¤ºæ‰“å¼€ï¼Œ"false"è¡¨ç¤ºå…³é—­ï¼Œ"inherit"è¡¨ç¤ºä»Žçˆ¶å…ƒç´ é‚£é‡Œç»§æ‰¿ã€‚**æ“ä½œå¯Œæ–‡æœ¬**ä¸Žå¯Œæ–‡æœ¬ç¼–è¾‘å™¨äº¤äº’çš„ä¸»è¦æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨document.execCommand()ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥å¯¹æ–‡æ¡£æ‰§è¡Œé¢„å®šä¹‰çš„å‘½ä»¤ï¼Œè€Œä¸”å¯ä»¥åº”ç”¨å¤§å¤šæ•°æ ¼å¼ã€‚è¯¥åˆšæ–¹æ³•ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼šè¦æ‰§è¡Œçš„å‘½ä»¤åç§°ã€è¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦åº”è¯¥ä¸ºå½“å‰å‘½ä»¤æä¾›ç”¨æˆ·ç•Œé¢çš„ä¸€ä¸ªå¸ƒå°”å€¼å’Œæ‰§è¡Œå‘½ä»¤å¿…é¡»ä¸€ä¸ªå€¼ï¼ˆå¦‚æžœä¸éœ€è¦åˆ™ä¼ é€’nullï¼‰ã€‚ä¸ºç¡®ä¿è·¨æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥å§‹ç»ˆè®¾ç½®ä¸ºfalseã€‚è°ƒç”¨execCommand()å¯ä»¥å®žçŽ°æµè§ˆå™¨èœå•çš„å¾ˆå¤šåŠŸèƒ½. å¦‚ä¿å­˜æ–‡ä»¶,æ‰“å¼€æ–°æ–‡ä»¶,æ’¤æ¶ˆã€é‡åšæ“ä½œâ€¦ç­‰ç­‰```js//å¤åˆ¶document.execCommand("copy",false,null);//å‰ªåˆ‡document.execCommand("cut",false,null);//ç²˜è´´document.execCommand("paste",false,null);//æ‰“å°document.execCommand("print",false,null); å¯Œæ–‡æœ¬é€‰åŒºåœ¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼Œä½¿ç”¨æ¡†æž¶çš„getSelection()æ–¹æ³•ï¼Œå¯ä»¥ç¡®å®šå®žé™…é€‰æ‹©çš„æ–‡æœ¬ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯windowå¯¹è±¡å’Œdocumentå¯¹è±¡çš„å±žæ€§ï¼Œè°ƒç”¨å®ƒä¼šè¿”å›žä¸€ä¸ªè¡¨ç¤ºå½“å‰é€‰æ‹©æ–‡æœ¬çš„Selectionå¯¹è±¡ã€‚æ¯ä¸ªSelectionå¯¹è±¡éƒ½æœ‰ä»¥ä¸‹å±žæ€§ï¼šanchorNodeï¼šé€‰åŒºèµ·ç‚¹æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚anchorOffsetï¼šåœ¨åˆ°è¾¾é€‰åŒºèµ·ç‚¹ä½ç½®ä¹‹å‰è·³è¿‡anchorNodeä¸­çš„å­—ç¬¦æ•°é‡ã€‚focusNodeï¼šé€‰åŒºç»ˆç‚¹æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚focusOffsetï¼šfocusNodeä¸­åŒ…å«åœ¨é€‰åŒºä¹‹å†…çš„å­—ç¬¦æ•°é‡ã€‚isCollapsedï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºé€‰åŒºçš„èµ·ç‚¹å’Œç»ˆç‚¹æ˜¯å¦é‡åˆã€‚rangeCountï¼šé€‰åŒºä¸­åŒ…å«çš„DOMèŒƒå›´çš„æ•°é‡ã€‚ä¸Šè¿°å±žæ€§å¹¶æ²¡æœ‰å¤šå°‘ç”¨å¤„ï¼Œä½†ä»¥ä¸‹çš„æ–¹æ³•æä¾›äº†æ›´å¤šçš„ä¿¡æ¯ï¼Œå¹¶æ”¯æŒå¯¹é€‰åŒºçš„æ“ä½œã€‚addRange(range)ï¼šå°†æŒ‡å®šçš„DOMèŒƒå›´æ·»åŠ åˆ°é€‰åŒºä¸­ã€‚collapse(nde,offset)ï¼šå°†é€‰åŒºæŠ˜å åˆ°æŒ‡å®šèŠ‚ç‚¹ä¸­çš„ç›¸åº”çš„æ–‡æœ¬åç§»ä½ç½®ã€‚collapseToEnd()ï¼šå°†é€‰åŒºæŠ˜å åˆ°ç»ˆç‚¹ä½ç½®ã€‚collapseToStart()ï¼šå°†é€‰åŒºæŠ˜å åˆ°èµ·ç‚¹ä½ç½®ã€‚containsNode(node)ï¼šç¡®å®šæŒ‡å®šçš„èŠ‚ç‚¹æ˜¯å¦åŒ…å«åœ¨é€‰åŒºä¸­ã€‚deleteFromDocument()ï¼šä»Žæ–‡æ¡£ä¸­åˆ é™¤é€‰åŒºä¸­çš„æ–‡æœ¬ï¼Œä¸Ždocumentã€‚execCommand(â€œdeleteâ€,false,null)å‘½ä»¤çš„ç»“æžœç›¸åŒã€‚extend(node,offset)ï¼šé€šè¿‡å°†focusNodeå’ŒfocusOffsetç§»åŠ¨åˆ°æŒ‡å®šçš„å€¼æ¥æ‰©å±•é€‰åŒºã€‚getRangeAt(index)ï¼šè¿”å›žç´¢å¼•å¯¹åº”é€‰åŒºä¸­çš„DOMèŒƒå›´ã€‚removeAllRanges()ï¼šä»Žé€‰åŒºä¸­ç§»é™¤æ‰€æœ‰DOMèŒƒå›´ã€‚å®žé™…ä¸Šï¼Œè¿™æ ·ä¼šç§»é™¤é€‰åŒºï¼Œå› ä¸ºé€‰åŒºä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ªèŒƒå›´ã€‚removeRange(range)ï¼šä»Žé€‰åŒºä¸­ç§»é™¤æŒ‡å®šçš„DOMèŒƒå›´ã€‚selectAllChildren(node)ï¼šæ¸…é™¤é€‰åŒºå¹¶é€‰æ‹©æŒ‡å®šèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚toString()ï¼šè¿”å›žé€‰åŒºæ‰€åŒ…å«çš„æ–‡æœ¬å†…å®¹ã€‚ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š123456789var selection =frames["richedit"].getSelection();//å–å¾—é€‰æ‹©çš„æ–‡æœ¬var selectedText = selection.toString();//å–å¾—ä»£è¡¨é€‰åŒºçš„èŒƒå›´var range = selection.getRangeAt(0);//çªå‡ºæ˜¾ç¤ºé€‰æ‹©çš„æ–‡æœ¬var span = frames["richedit"].document.createElement("span");span.style.backgroundColor = "yellow";range.surroundContents(span); è¡¨å•ä¸Žå¯Œæ–‡æœ¬å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯ä½¿ç”¨iframeè€Œéžè¡¨å•æŽ§ä»¶å®žçŽ°çš„ï¼Œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„HTMLä¸ä¼šè¢«è‡ªåŠ¨æäº¤åˆ°æœåŠ¡å™¨ï¼Œè€Œéœ€è¦æˆ‘ä»¬æ‰‹å·¥æ¥æå–å¹¶æäº¤HTMLã€‚123456EventUtil.addHandler(form,"submit",function(event)&#123; event = EventUtil.getEvent(event); var target=EventUtil.getTarget(event); target.elements["comments"].value = frames["richedit"].document.body.innerHTML;&#125;); é€šè¿‡æ–‡æ¡£ä¸»ä½“çš„innerHTMLå±žæ€§èŽ·å–äº†iframeä¸­çš„HTMLï¼Œç„¶åŽå°†å…¶æ’å…¥åˆ°äº†åä¸ºâ€commentsâ€çš„è¡¨å•å­—æ®µä¸­ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆå››ï¼‰]]></title>
    <url>%2F2017%2F05%2F14%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[DOMæ“ä½œæŠ€æœ¯1.åŠ¨æ€è„šæœ¬åˆ›å»ºåŠ¨æ€è„šæœ¬çš„æ–¹å¼ï¼šæ’å…¥å¤–éƒ¨æ–‡ä»¶å’Œç›´æŽ¥æ’å…¥javascriptä»£ç åœ¨ä¸€èˆ¬æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨DOMæ“ä½œç”Ÿæˆ&lt;script&gt;æ ‡ç­¾ä»¥åŠé€šè¿‡createTextNode()æ–¹æ³•åˆ›å»ºå…¶å­èŠ‚ç‚¹ï¼Œä½†IEä¸­ï¼Œå°†&lt;script&gt;è§†ä¸ºä¸€ä¸ªç‰¹æ®Šå…ƒç´ ï¼Œä¸å…è®¸DOMè®¿é—®å…¶å­èŠ‚ç‚¹ï¼Œä½†å¯ä»¥ä½¿ç”¨&lt;script&gt;æ ‡ç­¾çš„textå±žæ€§æ¥æŒ‡å®šjavascriptä»£ç ï¼š12345678910111213141516var script = document.createElement("script");script.type = "text/javascript";script.text = "function sayHi()&#123;alert('hi');&#125;";document.body.appendChild(script);//åŠ¨æ€æ·»åŠ è„šæœ¬çš„é€šç”¨å‡½æ•°function loadScriptString(code) &#123; var script = document.createElement("script"); script.type = "text/javascript"; try &#123; script.appendChild(document.createTextNode(code)); &#125;catch(ex) &#123; script.text =code; &#125; document.body.appendChild(script);&#125; 2.åŠ¨æ€æ ·å¼åˆ›å»ºåŠ¨æ€æ ·å¼çš„æ–¹å¼ï¼šé€šè¿‡&lt;link&gt;æ ‡ç­¾å¼•å…¥å¤–éƒ¨cssæ–‡ä»¶å’Œé€šè¿‡&lt;style&gt;æ ‡ç­¾æ¥åµŒå…¥CSSä»£ç åŠ¨æ€åˆ›å»º&lt;link&gt;æ ‡ç­¾æ—¶ï¼Œå¿…é¡»è¦æ³¨æ„çš„æ˜¯ï¼Œè¦å°†&lt;link&gt;æ ‡ç­¾æ·»åŠ åˆ°&lt;head&gt;ä¸­è€Œä¸æ˜¯&lt;body&gt;IEä¸­ï¼Œä¹Ÿå°†&lt;style&gt;è§†ä¸ºä¸€ä¸ªç‰¹æ®Šå…ƒç´ ï¼Œä¸å…è®¸DOMè®¿é—®å…¶å­èŠ‚ç‚¹ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œå°±æ˜¯è®¿é—®å…ƒç´ çš„styleSheetå±žæ€§ï¼Œè¯¥å±žæ€§åˆæœ‰ä¸€ä¸ªcssTextå±žæ€§ï¼Œå¯ä»¥æŽ¥å—cssä»£ç ï¼š12345678910111213141516171819202122var style = document.createElement("style");style.type = "text/css";try&#123; style.appendChild(document.createTextNode("body&#123;background-color: red&#125;"));&#125;catch(ex)&#123; style.styleSheet.cssText = "body&#123;background-color: red&#125;";&#125;var head =document.getElementsByTagName("head")[0];head.appendChild(style);//åŠ¨æ€æ·»åŠ æ ·å¼çš„é€šç”¨å‡½æ•°function loadStyleString(css)&#123; var style = document.createElement("style"); style.type = "text/css"; try&#123; style.appendChild(document.createTextNode(css)); &#125;catch(ex)&#123; style.styleSheet.cssText = css; &#125; var head =document.getElementsByTagName("head")[0]; head.appendChild(style);&#125; 3.æ“ä½œè¡¨æ ¼&lt;table&gt;å…ƒç´ æ˜¯HTMLä¸­æœ€å¤æ‚çš„ç»“æž„ä¹‹ä¸€ã€‚ä¸ºäº†æ–¹ä¾¿æž„å»ºè¡¨æ ¼ï¼ŒHTML DOMè¿˜ä¸º&lt;table&gt;ã€&lt;tbody&gt;å’Œ&lt;tr&gt;å…ƒç´ æ·»åŠ äº†ä¸€äº›å±žæ€§å’Œæ–¹æ³•ã€‚è¯¦æƒ…ï¼šhttp://www.w3school.com.cn/jsref/dom_obj_table.asp 4.ä½¿ç”¨NodeListåº”è¯¥å°½é‡å‡å°‘è®¿é—®NodeListçš„æ¬¡æ•° DOMæ‰©å±•å¯¹DOMçš„ä¸¤ä¸ªä¸»è¦æ‰©å±•æ˜¯Selectors API(é€‰æ‹©ç¬¦API)å’ŒHTML5ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸é‚£ä¹ˆå¼•äººæ³¨ç›®çš„Element Traversal(å…ƒç´ éåŽ†)è§„èŒƒå’Œä¸€äº›DOMçš„ä¸“æœ‰æ‰©å±•ã€‚ ä¼—å¤šJavascriptåº“ä¸­æœ€å¸¸ç”¨çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå°±æ˜¯æ ¹æ®CSSé€‰æ‹©ç¬¦é€‰æ‹©ä¸ŽæŸä¸ªæ¨¡å¼åŒ¹é…çš„DOMå…ƒç´ ã€‚jQueryçš„æ ¸å¿ƒå°±æ˜¯é€šè¿‡CSSé€‰æ‹©ç¬¦æŸ¥è¯¢DOMæ–‡æ¡£å–å¾—å…ƒç´ çš„å¼•ç”¨ï¼Œä»Žè€ŒæŠ›å¼€äº†getElementById()å’ŒgetElementsByTagName()ã€‚ é€‰æ‹©ç¬¦APISelectors API Level 1çš„æ ¸å¿ƒæ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼šquerySelector()å’ŒquerySelectorAll()ã€‚ï¼ˆIE8ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒï¼‰ querySelector()æŽ¥æ”¶ä¸€ä¸ªCSSé€‰æ‹©ç¬¦ï¼Œè¿”å›žä¸Žè¯¥æ¨¡å¼åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å…ƒç´ ï¼Œè¿”å›žnullã€‚1234var body = document.querySelector("body");var myDiv = document.querySelector("#myDiv");var selected = document.querySelector(".selected");var img = document.body.querySelector("img.button"); querySelectorAll()æ–¹æ³•æŽ¥æ”¶çš„å‚æ•°ä¸ŽquerySelector()ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ä¸ªCSSé€‰æ‹©ç¬¦ï¼Œä½†è¿”å›žçš„æ˜¯æ‰€æœ‰åŒ¹é…çš„å…ƒç´ è€Œä¸ä»…ä»…ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªNodeListå¯¹è±¡ï¼Œå¦‚æžœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…å…ƒç´ ï¼ŒNodeListå°±æ˜¯ç©ºã€‚ Selectors API Level 2è§„èŒƒä¸ºElementç±»åž‹æ–°å¢žäº†ä¸€ä¸ªæ–¹æ³•matchesSelector()ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³CSSé€‰æ‹©ç¬¦ï¼Œå¦‚æžœè°ƒç”¨å…ƒç´ ä¸Žè¯¥é€‰æ‹©ç¬¦åŒ¹é…ï¼Œåˆ™è¿”å›žtrueï¼Œå¦åˆ™ï¼Œè¿”å›žfalse.123if(document.body.matchesSelector("body.page1"))&#123; //true //do something&#125; è¯¥æ–¹æ³•è¿˜æœªè¾¾æˆç»Ÿä¸€æ ‡å‡†ï¼šIE9+é€šè¿‡msMatchesSelector()æ”¯æŒï¼ŒFirefox 3.6+é€šè¿‡mozMatchesSelector()æ”¯æŒï¼ŒSafari 5+å’ŒChromeé€šè¿‡webkitMatchesSelector()æ”¯æŒã€‚ç¼–å†™ä¸€ä¸ªå…¼å®¹çš„åŒ…è£…å‡½æ•°ï¼š12345678910111213function matchesSelector(element,selector)&#123; if (element.matchesSelector)&#123; return element.matchesSelector(selector); &#125;else if(element.msMatchesSelector)&#123; return element.msMatchesSelector(selector) &#125;else if(element.mozMatchesSelector)&#123; return element.mozMatchesSelector(selector); &#125;else if(element.webkitMatchesSelector)&#123; return element.webkitMatchesSelector(selector); &#125;else&#123; throw new Error("Not supported."); &#125;&#125; å…ƒç´ éåŽ†Element Traversal APIä¸ºDOMå…ƒç´ æ·»åŠ äº†ä»¥ä¸‹5ä¸ªå±žæ€§ï¼šchildElementCountï¼šè¿”å›žå­å…ƒç´ ï¼ˆä¸åŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹å’Œæ³¨é‡Šï¼‰çš„ä¸ªæ•°ï¼›firstElementChildï¼šæŒ‡å‘ç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼›firstChildçš„å…ƒç´ ç‰ˆã€‚lastElementChildï¼šæŒ‡å‘æœ€åŽä¸€ä¸ªå­å…ƒç´ ï¼›lastChildçš„å…ƒç´ ç‰ˆã€‚previousElementSiblingï¼šæŒ‡å‘å‰ä¸€ä¸ªåŒè¾ˆå…ƒç´ ï¼›previousSiblingçš„å…ƒç´ ç‰ˆã€‚nextElementSiblingï¼šæŒ‡å‘åŽä¸€ä¸ªåŒè¾ˆå…ƒç´ ï¼›nextSiblingçš„å…ƒç´ ç‰ˆã€‚ åˆ©ç”¨è¿™äº›å…ƒç´ å°±å¯ä»¥ä¸å¿…æ‹…å¿ƒç©ºç™½æ–‡æœ¬èŠ‚ç‚¹ï¼Œä»Žè€Œæ›´æ–¹ä¾¿åœ°æŸ¥æ‰¾DOMå…ƒç´ ã€‚ HTML5ä¸Žç±»ç›¸å…³çš„æ‰©å……1.getElementsByClassName()æ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³ä¸€ä¸ªåŒ…å«ä¸€æˆ–å¤šä¸ªç±»åçš„å­—ç¬¦ä¸²ï¼Œè¿”å›žå¸¦æœ‰æŒ‡å®šç±»çš„æ‰€æœ‰å…ƒç´ çš„NodeListã€‚ä¼ å…¥å¤šä¸ªç±»åæ—¶ï¼Œç±»åçš„å…ˆåŽé¡ºåºä¸é‡è¦ã€‚2.classListå±žæ€§ï¼ˆä»…Firefox3.6+å’ŒChromeæ”¯æŒï¼‰classListå±žæ€§æ˜¯æ–°é›†åˆç±»åž‹DOMTokenListçš„å®žä¾‹ã€‚æ–°ç±»åž‹æœ‰å¦‚ä¸‹æ–¹æ³•ï¼šadd(value)ï¼šå°†ç»™å®šçš„å­—ç¬¦ä¸²å€¼æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚å¦‚æžœå€¼å·²å­˜åœ¨ï¼Œå°±ä¸æ·»åŠ äº†ã€‚contains(value)ï¼šè¡¨ç¤ºåˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨ç»™å®šçš„å€¼ï¼Œå¦‚æžœå­˜åœ¨è¿”å›žtrueï¼Œåä¹‹ï¼Œfalseã€‚remove(value)ï¼šä»Žåˆ—è¡¨ä¸­åˆ é™¤ç»™å®šçš„å­—ç¬¦ä¸²ã€‚toggle(value)ï¼šå¦‚æžœåˆ—è¡¨ä¸­å·²ç»å­˜åœ¨ç»™å®šå€¼ï¼Œåˆ é™¤å®ƒï¼Œå¦‚æžœåˆ—è¡¨ä¸­æ²¡æœ‰ç»™å®šå€¼ï¼Œåˆ™æ·»åŠ å®ƒã€‚123&lt;div class="bd user disabled"&gt;&lt;/div&gt;//ç§»é™¤â€œuserâ€ç±»div.classList.remove("user"); ç„¦ç‚¹ç®¡ç†HTML5æ·»åŠ äº†è¾…åŠ©ç®¡ç†DOMç„¦ç‚¹åŠŸèƒ½ã€‚document.activeElementå±žæ€§ï¼Œè¿™ä¸ªå±žæ€§å§‹ç»ˆä¼šå¼•ç”¨DOMä¸­å½“å‰èŽ·å¾—ç„¦ç‚¹çš„å…ƒç´ ã€‚ å…ƒç´ èŽ·å¾—ç„¦ç‚¹çš„æ–¹å¼æœ‰é¡µé¢åŠ è½½ã€ç”¨æˆ·è¾“å…¥å’Œä»£ç ä¸­è°ƒç”¨focus()æ–¹æ³•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé¡µé¢åˆšåˆšåŠ è½½å®Œæˆæ—¶ï¼Œdocument.activeElementä¸­ä¿å­˜çš„æ˜¯document.bodyå…ƒç´ çš„å¼•ç”¨ã€‚æ–‡æ¡£åŠ è½½æœŸé—´ï¼Œdocument.activeElementçš„å€¼ä¸ºnull document.hasFocus()æ–¹æ³•ï¼Œç”¨äºŽç¡®å®šæ–‡æ¡£æ˜¯å¦èŽ·å¾—äº†ç„¦ç‚¹ã€‚é€šè¿‡æ£€æµ‹æ–‡æ¡£æ˜¯å¦èŽ·å¾—äº†ç„¦ç‚¹ï¼Œå¯ä»¥çŸ¥é“ç”¨æˆ·æ˜¯ä¸æ˜¯æ­£åœ¨ä¸Žé¡µé¢äº¤äº’ã€‚æŸ¥è¯¢æ–‡æ¡£èŽ·çŸ¥å“ªä¸ªå…ƒç´ èŽ·å¾—äº†ç„¦ç‚¹ï¼Œä»¥åŠç¡®å®šæ–‡æ¡£æ˜¯å¦èŽ·å¾—äº†ç„¦ç‚¹ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½æœ€é‡è¦çš„ç”¨é€”æ˜¯æé«˜webåº”ç”¨çš„æ— éšœç¢æ€§ã€‚ HTMLDocumentçš„å˜åŒ–1.readyStateå±žæ€§ï¼ˆdocument.readyï¼‰è¯¥å±žæ€§æœ‰ä¸¤ä¸ªå€¼ï¼šloadingï¼ˆæ­£åœ¨åŠ è½½æ–‡æ¡£ï¼‰å’Œcompleteï¼ˆå·²ç»åŠ è½½å®Œæ–‡æ¡£ï¼‰2.å…¼å®¹æ¨¡å¼ï¼ˆdocument.compatModeï¼‰è‡ªä»ŽIE6å¼€å§‹åŒºåˆ†æ¸²æŸ“é¡µé¢çš„æ¨¡å¼æ˜¯æ ‡å‡†çš„è¿˜æ˜¯æ··æ‚çš„ï¼Œæ£€æµ‹é¡µé¢çš„å…¼å®¹æ¨¡å¼å°±æˆä¸ºäº†æµè§ˆå™¨çš„å¿…è¦åŠŸèƒ½ã€‚document.compatModeï¼Œè¿™ä¸ªå±žæ€§å°±æ˜¯ä¸ºäº†å‘Šè¯‰å¼€å‘äººå‘˜æµè§ˆå™¨é‡‡ç”¨äº†å“ªç§æ¸²æŸ“æ¨¡å¼ã€‚åœ¨æ ‡å‡†æ¨¡å¼ä¸‹ï¼šdocument.compatMode == â€œCSS1Compatâ€åœ¨æ··æ‚æ¨¡å¼ä¸‹ï¼šdocument.compatMode == â€œBackCompatâ€3.headå±žæ€§(ä»…Chromeå’ŒSafari5+æ”¯æŒ)HTML5æ–°å¢žäº†document.headå±žæ€§ï¼Œå¼•ç”¨æ–‡æ¡£çš„&lt;head&gt;å…ƒç´ 1var head =document.head||document.getElementsByTagName("head")[0]; å­—ç¬¦é›†å±žæ€§document.charsetï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå±žæ€§èŽ·å–æˆ–ä¿®æ”¹charsetå±žæ€§çš„å€¼ã€‚ è‡ªå®šä¹‰æ•°æ®å±žæ€§HTML5è§„å®šå¯ä»¥ä¸ºå…ƒç´ æ·»åŠ éžæ ‡å‡†çš„å±žæ€§ï¼Œä½†è¦æ·»åŠ å‰ç¼€data-ï¼Œç›®çš„æ˜¯ä¸ºå…ƒç´ æä¾›ä¸Žæ¸²æŸ“æ— å…³çš„ä¿¡æ¯ï¼Œæˆ–è€…æä¾›è¯­ä¹‰ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡datasetå±žæ€§æ¥è®¿é—®è‡ªå®šä¹‰å±žæ€§çš„å€¼ã€‚datasetå±žæ€§çš„å€¼æ˜¯DOMStringMapçš„ä¸€ä¸ªå®žä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªåå€¼å¯¹å„¿çš„æ˜ å°„ã€‚123456789&lt;div id="myDiv" data-appId="12345" data-myname="Peter"&gt;&lt;/div&gt;var div = document.getElementById("myDiv");//å–å¾—è‡ªå®šä¹‰å±žæ€§çš„å€¼var appId = div.dataset.appId;var myname=div.dataset.myname;//è®¾ç½®å€¼div.dataset.appId=23456;div.dataset.myname="Bob"; æ’å…¥æ ‡è®°1.innerHTMLå±žæ€§åœ¨è¯»æ¨¡å¼ä¸‹ï¼ŒinnerHTMLå±žæ€§è¿”å›žä¸Žè°ƒç”¨å…ƒç´ çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬å…ƒç´ ã€æ³¨é‡Šå’Œæ–‡æœ¬èŠ‚ç‚¹ï¼‰å¯¹åº”çš„HTMLæ ‡è®°ã€‚åœ¨å†™æ¨¡å¼ä¸‹ï¼ŒinnerHTMLä¼šæ ¹æ®æŒ‡å®šçš„å€¼åˆ›å»ºæ–°çš„DOMæ ‘ï¼Œç„¶åŽç”¨è¿™ä¸ªDOMæ ‘å®Œå…¨æ›¿æ¢è°ƒç”¨å…ƒç´ åŽŸå…ˆçš„æ‰€æœ‰å­èŠ‚ç‚¹2.outerHTMLå±žæ€§åœ¨è¯»æ¨¡å¼ä¸‹ï¼ŒouterHTMLå±žæ€§è¿”å›žè°ƒç”¨å®ƒçš„å…ƒç´ åŠæ‰€æœ‰å­èŠ‚ç‚¹çš„HTMLæ ‡è®°ã€‚åœ¨å†™æ¨¡å¼ä¸‹ï¼ŒouterHTMLä¼šæ ¹æ®æŒ‡å®šçš„HTMLå­—ç¬¦ä¸²åˆ›å»ºæ–°çš„DOMå­æ ‘ï¼Œç„¶åŽç”¨è¿™ä¸ªDOMå­æ ‘å®Œå…¨æ›¿æ¢è°ƒç”¨å…ƒç´ ã€‚3.insertAdjacentHTML()æ–¹æ³•è¿™ä¸ªæ–¹æ³•æœ€æ—©å‡ºçŽ°åœ¨IEï¼Œå®ƒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šæ’å…¥ä½ç½®å’Œè¦æ’å…¥çš„HTMLæ–‡æœ¬ã€‚ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸‹åˆ—çš„å€¼ï¼šbeforebeginã€afterbeginã€beforeendã€afterend4.å†…å­˜å’Œæ€§èƒ½é—®é¢˜æ›¿æ¢èŠ‚ç‚¹å¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨çš„å†…å­˜å ç”¨é—®é¢˜ã€‚ scrollIntoView()æ–¹æ³•ï¼ˆChromeä¸æ”¯æŒï¼‰è¯¥æ–¹æ³•å¯ä»¥åœ¨æ‰€æœ‰HTMLå…ƒç´ ä¸Šè°ƒç”¨ï¼Œé€šè¿‡æ»šåŠ¨æµè§ˆå™¨çª—å£æˆ–æŸä¸ªå®¹å™¨å…ƒç´ ï¼Œè°ƒç”¨å…ƒç´ å°±å¯ä»¥å‡ºçŽ°åœ¨è§†å£ä¸­ã€‚ ä¸“æœ‰æ‰©å±•(æµè§ˆå™¨å„è‡ªä¸“æœ‰çš„æ‰©å±•ï¼Œå¹¶æœªå†™è¿›æ ‡å‡†)1.æ–‡æ¡£æ¨¡å¼ï¼ŒIE8å¼•å…¥çš„ï¼Œä¸»è¦æœ‰å››ç§ï¼šIE5ï¼šæ··æ‚æ¨¡å¼ï¼›IE7ï¼šä»¥IE7æ ‡å‡†æ¨¡å¼æ¸²æŸ“é¡µé¢ï¼›IE8ï¼šä»¥IE8æ ‡å‡†æ¨¡å¼æ¸²æŸ“é¡µé¢ï¼›IE9ï¼ˆæœ€é«˜çº§ï¼‰ï¼šä»¥IE9æ ‡å‡†æ¨¡å¼æ¸²æŸ“é¡µé¢ï¼›2.childrenå±žæ€§è¿™ä¸ªå±žæ€§æ˜¯HTMLCollectionçš„å®žä¾‹ï¼ŒåªåŒ…å«å…ƒç´ ä¸­åŒæ ·è¿˜æ˜¯å…ƒç´ çš„å­èŠ‚ç‚¹ã€‚3.contains()æ–¹æ³•åˆ¤æ–­æŸä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯å¦ä¸€ä¸ªèŠ‚ç‚¹çš„åŽä»£ã€‚4.æ’å…¥æ–‡æœ¬innerTextå’ŒouterText5.æ»šåŠ¨scrollIntoViewIfNeeded(alignCenter)ã€scrollByLines(lineCount)ã€scrollByPages(pageCount) DOM2å’ŒDOM3DOM1çº§ä¸»è¦å®šä¹‰çš„æ˜¯HTMLå’ŒXMLæ–‡æ¡£çš„åº•å±‚ç»“æž„ã€‚DOM2å’ŒDOM3çº§åˆ™åœ¨è¿™ä¸ªç»“æž„çš„åŸºç¡€ä¸Šå¼•å…¥äº†æ›´å¤šçš„äº¤äº’èƒ½åŠ›ï¼Œä¹Ÿæ”¯æŒäº†æ›´é«˜çº§çš„XMLç‰¹æ€§ã€‚DOM2çº§çš„ä¸»è¦æ¨¡å—ï¼š DOM2çº§æ ¸å¿ƒï¼šåœ¨1çº§æ ¸å¿ƒåŸºç¡€ä¸Šæž„å»ºï¼Œä¸ºèŠ‚ç‚¹æ·»åŠ äº†æ›´å¤šæ–¹æ³•å’Œå±žæ€§ã€‚ DOM2çº§è§†å›¾ï¼šä¸ºæ–‡æ¡£å®šä¹‰äº†åŸºäºŽæ ·å¼ä¿¡æ¯çš„ä¸åŒè§†å›¾ã€‚ DOM2çº§äº‹ä»¶ï¼šè¯´æ˜Žäº†å¦‚ä½•ä½¿ç”¨äº‹ä»¶ä¸ŽDOMæ–‡æ¡£äº¤äº’ã€‚ DOM2çº§æ ·å¼ï¼šå®šä¹‰äº†å¦‚ä½•ä»¥ç¼–ç¨‹æ–¹å¼æ¥è®¿é—®å’Œæ”¹å˜CSSæ ·å¼ä¿¡æ¯ã€‚ DOM2çº§éåŽ†å’ŒèŒƒå›´ï¼šå¼•å…¥äº†éåŽ†DOMæ–‡æ¡£å’Œé€‰æ‹©å…¶ç‰¹å®šéƒ¨åˆ†çš„æ–°æŽ¥å£ã€‚ DOM2çº§HTMLï¼šåœ¨1çº§HTMLåŸºç¡€ä¸Šæž„å»ºï¼Œæ·»åŠ äº†æ›´å¤šå±žæ€§ã€æ–¹æ³•å’Œæ–°æŽ¥å£ã€‚ DOMå˜åŒ–DOM2çº§å’Œ3çº§çš„ç›®çš„åœ¨äºŽæ‰©å±•DOM APIï¼Œä»¥æ»¡è¶³æ“ä½œXMLçš„æ‰€æœ‰éœ€æ±‚ï¼ŒåŒæ—¶æä¾›æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œç‰¹æ€§æ£€æµ‹èƒ½åŠ›ã€‚DOM3çº§å¼•å…¥äº†ä¸¤ä¸ªè¾…åŠ©æ¯”è¾ƒèŠ‚ç‚¹çš„æ–¹æ³•ï¼šisSameNode()å’ŒisEqualNode()ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶ä¸€ä¸ªèŠ‚ç‚¹å‚æ•°ã€‚DOM3çº§è¿˜é’ˆå¯¹DOMèŠ‚ç‚¹æ·»åŠ é¢å¤–æ•°æ®å¼•å…¥äº†æ–°æ–¹æ³•ï¼šsetUserData()å’ŒgetUserData()ã€‚setUserData()æŽ¥æ”¶ä¸‰ä¸ªå‚æ•°1234567891011document.body.setUserData("name","Peter",function()&#123;&#125;);var div = document.createElement("div");div.setUserData("name","Peter",function(operation,key,value,src,dest) &#123; if(operation == 1) &#123; dest.setUserData(key,value,function()&#123;&#125;); &#125;&#125;);var newDIiv = div.cloneNode(true);alert(newDiv.getUserData("name")); //Peter æ¡†æž¶çš„å˜åŒ–æ¡†æž¶å’Œå†…åµŒæ¡†æž¶åˆ†åˆ«ç”¨HTMLFrameElementå’ŒHTMLIFrameElementè¡¨ç¤ºï¼Œå®ƒä»¬åœ¨DOM2çº§æœ‰ä¸ªæ–°å±žæ€§ï¼ŒcontentDocumentã€‚è¿™ä¸ªå±žæ€§åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è¡¨ç¤ºæ¡†æž¶å†…å®¹çš„æ–‡æ¡£å¯¹è±¡ã€‚12var iframe = document.getElementById("myIframe");var iframeDoc = iframe.contentDocument;ï¼ˆIE8ä¹‹å‰ç‰ˆæœ¬ä¸æ”¯æŒï¼‰ IE8ä¹‹å‰ç‰ˆæœ¬æ”¯æŒcontentWindowçš„å±žæ€§ï¼Œè¯¥å±žæ€§è¿”å›žæ¡†æž¶çš„windowå¯¹è±¡ï¼Œè€Œè¿™ä¸ªwindowå¯¹è±¡åˆæœ‰ä¸€ä¸ªdocumentå±žæ€§ã€‚å› æ­¤ï¼Œè¦æƒ³åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­è®¿é—®å†…åµŒæ¡†æž¶çš„æ–‡æ¡£å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š12var iframe = document.getElementById("myIframe");var iframeDoc = iframe.contentDocument || iframe.contentWindow.document; æ ·å¼åœ¨HTMLä¸­å®šä¹‰æ ·å¼æœ‰ä¸‰ç§æ–¹æ³•ï¼šé€šè¿‡&lt;link/&gt;å…ƒç´ åŒ…å«å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶ã€ä½¿ç”¨&lt;style/&gt;å…ƒç´ å®šä¹‰åµŒå…¥å¼æ ·å¼ï¼Œä»¥åŠä½¿ç”¨styleç‰¹æ€§é’ˆå¯¹ç‰¹å®šå…ƒç´ çš„æ ·å¼ã€‚æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒDOM2çº§å®šä¹‰çš„CSSèƒ½åŠ›ï¼š12var supportDOM2CSS = document.implementation.hasFeature("CSS","2.0");var supportDOM2CSS = document.implementation.hasFeature("CSS2","2.0"); è®¿é—®å…ƒç´ çš„æ ·å¼ä»»ä½•æ”¯æŒstyleç‰¹æ€§çš„HTMLå…ƒç´ åœ¨javascriptä¸­éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„styleå±žæ€§ã€‚é€šè¿‡styleå±žæ€§è®¾ç½®æˆ–èŽ·å–å…ƒç´ çš„æ ·å¼ã€‚ 1.DOMæ ·å¼å±žæ€§å’Œæ–¹æ³•â€DOM2çº§æ ·å¼â€œè§„èŒƒä¸ºstyleå¯¹è±¡å®šä¹‰äº†å¦‚ä¸‹çš„å±žæ€§å’Œæ–¹æ³•ï¼šcssTextï¼šé€šè¿‡å®ƒèƒ½å¤Ÿè®¿é—®åˆ°styleç‰¹æ€§ä¸­çš„CSSä»£ç lengthï¼šåº”ç”¨ç»™å…ƒç´ çš„CSSå±žæ€§çš„æ•°é‡parentRuleï¼šè¡¨ç¤ºCSSRuleå¯¹è±¡ã€‚getPropertyCSSValue(propertyName)ï¼šè¿”å›žç»™å®šå±žæ€§å€¼çš„CSSValueå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸¤ä¸ªå±žæ€§ï¼šcssTextå’ŒcssValueTypeã€‚cssValueTypeå±žæ€§æ˜¯ä¸€ä¸ªæ•°å€¼å¸¸é‡ï¼Œè¡¨ç¤ºå€¼çš„ç±»åž‹ï¼š0è¡¨ç¤ºç»§æ‰¿çš„å€¼ï¼Œ1è¡¨ç¤ºåŸºæœ¬çš„å€¼ï¼Œ2è¡¨ç¤ºå€¼åˆ—è¡¨ï¼Œ3è¡¨ç¤ºè‡ªå®šä¹‰çš„å€¼ã€‚ getPropertyPriority(propertyName)ï¼šå¦‚æžœç»™å®šçš„å±žæ€§ä½¿ç”¨äº†!importantè®¾ç½®ï¼Œåˆ™è¿”å›žâ€importantâ€ï¼›å¦åˆ™ï¼Œè¿”å›žç©ºå­—ç¬¦ä¸²ã€‚getPropertyValue(propertyName)ï¼šè¿”å›žç»™å®šå±žæ€§çš„å­—ç¬¦ä¸²å€¼ã€‚item(index)ï¼šè¿”å›žç»™å®šä½ç½®çš„CSSå±žæ€§çš„åç§°ã€‚removeProperty(propertyName)ï¼šä»Žæ ·å¼ä¸­åˆ é™¤ç»™å®šå±žæ€§ã€‚setProperty(propertyName,value,priority)ï¼šå°†ç»™å®šå±žæ€§è®¾ç½®ä¸ºç›¸åº”çš„å€¼ï¼Œå¹¶åŠ ä¸Šä¼˜å…ˆæƒæ ‡å¿—ï¼ˆâ€œimportantâ€æˆ–è€…ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚ 2.æ“ä½œæ ·å¼è¡¨CSSStyleSheetç±»åž‹è¡¨ç¤ºçš„æ˜¯æ ·å¼è¡¨ï¼ŒåŒ…æ‹¬é€šè¿‡&lt;link&gt;å…ƒç´ åŒ…å«çš„æ ·å¼è¡¨å’Œ&lt;style&gt;ä¸­å®šä¹‰çš„æ ·å¼è¡¨ã€‚CSSStyleç»§æ‰¿è‡ªStyleSheetï¼Œæœ‰å¦‚ä¸‹çš„å±žæ€§ï¼šdisabledï¼šè¡¨ç¤ºæ ·å¼æ˜¯å¦è¢«ç¦ç”¨çš„å¸ƒå°”å€¼ã€‚Â·ï¼Œï¼Œhrefï¼šå¦‚æžœæ ·å¼è¡¨é€šè¿‡&lt;link&gt;åŒ…å«çš„ï¼Œåˆ™æ˜¯æ ·å¼è¡¨çš„URLï¼›å¦åˆ™ï¼Œæ˜¯nullã€‚meidaï¼šå½“å‰æ ·å¼è¡¨æ‰€æ”¯æŒçš„æ‰€æœ‰åª’ä½“ç±»åž‹çš„é›†åˆã€‚ownerNodeï¼šæŒ‡å‘æ‹¥æœ‰å½“å‰æ ·å¼è¡¨çš„èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ ·å¼å¯èƒ½æ˜¯åœ¨HTMLä¸­é€šè¿‡&lt;link&gt;æˆ–&lt;style&gt;å¼•å…¥çš„ã€‚å¦‚æžœå½“å‰æ ·å¼è¡¨æ˜¯å…¶ä»–æ ·å¼è¡¨é€šè¿‡@importå¯¼å…¥çš„ï¼Œè¿™ä¸ªå±žæ€§å€¼ä¸ºnullã€‚IEä¸æ”¯æŒè¿™ä¸ªå±žæ€§ã€‚parentStyleSheetï¼šåœ¨å½“å‰æ ·å¼è¡¨æ˜¯é€šè¿‡@importå¯¼å…¥çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå±žæ€§æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¼å…¥å®ƒçš„æ ·å¼è¡¨çš„æŒ‡é’ˆã€‚titleï¼šownerNodeä¸­çš„titleå±žæ€§çš„å€¼ã€‚typeï¼šè¡¨ç¤ºæ ·å¼è¡¨ç±»åž‹çš„å­—ç¬¦ä¸²ã€‚é€šå¸¸æ˜¯â€œtype/cssâ€cssRulesï¼šæ ·å¼è¡¨ä¸­åŒ…å«çš„æ ·å¼è§„åˆ™çš„é›†åˆã€‚IEä¸æ”¯æŒownerRuleï¼šå¦‚æžœæ ·å¼è¡¨æ˜¯é€šè¿‡@importå¯¼å…¥çš„ï¼Œè¿™ä¸ªå±žæ€§å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è¡¨ç¤ºå¯¼å…¥çš„è§„åˆ™ï¼Œå¦åˆ™ï¼Œå€¼ä¸ºnullã€‚IEä¸æ”¯æŒdeleteRule(index)ï¼šåˆ é™¤cssRulesé›†åˆä¸­æŒ‡å®šä½ç½®çš„è§„åˆ™ã€‚IEä¸æ”¯æŒinserRule(rule,index)ï¼šå‘cssRulesé›†åˆä¸­æŒ‡å®šçš„ä½ç½®æ’å…¥ruleå­—ç¬¦ä¸²ã€‚IEä¸æ”¯æŒ 3.å…ƒç´ å¤§å°1ï¼‰åç§»é‡offsetHeightï¼šå…ƒç´ åœ¨åž‚ç›´æ–¹å‘ä¸Šå ç”¨çš„ç©ºé—´å¤§å°ã€‚offsetWidthï¼šå…ƒç´ åœ¨æ°´å¹³æ–¹å‘ä¸Šå ç”¨çš„ç©ºé—´å¤§å°ã€‚offsetLeftï¼šå…ƒç´ çš„å·¦å¤–è¾¹æ¡†è‡³åŒ…å«å…ƒç´ çš„å·¦å†…è¾¹æ¡†ä¹‹é—´çš„åƒç´ è·ç¦»ã€‚offsetTopï¼šå…ƒç´ çš„ä¸Šå¤–è¾¹æ¡†è‡³åŒ…å«å…ƒç´ çš„ä¸Šå†…è¾¹æ¡†ä¹‹é—´çš„åƒç´ è·ç¦»ã€‚ 2ï¼‰å®¢æˆ·åŒºå¤§å°clientWidthï¼šå…ƒç´ å†…å®¹åŒºå®½åº¦åŠ ä¸Šå·¦å³å†…è¾¹è·å®½åº¦ï¼›clientHeightï¼šå…ƒç´ å†…å®¹åŒºé«˜åº¦åŠ ä¸Šä¸Šä¸‹å†…è¾¹è·å®½åº¦ï¼› 3ï¼‰æ»šåŠ¨å¤§å°scrollHeightï¼šåœ¨æ²¡æœ‰æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ï¼Œå…ƒç´ å†…å®¹çš„æ€»é«˜åº¦ã€‚scrollWidthï¼šåœ¨æ²¡æœ‰æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ï¼Œå…ƒç´ å†…å®¹çš„æ€»å®½åº¦ã€‚scrollLeftï¼šè¢«éšè—åœ¨å†…å®¹åŒºåŸŸå·¦ä¾§çš„åƒç´ æ•°ã€‚é€šè¿‡è®¾ç½®è¯¥å±žæ€§å¯ä»¥æ”¹å˜å…ƒç´ çš„æ»šåŠ¨ä½ç½®ã€‚scrollTopï¼šè¢«éšè—åœ¨å†…å®¹åŒºåŸŸä¸Šæ–¹çš„åƒç´ æ•°ã€‚é€šè¿‡è®¾ç½®è¯¥å±žæ€§å¯ä»¥æ”¹å˜å…ƒç´ çš„æ»šåŠ¨ä½ç½®ã€‚ 4.ç¡®å®šå…ƒç´ å¤§å°getBoundingClientRect()æ–¹æ³•ï¼Œè¿”å›žçŸ©å½¢å¯¹è±¡ï¼ŒåŒ…å«4ä¸ªå±žæ€§ï¼šleftã€topã€rightå’Œbottomã€‚(è·¨æµè§ˆå™¨çš„getBoundingClientRect()æ–¹æ³•)12345678910111213141516171819202122232425262728293031323334function getBoundingClientRect(element) &#123; var scrollTop = document.documentElement.scrollTop; var scrollLeft = document.documentElement.scrollLeft; if (element.getBoundingClientRect) &#123; if (typeof arguments.callee.offset != "number") &#123; var temp = document.createElement("div"); temp.style.cssText = "position:absolute;left:0;top:0;"; document.body.appendChild(temp); arguments.callee.offset = -temp.getBoundingClientRect().top - scrollTop; document.body.removeChild(temp); temp = null; &#125; var rect = element.getBoundingClientRect(); var offset = arguments.callee.offset; return &#123; left: rect.left + offset, right: rect.right + offset, top: rect.top + offset, bottom: rect.bottom + offset &#125;; &#125; else &#123; var actualLeft = getElementLeft(element); var actualTop = getElementTop(element); return &#123; left: actualLeft - scrollLeft, right: actualLeft + element.offsetWidth - scrollLeft, top: actualTop - scrollTop, bottom: actualTop + element.offsetHeight - scrollTop &#125; &#125;&#125; éåŽ†â€œDOM2çº§éåŽ†å’ŒèŒƒå›´â€æ¨¡å—å®šä¹‰äº†ä¸¤ä¸ªç”¨äºŽè¾…åŠ©å®Œæˆé¡ºåºéåŽ†DOMç»“æž„çš„ç±»åž‹ï¼šNodeIteratorå’ŒTreeWalkerã€‚è¿™ä¸¤ä¸ªç±»åž‹èƒ½å¤ŸåŸºäºŽç»™å®šçš„èµ·ç‚¹å¯¹DOMç»“æž„æ‰§è¡Œæ·±åº¦ä¼˜å…ˆçš„éåŽ†æ“ä½œã€‚ NodeIteratorä½¿ç”¨document.createNodeIterator()æ–¹æ³•åˆ›å»ºå®žä¾‹ï¼Œè¿™ä¸ªæ–¹æ³•æŽ¥æ”¶4ä¸ªå‚æ•°ï¼šrootï¼šæƒ³è¦ä½œä¸ºæœç´¢èµ·ç‚¹çš„æ ‘ä¸­çš„èŠ‚ç‚¹ã€‚whatToShowï¼šè¡¨ç¤ºè¦è®¿é—®å“ªäº›èŠ‚ç‚¹çš„æ•°å­—ä»£ç ã€‚filterï¼šæ˜¯ä¸€ä¸ªNodeFilterå¯¹è±¡ï¼Œæˆ–è€…è¡¨ç¤ºåº”è¯¥æŽ¥å—è¿˜æ˜¯æ‹’ç»æŸç§ç‰¹å®šèŠ‚ç‚¹çš„å‡½æ•°ã€‚entityReferenceExpansionï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¦æ‰©å±•å®žä½“å¼•ç”¨ã€‚è¿™ä¸ªå‚æ•°åœ¨HTMLé¡µé¢æ²¡æœ‰ç”¨ï¼Œå› ä¸ºå…¶ä¸­çš„å®žä½“å¼•ç”¨ä¸èƒ½æ‰©å±•ã€‚ NodeIteratorçš„ä¸¤ä¸ªä¸»è¦æ–¹æ³•ï¼šnextNode()å’ŒpreviousNode()ï¼Œä¸¤è€…éåŽ†åˆ°DOMå­æ ‘æœ€åŽä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œéƒ½è¿”å›žnullã€‚12345678&lt;div id="div1"&gt; &lt;p&gt;&lt;b&gt;Hello&lt;/b&gt;world!&lt;p&gt; &lt;ul&gt; &lt;li&gt;List item 1&lt;/li&gt; &lt;li&gt;List item 2&lt;/li&gt; &lt;li&gt;List item 3&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; éåŽ†&lt;div&gt;ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š1234567var div = document.getElementById("div1");var iterator = document.createNodeIterator(div, NodeFilter.SHOW_ELEMENT, null, false);var node = iterator.nextNode();while(node!=null)&#123; alert(node.tagName); node = iterator.nextNode;&#125; å¦‚æžœåªæƒ³è¿”å›žéåŽ†ä¸­é‡åˆ°çš„&lt;li&gt;,é‚£ä¹ˆåªè¦ä½¿ç”¨ä¸€ä¸ªè¿‡æ»¤å™¨å³å¯ï¼švar div = document.getElementById(â€œdiv1â€);var filter = function(node){ return node.tagName.toLowerCase()==â€liâ€? NodeFilter.FILTER_ACCEPT: NodeFilter.FILTER_SKIP;}; var iterator = document.createNodeIterator(div,NodeFilter.SHOW_ELEMENT,filter,false); var node = iterator.nextNode();while(node!=null){ alert(node.tagName); node = iterator.nextNode;} TreeWalkerTreeWalkeræ˜¯NodeIteratorçš„ä¸€ä¸ªæ›´é«˜çº§ç‰ˆæœ¬ã€‚ä½¿ç”¨document.createTreeWalker()æ–¹æ³•åˆ›å»ºï¼ŒæŽ¥æ”¶4ä¸ªä¸Ždocument.createNodeIterator()æ–¹æ³•ç›¸åŒçš„å‚æ•°ã€‚é™¤äº†åŒ…æ‹¬nextNode()å’ŒpreviousNode()åœ¨å†…çš„ç›¸åŒçš„åŠŸèƒ½ä¹‹å¤–ï¼Œè¿™ä¸ªç±»åž‹è¿˜æä¾›äº†ä¸‹åˆ—ç”¨äºŽåœ¨ä¸åŒæ–¹å‘ä¸ŠéåŽ†DOMç»“æž„çš„æ–¹æ³•ï¼šparentNode()ï¼šéåŽ†åˆ°å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚firstChild()ï¼šéåŽ†åˆ°å½“å‰èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚lastChild()ï¼šéåŽ†åˆ°å½“å‰èŠ‚ç‚¹çš„æœ€åŽä¸€ä¸ªå­èŠ‚ç‚¹ã€‚nextSibling()ï¼šéåŽ†åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚previousSibling()ï¼šéåŽ†åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚1234567891011121314var div =document.getElementById("div1");var filter = function(node)&#123; return node.tagName.toLowerCase()=="li"? NodeFilter.FILTER_ACCEPT: NodeFilter.FILTER_SKIP; &#125;;var walker = document.createTreeWalker(div,NodeFilter.SHOW_ELEMENT,filter,false);var node = walker .nextNode();while(node!=null)&#123; alert(node.tagName); node = walker .nextNode;&#125; TreeWalkerè¿˜æœ‰ä¸€ä¸ªå±žæ€§ï¼Œåå«currentNode,è¡¨ç¤ºä»»ä½•éåŽ†æ–¹æ³•åœ¨ä¸Šä¸€æ¬¡éåŽ†ä¸­è¿”å›žçš„èŠ‚ç‚¹ã€‚é€šè¿‡è®¾ç½®è¿™ä¸ªå±žæ€§ä¹Ÿå¯ä»¥ä¿®æ”¹éåŽ†ç»§ç»­è¿›è¡Œçš„èµ·ç‚¹ï¼š123var node = walker.nextNode();alert(node === walker.currentNode); //truewalker.currentNode = document.body; //ä¿®æ”¹èµ·ç‚¹ èŒƒå›´DOM2çº§åœ¨Documentç±»åž‹ä¸­å®šä¹‰äº†createRange()æ–¹æ³•ï¼Œè®©å¼€å‘äººå‘˜æ›´æ–¹ä¾¿åœ°æŽ§åˆ¶é¡µé¢ã€‚æ¯ä¸ªèŒƒå›´ç”±ä¸€ä¸ªRangeç±»åž‹çš„å®žä¾‹è¡¨ç¤ºï¼Œè¯¥å®žä¾‹æ‹¥æœ‰ä»¥ä¸‹çš„å±žæ€§ï¼šstartContainerï¼šåŒ…å«èŒƒå›´èµ·ç‚¹çš„èŠ‚ç‚¹ã€‚startOffsetï¼šèŒƒå›´åœ¨startContainerä¸­èµ·ç‚¹çš„åç§»é‡ã€‚endContainerï¼šåŒ…å«èŒƒå›´ç»ˆç‚¹çš„èŠ‚ç‚¹ã€‚endOffsetï¼šèŒƒå›´åœ¨endContainerä¸­ç»ˆç‚¹çš„åç§»é‡ã€‚commonAncestorContainerï¼šstartContainerå’ŒendContainerå…±åŒçš„ç¥–å…ˆèŠ‚ç‚¹åœ¨æ–‡æ¡£æ ‘ä¸­ä½ç½®æœ€æ·±çš„é‚£ä¸ªã€‚1.ç”¨DOMèŒƒå›´å®žçŽ°ç®€å•é€‰æ‹©ä½¿ç”¨selectNode()å’ŒselectNodeContents()ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶è¡£è›¾å‚æ•°ï¼Œå³ä¸€ä¸ªDOMèŠ‚ç‚¹ï¼Œç„¶åŽä½¿ç”¨è¯¥èŠ‚ç‚¹ä¸­çš„ä¿¡æ¯æ¥å¡«å……èŒƒå›´ã€‚selectNode()æ–¹æ³•é€‰æ‹©æ•´ä¸ªèŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å…¶å­èŠ‚ç‚¹ï¼›è€ŒselectNodeContents()æ–¹æ³•åˆ™åªé€‰æ‹©èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚2.ç”¨DOMèŒƒå›´å®žçŽ°å¤æ‚é€‰æ‹©ä½¿ç”¨setStart()å’ŒsetEnd()æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªå‚ç…§èŠ‚ç‚¹å’Œä¸€ä¸ªåç§»é‡å€¼ã€‚12345678910&lt;p id="p1"&gt;&lt;b&gt;Hello&lt;/b&gt;world!&lt;/p&gt;var p1=document.getElementById("p1");var helloNode=p1.firstChild.firstChild, worldNode=p1.lastChild;var range = document.createRange();range.setStart(helloNode,2);range.setEnd(worldNode,3);çº¢è‰²éƒ¨åˆ†åˆ™ä¸ºå·²é€‰æ‹©çš„èŒƒå›´ï¼š&lt;p id="p1"&gt;&lt;b&gt;Hello&lt;/b&gt;world!&lt;/p&gt; 3.æ“ä½œDOMèŒƒå›´ä¸­çš„å†…å®¹deleteContents()ï¼šä»Žæ–‡æ¡£ä¸­åˆ é™¤èŒƒå›´æ‰€åŒ…å«çš„å†…å®¹ã€‚12345678910var p1 = document.getElementById("p1");var helloNode = p1.firstChild.firstChild, worldNode = p1.lastChild;var range = document.createRange();range.setStart(helloNode, 2);range.setEnd(worldNode, 3);range.deleteContents();// ç»“æžœä¸ºï¼š&lt;p id="p1"&gt;&lt;b&gt;He&lt;/b&gt;rld!&lt;/p&gt; ç”±äºŽèŒƒå›´é€‰åŒºåœ¨ä¿®æ”¹åº•å±‚DOMç»“æž„æ—¶èƒ½å¤Ÿä¿è¯æ ¼å¼è‰¯å¥½ï¼Œå› æ­¤å³ä½¿å†…å®¹è¢«åˆ é™¤äº†ï¼Œæœ€ç»ˆçš„DOMç»“æž„ä¾æ—§æ˜¯æ ¼å¼è‰¯å¥½çš„ã€‚ä¸ŽdeleteContents()ç›¸ä¼¼ï¼ŒextractContents()ä¹Ÿä¼šä»Žæ–‡æ¡£ä¸­ç§»é™¤èŒƒå›´é€‰åŒºã€‚åŒºåˆ«åœ¨äºŽextractContents()ä¼šè¿”å›žèŒƒå›´çš„æ–‡æ¡£ç‰‡æ®µã€‚ cloneContents()åˆ›å»ºèŒƒå›´å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åŽå†æ–‡æ¡£çš„å…¶ä»–åœ°æ–¹æ’å…¥è¯¥å‰¯æœ¬ã€‚4.æ’å…¥DOMèŒƒå›´ä¸­çš„å†…å®¹insertNode()å‘èŒƒå›´é€‰åŒºçš„å¼€å§‹å¤„æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ã€‚12345678910111213141516&lt;span style="color : red"&gt;Inserted Text&lt;/span&gt;var p1=document.getElementById("p1");var helloNode=p1.firstChild.firstChild, worldNode=p1.lastChild;var range = document.createRange();range.setStart(helloNode,2);range.setEnd(worldNode,3);var span = document.createElement("span");span.style.color="red";span.appendChild(document.createTextNode("Inserted text"));range.insertNode(span);// ç»“æžœä¸ºï¼š&lt;p id="p1"&gt;&lt;b&gt;He&lt;span style="color : red"&gt;Inserted Text&lt;/span&gt;llo&lt;/b&gt;world!&lt;/p&gt; é™¤äº†å‘èŒƒå›´å†…éƒ¨æ’å…¥å†…å®¹ä¹‹å¤–ï¼Œè¿˜å¯ä»¥çŽ¯ç»•èŒƒå›´æ’å…¥å†…å®¹ï¼Œä½¿ç”¨surroundContents()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³çŽ¯ç»•èŒƒå›´å†…å®¹çš„èŠ‚ç‚¹ã€‚åœ¨çŽ¯ç»•èŒƒå›´æ’å…¥å†…å®¹æ—¶ï¼ŒåŽå°æ‰§è¡Œä¸‹åˆ—æ­¥éª¤ï¼š1ï¼‰æå–å‡ºèŒƒå›´ä¸­çš„å†…å®¹2ï¼‰å°†ç»™å®šèŠ‚ç‚¹æ’å…¥åˆ°æ–‡æ¡£ä¸­åŽŸæ¥èŒƒå›´æ‰€åœ¨çš„ä½ç½®ä¸Š3ï¼‰å°†æ–‡æ¡£ç‰‡æ®µçš„å†…å®¹æ·»åŠ åˆ°ç»™å®šèŠ‚ç‚¹ä¸­ã€‚123456789101112var p1=document.getElementById("p1");var helloNode=p1.firstChild.firstChild, worldNode=p1.lastChild;var range = document.createRange();range.selectNode(helloNode);var span = document.createElement("span");span.style.backgroundColor="yellow";range.surroundContents(span);// ç»“æžœä¸ºï¼š&lt;p id="p1"&gt;&lt;b&gt;&lt;span style="background-color : yellow"&gt;Hello&lt;/span&gt;&lt;/b&gt;world!&lt;/p&gt; 5.æŠ˜å DOMèŒƒå›´æ‰€è°“æŠ˜å èŒƒå›´ï¼Œå°±æ˜¯æŒ‡èŒƒå›´ä¸­æœªé€‰æ‹©æ–‡æ¡£çš„ä»»ä½•éƒ¨åˆ†ã€‚ä½¿ç”¨collapse()æ–¹æ³•æ¥æŠ˜å èŒƒå›´ï¼Œè¿™ä¸ªæ–¹æ³•æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¦æŠ˜å åˆ°èŒƒå›´çš„å“ªä¸€ç«¯ã€‚trueè¡¨ç¤ºæŠ˜å åˆ°èŒƒå›´çš„èµ·ç‚¹ï¼Œfalseè¡¨ç¤ºæŠ˜å åˆ°èŒƒå›´çš„ç»ˆç‚¹ã€‚ä¹Ÿå¯ä»¥é€šè¿‡æ£€æµ‹æŸä¸ªèŒƒå›´æ˜¯å¦å¤„äºŽæŠ˜å çŠ¶æ€ï¼Œæ¥ç¡®å®šèŒƒå›´ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç´§å¯†ç›¸é‚»ã€‚é€šè¿‡range.collapseåˆ¤æ–­6.æ¯”è¾ƒDOMèŒƒå›´ä½¿ç”¨compareBoundaryPoints()æ–¹æ³•ç¡®å®šå¤šä¸ªèŒƒå›´æ˜¯å¦æœ‰å…¬å…±çš„è¾¹ç•Œï¼ˆèµ·ç‚¹æˆ–ç»ˆç‚¹ï¼‰ã€‚è¯¥æ–¹æ³•æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ¯”è¾ƒæ–¹å¼çš„å¸¸é‡å€¼å’Œè¦æ¯”è¾ƒçš„èŒƒå›´ã€‚è¿”å›žå€¼å¦‚ä¸‹ï¼šå¦‚æžœç¬¬ä¸€ä¸ªèŒƒå›´ä¸­çš„ç‚¹ä½äºŽç¬¬äºŒä¸ªèŒƒå›´ä¸­çš„ç‚¹ä¹‹å‰ï¼Œè¿”å›ž-1ï¼›å¦‚æžœä¸¤ä¸ªç‚¹ç›¸ç­‰ï¼Œè¿”å›ž0ï¼›å¦‚æžœç¬¬ä¸€ä¸ªèŒƒå›´ä¸­çš„ç‚¹ä½äºŽç¬¬äºŒä¸ªèŒƒå›´ä¸­çš„ç‚¹ä¹‹åŽï¼Œè¿”å›ž1ã€‚7.å¤åˆ¶DOMèŒƒå›´cloneRange()æ–¹æ³•1var newrange = range.cloneRange(); 8.æ¸…ç†DOMèŒƒå›´detach()æ–¹æ³•12range.detach();range=null;]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆä¸‰ï¼‰]]></title>
    <url>%2F2017%2F05%2F13%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%2F</url>
    <content type="text"><![CDATA[BOM(æµè§ˆå™¨å¯¹è±¡æ¨¡åž‹)windowå¯¹è±¡BOMçš„æ ¸å¿ƒå¯¹è±¡æ˜¯windowï¼Œå®ƒè¡¨ç¤ºæµè§ˆå™¨çš„ä¸€ä¸ªå®žä¾‹ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œwindowå¯¹è±¡æœ‰åŒé‡è§’è‰²ï¼Œå®ƒæ—¢æ˜¯é€šè¿‡Javascriptè®¿é—®æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæŽ¥å£ï¼Œåˆæ˜¯ECMAScriptè§„å®šçš„Globalå¯¹è±¡ã€‚è¿™æ„å‘³ç€ç½‘é¡µä¸­å®šä¹‰çš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡ã€å˜é‡å’Œå‡½æ•°ï¼Œéƒ½ä»¥windowä½œä¸ºå…¶Globalå¯¹è±¡ï¼Œå› æ­¤æœ‰æƒè®¿é—®parseInt()ç­‰æ–¹æ³•ã€‚ å®šä¹‰å…¨å±€å˜é‡å’Œåœ¨windowå¯¹è±¡ä¸Šç›´æŽ¥å®šä¹‰å±žæ€§è¿˜æ˜¯æœ‰ä¸€ç‚¹å·®åˆ«ï¼šå…¨å±€å˜é‡ä¸èƒ½é€šè¿‡deleteæ“ä½œç¬¦åˆ é™¤ï¼Œè€Œç›´æŽ¥åœ¨windowå¯¹è±¡ä¸Šå®šä¹‰çš„å±žæ€§å¯ä»¥ï¼ˆIE9ä»¥ä¸‹ä¼šæŠ¥é”™ï¼‰å°è¯•è®¿é—®æœªå£°æ˜Žçš„å˜é‡ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½†æ˜¯é€šè¿‡æŸ¥è¯¢windowå¯¹è±¡ï¼Œå¯ä»¥çŸ¥é“æŸä¸ªå¯èƒ½æœªå£°æ˜Žçš„å˜é‡æ˜¯å¦å­˜åœ¨ã€‚ çª—å£ä½ç½®ä½¿ç”¨ä¸‹åˆ—ä»£ç å¯ä»¥è·¨æµè§ˆå™¨åŽ»å¾—çª—å£å·¦è¾¹å’Œä¸Šè¾¹çš„ä½ç½®ï¼š1234var leftPos = (typeof window.screenLeft == "number") ? window.screenLeft : window.screenX;var topPos = (typeof window.screenTop == "number") ? window.screenTop : window.screenY; ä½¿ç”¨moveTo()å’ŒmoveBy()æ–¹æ³•æœ‰å¯èƒ½å°†çª—å£ç²¾ç¡®åœ°ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°ä½ç½®ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒmoveTo()æŽ¥æ”¶çš„æ˜¯æ–°ä½ç½®çš„xå’Œyåæ ‡å€¼ï¼Œè€ŒmoveBy()æŽ¥æ”¶çš„æ˜¯æ°´å¹³å’Œåž‚ç›´æ–¹å‘ä¸Šç§»åŠ¨çš„åƒç´ æ•°ã€‚eg:window.moveTo(0,0); //ç§»å¾€å±å¹•å·¦ä¸Šè§’window.moveBy(0,100); //å°†çª—å£å‘ä¸‹ç§»åŠ¨100åƒç´  è¿™ä¸¤ç§æ–¹æ³•å¯èƒ½è¢«æµè§ˆå™¨ç¦ç”¨ï¼Œä¸”éƒ½ä¸é€‚ç”¨äºŽæ¡†æž¶ï¼Œåªèƒ½å¯¹windowå¯¹è±¡ä½¿ç”¨ã€‚ çª—å£å¤§å°çª—å£çš„å±žæ€§ï¼šinnerWidthã€innerHeightã€outerWidthã€outerHeight;outerWidthå’ŒouterHeightè¿”å›žæµè§ˆå™¨çª—å£æœ¬èº«çš„å°ºå¯¸ã€‚ä½†åœ¨Operaä¸­ï¼Œè¿™ä¸¤ä¸ªå±žæ€§çš„å€¼è¡¨ç¤ºé¡µé¢è§†å›¾å®¹å™¨çš„å¤§å°ã€‚innerWidthå’ŒinnerHeightåˆ™è¡¨ç¤ºè¯¥å®¹å™¨ä¸­é¡µé¢è§†å›¾åŒºçš„å¤§å°ã€‚åœ¨Chromeä¸­ï¼ŒinnerWidthã€innerHeightã€outerWidthã€outerHeightè¿”å›žç›¸åŒçš„å€¼ï¼Œå³è§†å£å¤§å°è€Œéžæµè§ˆå™¨çª—å£å¤§å°ã€‚ æ­¤å¤–è¿˜å¯ä»¥ä½¿ç”¨DOMæ–¹æ³•å–å¾—é¡µé¢å¯è§åŒºåŸŸçš„ç›¸å…³ä¿¡æ¯ï¼šæ ‡å‡†æ¨¡å¼ä¸‹ï¼šdocument.documentElement.clientWidth å’Œ document.documentElement.clientHeightæ··æ‚æ¨¡å¼ä¸‹ï¼šdocument.body.clientWidth å’Œ document.body.clientHeightã€‚123456789101112var pageWidth = window.innerWidth, pageHeight = window.innerHeight;if(typeof pageWidth != "number") &#123; if(document.compatMode == "CSS1Compat") &#123; //åˆ¤æ–­é¡µé¢æ˜¯å¦å¤„äºŽæ ‡å‡†æ¨¡å¼ pageWidth = document.documentElement.clientWidth; pageHeight = document.documentElement.clientHeight; &#125;else&#123; pageWidth = document.body.clientWidth; pageHeight = document.body.clientHeight; &#125;&#125; è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ï¼šresizeTo()å’ŒresizeBy()resizeTo()æŽ¥æ”¶æµè§ˆå™¨çª—å£çš„æ–°å®½åº¦å’Œæ–°é«˜åº¦ï¼Œè€ŒresizeBy()æŽ¥æ”¶æ–°çª—å£ä¸ŽåŽŸçª—å£çš„å®½åº¦å’Œé«˜åº¦ä¹‹å·®ã€‚1234//è°ƒæ•´åˆ°100*100window.resizeTo(100,100);//è°ƒæ•´åˆ°200*150window.resizeBy(100,50); å¯¼èˆªå’Œæ‰“å¼€çª—å£window.open()æ–¹æ³•æ—¢å¯ä»¥å¯¼èˆªåˆ°ä¸€ä¸ªç‰¹å®šçš„URLï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ã€‚æŽ¥æ”¶å››ä¸ªå‚æ•°ï¼šè¦åŠ è½½çš„URLã€çª—å£ç›®æ ‡ã€ä¸€ä¸ªç‰¹æ€§å­å­—ç¬¦ä¸²ä»¥åŠä¸€ä¸ªæ–°é¡µé¢æ˜¯å¦å–ä»£æµè§ˆå™¨åŽ†å²è®°å½•ä¸­å½“å‰åŠ è½½é¡µé¢çš„å¸ƒå°”å€¼ã€‚12window.open("http://www.wrox.com","wroxWindow","height=400,width=400,resizable=yes");// è¿”å›žä¸€ä¸ªæŒ‡å‘æ–°çª—å£çš„å¼•ç”¨ï¼Œå¼•ç”¨çš„å¯¹è±¡ä¸Žwindowå¯¹è±¡å¤§è‡´ç›¸ä¼¼ã€‚ å¯ä»¥è°ƒç”¨close()æ–¹æ³•å…³é—­æ–°æ‰“å¼€çš„çª—å£ï¼Œä»…é€‚ç”¨äºŽé€šè¿‡window.open()æ‰“å¼€çš„å¼¹å‡ºçª—å£ã€‚å¯¹äºŽæµè§ˆå™¨çš„ä¸»çª—å£ï¼Œå¦‚æžœæ²¡æœ‰ç”¨æˆ·çš„å…è®¸æ˜¯ä¸èƒ½å…³ é—´æ­‡è°ƒç”¨å’Œè¶…æ—¶è°ƒç”¨javascriptæ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œä½†å®ƒå…è®¸é€šè¿‡è®¾ç½®è¶…æ—¶å€¼å’Œé—´æ­‡æ—¶é—´å€¼æ¥è°ƒåº¦ä»£ç åœ¨ç‰¹å®šçš„æ—¶åˆ»æ‰§è¡Œã€‚å‰è€…æ˜¯åœ¨æŒ‡å®šçš„æ—¶é—´è¿‡åŽæ‰§è¡Œä»£ç ï¼Œè€ŒåŽè€…åˆ™æ˜¯æ¯éš”æŒ‡å®šçš„æ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡ä»£ç ã€‚ è¶…æ—¶è°ƒç”¨ä½¿ç”¨windowå¯¹è±¡çš„setTimeout()ï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼›setTimeout()è¿”å›žä¸€ä¸ªæ•°å€¼IDï¼Œè¡¨ç¤ºè¶…æ—¶è°ƒç”¨ã€‚è¿™ä¸ªIDæ˜¯æ‰§è¡Œä»£ç çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥å–æ¶ˆè¶…æ—¶è°ƒç”¨ã€‚1234var timeid=setTimeout(function() &#123; alert("hi");&#125;,1000);clearTimeout(timeid); é—´æ­‡è°ƒç”¨ä½¿ç”¨windowå¯¹è±¡çš„setInterval(),æŽ¥æ”¶å‚æ•°ä¸ŽsetTimeout()ç›¸åŒï¼Œä¹Ÿè¿”å›žä¸€ä¸ªé—´æ­‡è°ƒç”¨IDï¼Œä½¿ç”¨clearInterval()æ–¹æ³•å–æ¶ˆé—´æ­‡è°ƒç”¨ã€‚ è¶…æ—¶è°ƒç”¨setTimeout()å’Œé—´æ­‡è°ƒç”¨setInterval()çš„åŒºåˆ«æ˜¯ï¼šsetTimeout()æ˜¯æŒ‡åœ¨éš”å¤šä¹…åŽå°±æ‰§è¡Œä»£ç ï¼Œä»…ä»…æ‰§è¡Œä¸€æ¬¡ï¼›setInterval()æ˜¯æŒ‡æ¯éš”å¤šä¹…å°±æ‰§è¡Œä»£ç ä¸€æ¬¡ï¼Œæ‰§è¡Œæ¬¡æ•°ä¸å®šã€‚ ä¸€èˆ¬è®¤ä¸ºï¼Œä½¿ç”¨è¶…æ—¶è°ƒç”¨æ¥æ¨¡æ‹Ÿé—´æ­‡è°ƒç”¨çš„æ˜¯ä¸€ç§æœ€ä½³æ¨¡å¼ã€‚æœ€å¥½ä¸è¦ä½¿ç”¨é—´æ­‡è°ƒç”¨ã€‚åœ¨å¼€å‘çŽ¯å¢ƒä¸‹ï¼Œå¾ˆå°‘ä½¿ç”¨çœŸæ­£çš„é—´æ­‡è°ƒç”¨ï¼ŒåŽŸå› æ˜¯åŽä¸€ä¸ªé—´æ­‡è°ƒç”¨å¯èƒ½ä¼šåœ¨å‰ä¸€ä¸ªé—´æ­‡è°ƒç”¨ç»“æŸä¹‹å‰å¯åŠ¨ã€‚ ç³»ç»Ÿå¯¹è¯æ¡†alert()ã€confirm()å’Œprompt();javascriptä¸­å¯ä»¥æ‰“å¼€çš„å¯¹è¯æ¡†ï¼šæŸ¥æ‰¾å¯¹è¯æ¡†ï¼šwindow.find()ï¼›æ‰“å°å¯¹è¯æ¡†ï¼šwindow.print() locationå¯¹è±¡BOMæœ€æœ‰ç”¨çš„å¯¹è±¡ä¹‹ä¸€ï¼ŒåŒæ—¶å®ƒä¹Ÿæ˜¯windowå¯¹è±¡æ˜¯å±žæ€§ï¼Œä¹Ÿæ˜¯documentå¯¹è±¡çš„å±žæ€§ã€‚æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼š12345678910111213141516171819function getQueryStringArgs() &#123; //å–å¾—æŸ¥è¯¢å­—ç¬¦ä¸²å¹¶åŽ»æŽ‰å¼€å¤´çš„é—®å· var qs = (location.search.length &gt; 0 ï¼Ÿ location.search.substring(1) : ""); var args = &#123;&#125;, items = qs.length ? qs.split("&amp;") : [], item = null, name = null, value = null; var len = items.length; for(var i = 0; i &lt; len; i++) &#123; item = items[i].split("="); name = decodeURIComponent(item[0]); value = decodeURIComponent(item[1]); if(name.length) &#123; args[name] = value; &#125; &#125; return args;&#125; ä½ç½®æ“ä½œï¼šç«‹å³æ‰“å¼€æ–°URLå¹¶åœ¨æµè§ˆå™¨çš„åŽ†å²è®°å½•ä¸­ç”Ÿæˆä¸€æ¡è®°å½•ã€‚12345678910111213141516171819202122location.assign("http://www.wrox.com");// åŒç­‰æ•ˆæžœçš„ä»£ç ï¼šwindow.location = "http://www.wrox.com";location.href ="http://www.wrox.com"// locationå¯¹è±¡çš„å…¶ä»–å±žæ€§ï¼š// å‡è®¾åˆå§‹URLä¸ºhttp://www.wrox.com/WileyCDA/// å°†URLä¿®æ”¹ä¸ºhttp://www.wrox.com/WileyCDA/#section1location.hash = "#section1";// å°†URLä¿®æ”¹ä¸ºhttp://www.wrox.com/WileyCDA/?q=javascriptlocation.search = "?q=javascript";// å°†URLä¿®æ”¹ä¸ºhttp://www.yahoo.com/WileyCDA/location.hostname = "www.yahoo.com";// å°†URLä¿®æ”¹ä¸ºhttp://www.wrox.com/mydir/location.pathname = "mydir";// å°†URLä¿®æ”¹ä¸ºhttp://www.wrox.com:8080/WileyCDA/location.port=8080; æ¯æ¬¡ä¿®æ”¹locationçš„å±žæ€§ï¼ˆhashé™¤å¤–ï¼‰ï¼Œé¡µé¢éƒ½ä¼šä»¥æ–°URLé‡æ–°åŠ è½½è€Œè°ƒç”¨replaceæ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¿®æ”¹URLä¹‹åŽï¼Œç”¨æˆ·ä¸å¯é€šè¿‡å•å‡»â€œåŽé€€â€æŒ‰é’®å¯¼èˆªåˆ°å‰ä¸€ä¸ªé¡µé¢ã€‚location.replace(â€œhttp://www.wrox.comâ€œ);æœ€åŽä¸€ä¸ªæ˜¯reload()æ–¹æ³•ï¼Œä½œç”¨æ˜¯é‡æ–°åŠ è½½å½“å‰æ˜¾ç¤ºçš„é¡µé¢ã€‚ navigatorå¯¹è±¡navigatorå¯¹è±¡çš„å±žæ€§é€šå¸¸æ˜¯ç”¨æ¥æ£€æµ‹æ˜¾ç¤ºç½‘é¡µçš„æµè§ˆå™¨ç±»åž‹æ£€æµ‹æ’ä»¶ï¼šä½¿ç”¨pluginsæ•°ç»„(åŒ…å«çš„å±žæ€§ï¼šname,description,filename,length)1234567891011121314151617181920212223//IEä¸­æ— æ•ˆfunction hasPlugin(name) &#123; name = name.toLowerCase(); for(var i = 0; i &lt; navigator.plugins.length; i++) &#123; if(navigator.plugins[i].name.toLowerCase().indexOf(name) &gt; -1) &#123; return true; &#125; &#125; return false;&#125;//æ£€æµ‹Flashalert(hasPlugin("Flash"));//æ£€æµ‹IEä¸­çš„æ’ä»¶function hasPlugin(name)&#123; try&#123; new ActiveXObject(name); return true; &#125;catch(ex)&#123; return false &#125;&#125;alert(hasPlugin("ShockwaveFlash.ShockwaveFlash")); screenå¯¹è±¡åœ¨javascriptç¼–ç¨‹ä¸­ç”¨å¤„ä¸å¤§ï¼Œç•¥è¿‡ historyå¯¹è±¡historyæ˜¯windowå¯¹è±¡çš„å±žæ€§ï¼Œå› æ­¤æ¯ä¸ªæµè§ˆå™¨çª—å£ã€æ¯ä¸ªæ ‡ç­¾é¡µä¹ƒè‡³æ¯ä¸ªæ¡†æž¶ï¼Œéƒ½æœ‰è‡ªå·±çš„historyå¯¹è±¡ä¸Žç‰¹å®šçš„windowå¯¹è±¡å…³è”ã€‚ä½¿ç”¨go()æ–¹æ³•å¯ä»¥åœ¨ç”¨æˆ·çš„åŽ†å²è®°å½•ä¸­ä»»æ„è·³è½¬ã€‚123456//åŽé€€ä¸€é¡µhistory.go(-1);//å‰è¿›ä¸€é¡µhistory.go(1);//å‰è¿›ä¸¤é¡µhistory.go(2); ä¹Ÿå¯ä»¥ç»™go()æ–¹æ³•ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œæ­¤æ—¶æµè§ˆå™¨ä¼šè·³è½¬åˆ°åŽ†å²è®°å½•ä¸­åŒ…å«è¯¥å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚è¿˜æœ‰ä¸¤ä¸ªç®€å†™æ–¹æ³•back()å’Œforward()æ–¹æ³•æ¥ä»£æ›¿go()çš„åŽé€€å’Œå‰è¿›æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡æ£€æŸ¥history.lengthæ˜¯å¦ç­‰äºŽ0ï¼Œæ¥æ£€æµ‹å½“å‰é¡µé¢æ˜¯ä¸æ˜¯ç”¨æˆ·åŽ†å²è®°å½•ä¸­çš„ç¬¬ä¸€ä¸ªé¡µé¢ã€‚ å®¢æˆ·ç«¯æ£€æµ‹å„ä¸ªæµè§ˆå™¨ä¹‹é—´å­˜åœ¨ç€å·®å¼‚ï¼Œè€Œå®¢æˆ·ç«¯æ£€æµ‹åˆ™æ˜¯å¯¹æ­¤çš„ä¸€ç§è¡¥æ•‘æŽªæ–½ï¼Œä¹Ÿæ˜¯ä¸€ç§è¡Œä¹‹æœ‰æ•ˆçš„å¼€å‘ç­–ç•¥ã€‚æœ€å¸¸ç”¨ä¹Ÿæœ€ä¸ºäººä»¬å¹¿æ³›æŽ¥å—çš„å®¢æˆ·ç«¯æ£€æµ‹å½¢å¼æ˜¯èƒ½åŠ›æ£€æµ‹ï¼ˆåˆç§°ç‰¹æ€§æ£€æµ‹ï¼‰ã€‚èƒ½åŠ›æ£€æµ‹çš„ç›®æ ‡ä¸æ˜¯è¯†åˆ«ç‰¹å®šçš„æµè§ˆå™¨ï¼Œè€Œæ˜¯è¯†åˆ«æµè§ˆå™¨çš„èƒ½åŠ›ã€‚åŸºæœ¬æ¨¡å¼ï¼š123if(object.propertyInQuestion)&#123; //ä½¿ç”¨object.propertyInQuestion&#125; èƒ½åŠ›æ£€æµ‹çš„ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼š1.å…ˆæ£€æµ‹è¾¾æˆç›®çš„çš„æœ€å¸¸ç”¨çš„ç‰¹æ€§ï¼›2.å¿…é¡»æ£€æµ‹è¯•å‰‚è¦ç”¨åˆ°çš„ç‰¹æ€§ æ›´å¯é çš„èƒ½åŠ›æ£€æµ‹æ£€æµ‹æŸæ–¹æ³•æ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å¦‚sort:123function isSortable(object)&#123; return typeof object.sort == "function";&#125; å°½é‡ä½¿ç”¨typeofè¿›è¡Œèƒ½åŠ›æ£€æµ‹IE8åŠä»¥å‰ç‰ˆæœ¬ä¸­ä½¿ç”¨typeof document.createElementè¿”å›žçš„æ˜¯â€œobjectâ€,IE9å·²ä¿®å¤ã€‚åœ¨æµè§ˆå™¨çŽ¯å¢ƒä¸‹æµ‹è¯•ä»»ä½•å¯¹è±¡çš„æŸä¸ªç‰¹æ€§æ˜¯å¦å­˜åœ¨ï¼Œè¦ä½¿ç”¨ä¸‹é¢è¿™ä¸ªå‡½æ•°ã€‚12345function isHostMethod(object,property)&#123; var t = typeof object[property]; return t == "function" || (!!(t=='object'&amp;&amp;object[property])) || t=="unknown";&#125;result = isHostMethod(xhr,"open"); èƒ½åŠ›æ£€æµ‹ä¸æ˜¯æµè§ˆå™¨æ£€æµ‹åœ¨å¼€å‘ä¸­åº”è¯¥å°†èƒ½åŠ›æ£€æµ‹ä½œä¸ºç¡®å®šä¸‹ä¸€æ­¥è§£å†³æ–¹æ¡ˆçš„ä¾æ®ï¼Œè€Œä¸æ˜¯ç”¨å®ƒæ¥åˆ¤æ–­ç”¨æˆ·ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆæµè§ˆå™¨ æ€ªç™–æ£€æµ‹æ˜¯ä¸ºäº†è¯†åˆ«æµè§ˆå™¨çš„ç‰¹æ®Šè¡Œä¸ºï¼Œä¸»è¦æ˜¯æƒ³çŸ¥é“æµè§ˆå™¨å­˜åœ¨ä»€ä¹ˆç¼ºé™·ã€‚ ç”¨æˆ·ä»£ç†æ£€æµ‹äº‰è®®æœ€å¤§çš„ä¸€ç§å®¢æˆ·ç«¯æ£€æµ‹æŠ€æœ¯ï¼Œé€šè¿‡æ£€æµ‹ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ¥ç¡®å®šå®žé™…ä½¿ç”¨çš„æµè§ˆå™¨ã€‚åœ¨æ¯ä¸€æ¬¡HTTPè¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ˜¯ä½œä¸ºå“åº”é¦–éƒ¨å‘é€çš„ï¼Œå¯ä»¥é€šè¿‡navigator.userAgentè®¿é—®åœ¨æœåŠ¡å™¨ç«¯å¸¸ç”¨ç”¨æˆ·ä»£ç†æ£€æµ‹ï¼Œåœ¨å®¢æˆ·ç«¯åˆ™æ˜¯è¢«å½“ä½œä¸€ç§ä¸‡ä¸å¾—å·²çš„åšæ³•ã€‚ ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ£€æµ‹ï¼šå®Œæ•´ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167var client = function()&#123; //rendering engines var engine = &#123; ie: 0, gecko: 0, webkit: 0, khtml: 0, opera: 0, //complete version ver: null &#125;; //browsers var browser = &#123; //browsers ie: 0, firefox: 0, safari: 0, konq: 0, opera: 0, chrome: 0, //specific version ver: null &#125;;//platform/device/OS var system = &#123; win: false, mac: false, x11: false, //mobile devices iphone: false, ipod: false, ipad: false, ios: false, android: false, nokiaN: false, winMobile: false, //game systems wii: false, ps: false &#125;; //detect rendering engines/browsers var ua = navigator.userAgent; if (window.opera) &#123; engine.ver = browser.ver = window.opera.version(); engine.opera = browser.opera = parseFloat(engine.ver); &#125; else if (/AppleWebKit\/(\S+)/.test(ua))&#123; engine.ver = RegExp["$1"]; engine.webkit = parseFloat(engine.ver); //figure out if it's Chrome or Safari if (/Chrome\/(\S+)/.test(ua))&#123; browser.ver = RegExp["$1"]; browser.chrome = parseFloat(browser.ver); &#125; else if (/Version\/(\S+)/.test(ua))&#123; browser.ver = RegExp["$1"]; browser.safari = parseFloat(browser.ver); &#125; else &#123; //approximate version var safariVersion = 1; if (engine.webkit &lt; 100)&#123; safariVersion = 1; &#125; else if (engine.webkit &lt; 312)&#123; safariVersion = 1.2; &#125; else if (engine.webkit &lt; 412)&#123; safariVersion = 1.3; &#125; else &#123; safariVersion = 2; &#125; browser.safari = browser.ver = safariVersion; &#125; &#125; else if (/KHTML\/(\S+)/.test(ua) || /Konqueror\/([^;]+)/.test(ua))&#123; engine.ver = browser.ver = RegExp["$1"]; engine.khtml = browser.konq = parseFloat(engine.ver); &#125; else if (/rv:([^\)]+)\) Gecko\/\d&#123;8&#125;/.test(ua))&#123; engine.ver = RegExp["$1"]; engine.gecko = parseFloat(engine.ver); //determine if it's Firefox if (/Firefox\/(\S+)/.test(ua))&#123; browser.ver = RegExp["$1"]; browser.firefox = parseFloat(browser.ver); &#125; &#125; else if (/MSIE ([^;]+)/.test(ua))&#123; engine.ver = browser.ver = RegExp["$1"]; engine.ie = browser.ie = parseFloat(engine.ver); &#125; //detect browsers browser.ie = engine.ie; browser.opera = engine.opera; //detect platform var p = navigator.platform; system.win = p.indexOf("Win") == 0; system.mac = p.indexOf("Mac") == 0; system.x11 = (p == "X11") || (p.indexOf("Linux") == 0); //detect windows operating systems if (system.win)&#123; if (/Win(?:dows )?([^do]&#123;2&#125;)\s?(\d+\.\d+)?/.test(ua))&#123; if (RegExp["$1"] == "NT")&#123; switch(RegExp["$2"])&#123; case "5.0": system.win = "2000"; break; case "5.1": system.win = "XP"; break; case "6.0": system.win = "Vista"; break; case "6.1": system.win = "7"; break; default: system.win = "NT"; break; &#125; &#125; else if (RegExp["$1"] == "9x")&#123; system.win = "ME"; &#125; else &#123; system.win = RegExp["$1"]; &#125; &#125; &#125; //mobile devices system.iphone = ua.indexOf("iPhone") &gt; -1; system.ipod = ua.indexOf("iPod") &gt; -1; system.ipad = ua.indexOf("iPad") &gt; -1; system.nokiaN = ua.indexOf("NokiaN") &gt; -1; //windows mobile if (system.win == "CE") &#123; system.winMobile = system.win; &#125; else if (system.win == "Ph")&#123; if(/Windows Phone OS (\d+.\d+)/.test(ua))&#123;; system.win = "Phone"; system.winMobile = parseFloat(RegExp["$1"]); &#125; &#125; //determine iOS version if (system.mac &amp;&amp; ua.indexOf("Mobile") &gt; -1)&#123; if (/CPU (?:iPhone )?OS (\d+_\d+)/.test(ua))&#123; system.ios = parseFloat(RegExp.$1.replace("_", ".")); &#125; else &#123; system.ios = 2; //can't really detect - so guess &#125; &#125; //determine Android version if (/Android (\d+\.\d+)/.test(ua)) &#123; system.android = parseFloat(RegExp.$1); &#125; //gaming systems system.wii = ua.indexOf("Wii") &gt; -1; system.ps = /playstation/i.test(ua); //return it return &#123; engine: engine, browser: browser, system: system &#125;;&#125;(); DOMæ–‡æ¡£å¯¹è±¡æ¨¡åž‹DOMæç»˜äº†ä¸€ä¸ªå±‚æ¬¡åŒ–çš„èŠ‚ç‚¹æ ‘ï¼Œå…è®¸å¼€å‘äººå‘˜æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹é¡µé¢çš„æŸä¸€éƒ¨åˆ†ã€‚IEä¸­DOMå¯¹è±¡éƒ½æ˜¯ä»¥COMå¯¹è±¡çš„å½¢å¼å®žçŽ°çš„ã€‚æ–‡æ¡£èŠ‚ç‚¹æ˜¯æ¯ä¸ªæ–‡æ¡£çš„æ ¹èŠ‚ç‚¹ã€‚åœ¨HTMLé¡µé¢ä¸­ï¼Œ&lt;html&gt;æ˜¯æ–‡æ¡£èŠ‚ç‚¹çš„å”¯ä¸€å­èŠ‚ç‚¹ï¼Œç§°ä¹‹ä¸ºæ–‡æ¡£å…ƒç´ ã€‚æ–‡æ¡£å…ƒç´ æ˜¯æ–‡æ¡£çš„æœ€å¤–å±‚å…ƒç´ ï¼Œæ–‡æ¡£çš„å…¶ä»–æ‰€æœ‰å…ƒç´ éƒ½åŒ…å«åœ¨æ–‡æ¡£å…ƒç´ ä¸­ã€‚æ¯ä¸ªæ–‡æ¡£åªæœ‰ä¸€ä¸ªæ–‡æ¡£å…ƒç´ ã€‚ Nodeç±»åž‹ï¼ˆIEä¸æ”¯æŒï¼‰Javascriptä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ç±»åž‹éƒ½ç»§æ‰¿è‡ªNodeç±»åž‹ï¼Œå› æ­¤æ‰€æœ‰èŠ‚ç‚¹ç±»åž‹éƒ½å…±äº«ç€ç›¸åŒçš„åŸºæœ¬å±žæ€§å’Œæ–¹æ³•ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªnodeTypeå±žæ€§ï¼šæœ€å¸¸ç”¨ï¼šå¦‚æžœèŠ‚ç‚¹æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œåˆ™ nodeType å±žæ€§å°†è¿”å›ž 1ã€‚å¦‚æžœèŠ‚ç‚¹æ˜¯å±žæ€§èŠ‚ç‚¹ï¼Œåˆ™ nodeType å±žæ€§å°†è¿”å›ž 2ã€‚ nodeNameå’ŒnodeValue èŠ‚ç‚¹å…³ç³»æ–‡æ¡£ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹ä¹‹é—´éƒ½å­˜åœ¨è¿™æ ·æˆ–é‚£æ ·çš„å…³ç³»ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰childNodeså±žæ€§ï¼Œå…¶ä¸­ä¿å­˜ç€ä¸€ä¸ªNodeListå¯¹è±¡ï¼Œè¿™æ˜¯ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼ˆä¸æ˜¯Arrayçš„å®žä¾‹ï¼‰ï¼Œç”¨äºŽä¿å­˜ä¸€ç»„æœ‰åºçš„èŠ‚ç‚¹ã€‚NodeListçš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºŽï¼Œå®ƒå®žé™…ä¸Šæ˜¯åŸºäºŽDOMç»“æž„åŠ¨æ€æ‰§è¡ŒæŸ¥è¯¢çš„ç»“æžœï¼Œå› æ­¤DOMç»“æž„çš„å˜åŒ–èƒ½å¤Ÿè‡ªåŠ¨åæ˜ åœ¨NodeListä¸­ã€‚123var firstChild = someNode.childNodes[0];var secondChild = someNode.childNodes.item(1);var count = someNode.childNodes.length; å°†NodeListå¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ï¼š12//IE8åŠä¹‹å‰ç‰ˆæœ¬æ— æ•ˆvar arrayOfNodes = Array.prototype.slice.call(some.childNodes,0); å°†NodeListå¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ï¼Œé€‚ç”¨äºŽæ‰€æœ‰æµè§ˆå™¨ä¸­123456789101112function convertToArray(nodes) &#123; var array = null; try&#123; array = Array.prototype.slice.call(nodes,0); &#125;catch(ex) &#123; array = new Array(); for(var i = 0; i &lt; nodes.length; i++) &#123; array.push(nodes[i]); &#125; &#125; return array;&#125; æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªparentNodeå±žæ€§ï¼Œè¯¥å±žæ€§æŒ‡å‘æ–‡æ¡£æ ‘ä¸­çš„çˆ¶èŠ‚ç‚¹ã€‚å…„å¼ŸèŠ‚ç‚¹ï¼špreviousSiblingå’ŒnextSiblingç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œæœ€åŽä¸€ä¸ªèŠ‚ç‚¹ï¼šfirstChildå’ŒlastChildæœ€åŽè¿˜æœ‰ä¸€ä¸ªå±žæ€§æ˜¯ownerDocumentï¼Œè¯¥å±žæ€§æŒ‡å‘è¡¨ç¤ºæ•´ä¸ªæ–‡æ¡£çš„æ–‡æ¡£èŠ‚ç‚¹ã€‚ æ“ä½œèŠ‚ç‚¹æ·»åŠ èŠ‚ç‚¹å’Œæ’å…¥èŠ‚ç‚¹ï¼šappendChild()å’ŒinsertBefore()12var returnNode = someNode.appendChild(someNode.firstChild);var returnNode = someNode.insertBefore(newNode,null); è‡ªå®šä¹‰å®žçŽ°çš„insertAfter()å‡½æ•°12345678function insertAfter(newElement, targetElement) &#123; var parent = targetElement.parentNode; if (parent.lastChild == targetElement) &#123; parent.appendChild(newElement); &#125;else&#123; parent.insertBefore(newElement, targetElement.nextSibling); &#125;&#125; æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œéœ€è¦æ’å…¥çš„èŠ‚ç‚¹å’Œç›®æ ‡èŠ‚ç‚¹ï¼ˆåœ¨è¯¥èŠ‚ç‚¹åŽæ’å…¥ï¼‰ replaceNode()æ›¿æ¢èŠ‚ç‚¹ï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šè¦æ’å…¥çš„èŠ‚ç‚¹å’Œè¦æ›¿æ¢çš„èŠ‚ç‚¹ã€‚cloneNode()å…‹éš†èŠ‚ç‚¹ï¼Œç”¨äºŽåˆ›å»ºè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„èŠ‚ç‚¹çš„ä¸€ä¸ªå®Œå…¨ç›¸åŒçš„å‰¯æœ¬ã€‚åªæŽ¥æ”¶ä¸€ä¸ªå¸ƒå°”å€¼å‚æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰§è¡Œæ·±å¤åˆ¶ã€‚åœ¨å‚æ•°ä¸ºtrueæ—¶ï¼Œæ‰§è¡Œæ·±å¤åˆ¶ï¼Œä¹Ÿå°±æ˜¯å¤åˆ¶èŠ‚ç‚¹åŠå…¶æ•´ä¸ªå­èŠ‚ç‚¹æ ‘ã€‚normalize()ï¼Œå”¯ä¸€çš„ä½œç”¨æ˜¯å¤„ç†æ–‡æ¡£æ ‘ä¸­çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚å½“æŸä¸ªèŠ‚ç‚¹è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šåœ¨è¯¥èŠ‚ç‚¹çš„åŽä»£èŠ‚ç‚¹ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ç©ºæ–‡æœ¬èŠ‚ç‚¹æˆ–è¿žç»­ä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œå¦‚æžœæœ‰ç©ºæ–‡æœ¬èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤ï¼›å¦‚æžœæ‰¾åˆ°ç›¸é‚»çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œåˆ™å°†ä»–ä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚ Documentç±»åž‹åœ¨æµè§ˆå™¨ä¸­ï¼Œdocumentå¯¹è±¡æ˜¯HTMLDocument(ç»§æ‰¿è‡ªDocumentç±»åž‹)çš„ä¸€ä¸ªå®žä¾‹ï¼Œè¡¨ç¤ºæ•´ä¸ªHTMLé¡µé¢ã€‚æ­¤å¤–ï¼Œdocumentå¯¹è±¡æ˜¯windowå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§ï¼Œå› æ­¤å¯ä»¥å°†å…¶ä½œä¸ºå…¨å±€å¯¹è±¡æ¥è®¿é—®ã€‚1.æ–‡æ¡£çš„å­èŠ‚ç‚¹å†…ç½®çš„è®¿é—®å…¶å­èŠ‚ç‚¹çš„å¿«æ·æ–¹å¼ï¼šdocument.documentElementå±žæ€§å’ŒchildNodeåˆ—è¡¨ã€‚bodyå±žæ€§ï¼Œdocument.bodyç›´æŽ¥æŒ‡å‘&lt;body&gt;å…ƒç´ ã€‚ é€šè¿‡document.doctypeèŽ·å–&lt;!DOCTYPE&gt;çš„å¼•ç”¨ï¼ˆå„ä¸ªæµè§ˆå™¨çš„æ”¯æŒä¸ä¸€è‡´ï¼Œå› æ­¤è¿™ä¸ªå±žæ€§çš„ç”¨å¤„å¾ˆæœ‰é™ï¼‰ 2.æ–‡æ¡£ä¿¡æ¯èŽ·å–æ–‡æ¡£æ ‡é¢˜ï¼šdocument.titleï¼›è®¾ç½®æ–‡æ¡£æ ‡é¢˜ï¼šdocument.title = â€œNew page titleâ€èŽ·å–URLï¼šdocument.URLèŽ·å–åŸŸåï¼šdocument.domainèŽ·å–æ¥æºé¡µé¢çš„URLï¼šdocument.referrerURLå’Œdomainå±žæ€§æ˜¯ç›¸äº’å…³è”çš„ã€‚egï¼šURLæ˜¯http://www.wrox.com/WileyCDA/ï¼Œé‚£ä¹ˆåŸŸådomainåˆ™æ˜¯www.wrox.comè¿™ä¸‰ä¸ªå±žæ€§ï¼Œåªæœ‰åŸŸådomainå¯ä»¥è®¾ç½®ã€‚å¯ä»¥é€šè¿‡è®¾ç½®document.domainæ¥å®žçŽ°jsè·¨åŸŸé€šä¿¡ã€‚æµè§ˆå™¨å¯¹domainå±žæ€§æœ‰ä¸€ä¸ªé™åˆ¶ï¼Œå³å¦‚æžœåŸŸåä¸€å¼€å§‹æ˜¯â€æ¾æ•£çš„â€œï¼Œé‚£ä¹ˆä¸èƒ½å°†å®ƒå†è®¾ç½®ä¸ºâ€ç´§ç»·çš„â€œã€‚æ¢å¥è¯è¯´ï¼ŒåŽŸæ¥çš„document.domainä¸ºâ€p2p.wrox.comâ€œï¼Œåœ¨å°†document.domainè®¾ç½®ä¸ºâ€wrox.comâ€œä¹‹åŽï¼Œå°±ä¸èƒ½å†å°†å…¶è®¾ç½®å›žåŽŸæ¥çš„åŸŸåâ€p2p.wrox.comâ€œã€‚ 3.æŸ¥æ‰¾å…ƒç´ document.getElementById()å’Œdocument.getElementsByTagName()å¦‚æžœæœ‰å¤šä¸ªç›¸åŒçš„idï¼Œdocument.getElementById()åˆ™åªè¿”å›žæ–‡æ¡£ä¸­ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„å…ƒç´ ã€‚IE7åŠè¾ƒä½Žç‰ˆæœ¬ï¼Œä¸åŒºåˆ†IDå¤§å°å†™ï¼Œå¹¶ä¸”document.getElementById()ä¸­ä¼ å…¥çš„æ˜¯æŸä¸ªå…ƒç´ çš„nameå±žæ€§çš„å€¼ï¼Œä¹Ÿä¼šè¿”å›žç›¸åº”å…ƒç´ ã€‚123document.getElementsByName(),è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›žå¸¦æœ‰ç‰¹å®šnameç‰¹æ€§çš„æ‰€æœ‰å…ƒç´ ã€‚æœ€å¸¸ç”¨åœ¨èŽ·å–å•é€‰æŒ‰é’®ä¸­ã€‚document.getElementByClassName()ï¼ˆé€šè¿‡ç±»åèŽ·å–å…ƒç´ ï¼Œåªæ”¯æŒåœ¨è¾ƒé«˜çº§çš„æµè§ˆå™¨ä¸­ï¼Œä¸”ä¸å®Œå…¨æ”¯æŒï¼Œæ…Žç”¨ï¼‰ 4.ç‰¹æ®Šé›†åˆdocument.anchorsï¼ŒåŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰å¸¦nameç‰¹æ€§çš„&lt;a&gt;å…ƒç´ ï¼›document.appletsï¼ŒåŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰çš„&lt;applets&gt;å…ƒç´ ï¼›document.formsï¼ŒåŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰d&lt;form&gt;å…ƒç´ ï¼›document.imagesï¼ŒåŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰d&lt;img&gt;å…ƒç´ ï¼›document.linksï¼ŒåŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰å¸¦hrefç‰¹æ€§çš„&lt;a&gt;å…ƒç´ ï¼› 5.DOMä¸€è‡´æ€§æ£€æµ‹ï¼ˆåº”è¯¥åœ¨èƒ½åŠ›æ£€æµ‹å®ŒæˆåŽè¿›è¡Œï¼‰DOMåˆ†ä¸ºå¤šä¸ªçº§åˆ«ï¼Œä¹ŸåŒ…å«å¤šä¸ªéƒ¨åˆ†ï¼Œå› æ­¤æ£€æµ‹æµè§ˆå™¨å®žçŽ°äº†DOMçš„å“ªäº›éƒ¨åˆ†å°±ååˆ†å¿…è¦äº†ã€‚document.implementationå±žæ€§å°±æ˜¯ä¸ºæ­¤æä¾›ç›¸åº”ä¿¡æ¯å’ŒåŠŸèƒ½çš„å¯¹è±¡ï¼Œä¸Žæµè§ˆå™¨å¯¹DOMçš„å®žçŽ°ç›´æŽ¥å¯¹åº”ã€‚DOM1çº§çš„document.implementationåªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼ŒhasFeature()ã€‚è¯¥æ–¹æ³•åªæŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦æ£€æµ‹çš„DOMåŠŸèƒ½çš„åç§°åŠç‰ˆæœ¬å·ã€‚å¦‚æžœæµè§ˆå™¨æ”¯æŒç»™å®šåç§°å’Œç‰ˆæœ¬å·ï¼Œåˆ™è¿”å›žtrue. 6.æ–‡æ¡£å†™å…¥document.write()ã€document.writeln()ã€document.open()ã€document.close() Elementç±»åž‹1.HTMLå…ƒç´ å±žæ€§ï¼šidï¼Œtitleï¼Œlangï¼Œdirï¼ˆè¯­è¨€æ–¹å‘ï¼‰ï¼ŒclassName 2.å–å¾—ç‰¹æ€§getAttribute();ç‰¹åˆ«çš„ï¼ŒèŽ·å–å…ƒç´ çš„ç±»åæ˜¯getAttribute(â€œclassâ€)ï¼Œè€Œä¸æ˜¯getAttribute(â€œclassNameâ€)ã€‚æœ‰ä¸¤ç±»ç‰¹æ®Šçš„ç‰¹æ€§ï¼šstyleå’Œç±»ä¼¼onclickè¿™æ ·çš„äº‹ä»¶å¤„ç†ç¨‹åºé€šè¿‡getAttribute()èŽ·å–çš„styleï¼Œè¿”å›žçš„æ˜¯CSSæ–‡æœ¬ï¼Œè€Œé€šè¿‡å±žæ€§è®¿é—®å®ƒåˆ™è¿”å›žä¸€ä¸ªå¯¹è±¡ã€‚é€šè¿‡getAttribute()èŽ·å–çš„onclickï¼Œè¿”å›žçš„æ˜¯ç›¸åº”çš„jsä»£ç å­—ç¬¦ä¸²ï¼Œè€Œé€šè¿‡å±žæ€§è®¿é—®å®ƒåˆ™è¿”å›žä¸€ä¸ªjavascriptå‡½æ•°ã€‚ 3.è®¾ç½®ç‰¹æ€§setAttribute();å¦‚æžœè®¾ç½®çš„ç‰¹æ€§ä¸å­˜åœ¨ï¼ŒsetAttribute()åˆ™åˆ›å»ºè¯¥å±žæ€§å¹¶è®¾ç½®ç›¸åº”çš„å€¼ã€‚ 4.æ¸…é™¤ç‰¹æ€§removeAttribute(); 5.attributeså±žæ€§Elementç±»åž‹æ˜¯ä½¿ç”¨attributeså±žæ€§çš„å”¯ä¸€ä¸€ä¸ªDOMèŠ‚ç‚¹ç±»åž‹ã€‚attributeså±žæ€§åŒ…å«ä¸€ä¸ªNameNodeMapï¼Œä¸ŽNodeListç±»ä¼¼ã€‚NameNodeMapæ‹¥æœ‰ä¸‹åˆ—æ–¹æ³•ï¼šgetNamedItem(name)ï¼šè¿”å›žnodeNameå±žæ€§ç­‰äºŽnameçš„èŠ‚ç‚¹ï¼›removeNamedItem(name)ï¼šä»Žåˆ—è¡¨ä¸­åˆ é™¤nodeNameå±žæ€§ç­‰äºŽnameçš„èŠ‚ç‚¹ï¼›setNamedItem(node)ï¼šå‘åˆ—è¡¨æ·»åŠ èŠ‚ç‚¹ï¼Œä»¥èŠ‚ç‚¹çš„nodeNameå±žæ€§ä¸ºç´¢å¼•ï¼›item(pos)ï¼šè¿”å›žä½äºŽæ•°å­—posä½ç½®å¤„çš„èŠ‚ç‚¹ã€‚12var id = element.attributes.getNamedItem("id").nodeValue;var id = element.attributes["id"].nodeValue; 6.åˆ›å»ºå…ƒç´ 12document.createElement()var div =document.createElement("&lt;div id=\"myNewDiv\" class=\"box\"&gt;&lt;/div&gt;"); 7.å…ƒç´ çš„å­èŠ‚ç‚¹å…ƒç´ å¯ä»¥æœ‰ä»»æ„æ•°ç›®çš„å­èŠ‚ç‚¹å’ŒåŽä»£èŠ‚ç‚¹ã€‚èŽ·å–å­èŠ‚ç‚¹æ—¶é€šå¸¸è¦åˆ¤æ–­èŠ‚ç‚¹ç±»åž‹ï¼Œè¿›è¡Œç›¸åº”çš„æ“ä½œã€‚12345for(var i=0,len=element.childNodes.length;i&lt;len;i++)&#123; if(element.childNodes[i].nodeType==1)&#123; //dosomething &#125;&#125; Textç±»åž‹nodeType=3ï¼Œä¸æ”¯æŒå­èŠ‚ç‚¹ï¼›appendData(text)ï¼šå°†textæ·»åŠ åˆ°èŠ‚ç‚¹æœ«å°¾deleteData(offset,count)ï¼šä»ŽoffsetæŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ é™¤countä¸ªå­—ç¬¦insertData(offset,text)ï¼šä»ŽoffsetæŒ‡å®šä½ç½®æ’å…¥textreplaceData(offset,count,text)ï¼šç”¨textæ›¿æ¢ä»ŽoffsetæŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ°offset+countä¸ºæ­¢å¤„çš„æ–‡æœ¬splitData(offset)ï¼šä»ŽoffsetæŒ‡å®šçš„ä½ç½®å°†å½“å‰æ–‡æœ¬èŠ‚ç‚¹åˆ†æˆä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚substringData(offset,count)ï¼šæå–ä»ŽoffsetæŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ°offset+countä¸ºæ­¢å¤„çš„å­—ç¬¦ä¸²ç©ºæ ¼å’Œæ¢è¡Œä¹Ÿç®—ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹1.åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹document.createTextNode(); 2.è§„èŒƒåŒ–æ–‡æœ¬èŠ‚ç‚¹ä½¿ç”¨normalize()æ–¹æ³•ï¼Œå°†ç©ºæ–‡æœ¬èŠ‚ç‚¹åˆ é™¤ï¼Œå°†è¿žç»­çš„ä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹åˆå¹¶ 3.åˆ†å‰²æ–‡æœ¬èŠ‚ç‚¹ä½¿ç”¨splitText()ï¼Œå°†ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹åˆ†æˆä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œä¸Žnormalizeç›¸å Commentç±»åž‹DOMä¸­çš„æ³¨é‡Šç±»åž‹ï¼Œä¸ŽTextç±»åž‹ç»§æ‰¿è‡ªç›¸åŒçš„åŸºç±»ï¼Œå› æ­¤å®ƒæ‹¥æœ‰é™¤splitText()ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•å¯ä»¥é€šè¿‡nodeValueæˆ–dataå±žæ€§æ¥èŽ·å–æ³¨é‡Šçš„å†…å®¹1234&lt;div id="mydiv"&gt;&lt;!--A comment--&gt;&lt;/div&gt;var div = documemt.getElementById("mydiv");var comment = div.firstChild;alert(comment.data); //A comment CDATASectionç±»åž‹åªé’ˆå¯¹äºŽXMLçš„æ–‡æ¡£ï¼Œè¡¨ç¤ºçš„æ˜¯CDATAåŒºåŸŸ DocumentTypeç±»åž‹ä»…æœ‰firefoxã€Safariå’ŒOperaæ”¯æŒï¼ŒåŒ…å«ç€ä¸Žæ–‡æ¡£çš„doctypeç›¸å…³çš„ä¿¡æ¯ã€‚æ²¡æœ‰å­èŠ‚ç‚¹ã€‚ DocumentFragmentç±»åž‹æ‰€æœ‰èŠ‚ç‚¹ç±»åž‹ä¸­ï¼Œåªæœ‰DocumentFragmentåœ¨æ–‡æ¡£ä¸­æ²¡æœ‰å¯¹åº”çš„æ ‡è®°ã€‚12345678910var fragment = document.createDocumentFragment();var ul = document.getElementById("mylist");var li = null;for(var i = 0; i &lt; 3; i++)&#123; li = document.createElement("li"); li.appendChild(document.createTextNode("Item "+(i+1))); fragment.appendChild(li);&#125;ul.appendChild(fragment); Attrç±»åž‹å…ƒç´ çš„ç‰¹æ€§åœ¨DOMä¸­å·²Attrç±»åž‹æ¥è¡¨ç¤ºã€‚ç‰¹æ€§å°±æ˜¯å­˜åœ¨äºŽattributeså±žæ€§ä¸­çš„èŠ‚ç‚¹ã€‚Attræœ‰3ä¸ªå±žæ€§ï¼šnameã€valueå’Œspecifiedï¼ˆå¸ƒå°”å€¼ï¼Œç”¨ä»¥åŒºåˆ«ç‰¹æ€§æ˜¯åœ¨ä»£ç ä¸­æŒ‡å®šçš„ï¼Œè¿˜æ˜¯é»˜è®¤çš„ï¼‰ã€‚æœ‰ä¸‹åˆ—æ–¹æ³•ï¼ˆä¸å¸¸ç”¨ï¼‰ï¼šcreateAttribute()ã€setAttributeNode()å’ŒgetAttributeNode()]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2017%2F05%2F12%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[é¢å‘å¯¹è±¡çš„JavaScriptECMAScriptä¸­æœ‰ä¸¤ç§å±žæ€§ï¼šæ•°æ®å±žæ€§å’Œè®¿é—®å™¨å±žæ€§æ•°æ®å±žæ€§ï¼šconfigurableã€enumerableã€writableã€valueåªèƒ½ä½¿ç”¨Object.defineProperty()æ–¹æ³•æ‰å¯ä»¥ä¿®æ”¹å±žæ€§é»˜è®¤çš„ç‰¹æ€§ã€‚è¯¥æ–¹æ³•æŽ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šå±žæ€§æ‰€åœ¨çš„å¯¹è±¡ï¼Œå±žæ€§çš„åå­—å’Œä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡å¯ä»¥å¤šæ¬¡è°ƒç”¨Object.defineProperty()æ–¹æ³•ä¿®æ”¹åŒä¸€å±žæ€§ï¼Œä½†åœ¨æŠŠconfigurableç‰¹æ€§è®¾ç½®ä¸ºfalseåŽå°±ä¼šæœ‰é™åˆ¶äº†ã€‚ è®¿é—®å™¨å±žæ€§ï¼šconfigurableã€enumerableã€getã€setå˜é‡åä»¥ä¸‹åˆ’çº¿å¼€å¤´ï¼ˆ_yearï¼‰ï¼Œç”¨äºŽè¡¨ç¤ºåªèƒ½é€šè¿‡å¯¹è±¡æ–¹æ³•è®¿é—®çš„å±žæ€§ã€‚Object.defineProperties()å¯ä»¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±žæ€§ã€‚1234567891011121314151617181920var book=&#123;&#125;;Object.defineProperties(book, &#123; _year: &#123; value: 2004 &#125;, edition: &#123; value: 1 &#125;, year: &#123; get: function()&#123; return this._year; &#125;, set: function(newValue)&#123; if(newValue &gt; 2004)&#123; this._year = newValue; this.edition += newValue-2004; &#125; &#125; &#125;&#125;); Object.getOwnPropertyDescriptor()æ–¹æ³•å¯ä»¥å–å¾—ç»™å®šå±žæ€§çš„æè¿°ç¬¦ï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå±žæ€§æ‰€åœ¨å¯¹è±¡å’Œè¦è¯»å–å…¶æè¿°ç¬¦çš„å±žæ€§åç§°1var descriptor=Object.getOwnPropertyDescriptor(book,"_year"); åˆ›å»ºå¯¹è±¡å·¥åŽ‚æ¨¡å¼ï¼šæŠ½è±¡äº†åˆ›å»ºå…·ä½“å¯¹è±¡çš„è¿‡ç¨‹ã€‚(æ²¡æœ‰è§£å†³å¯¹è±¡è¯†åˆ«é—®é¢˜)1234567891011function createPerson(name,age,job)&#123; var o = new Object(); o.name=name; o.age=age; o.job=job; o.sayName=function()&#123; alert(this.name); &#125; return o;&#125;var person=createPerson("Peter",22,"Student"); æž„é€ å‡½æ•°æ¨¡å¼ï¼šåˆ›å»ºè‡ªå®šä¹‰çš„æž„é€ å‡½æ•°ï¼Œä»Žè€Œå®šä¹‰è‡ªå®šä¹‰å¯¹è±¡ç±»åž‹çš„å±žæ€§å’Œæ–¹æ³•function Person(name,age,job){ this.name=name; this.age=age; this.job=job; this.sayName=function(){ alert(this.name); }}var person=new Person(â€œPeterâ€,22,â€Studentâ€); ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨æž„é€ å‡½æ•°ä¼šç»åŽ†4ä¸ªæ­¥éª¤ï¼šï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œåˆ†é…å †å†…å­˜ï¼›ï¼ˆ2ï¼‰å°†æž„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰ï¼›ï¼ˆ3ï¼‰æ‰§è¡Œæž„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±žæ€§ï¼‰ï¼›ï¼ˆ4ï¼‰è¿”å›žæ–°å¯¹è±¡ã€‚ æž„é€ å‡½æ•°çš„ç¼ºç‚¹ï¼šæ¯ä¸ªæ–¹æ³•éƒ½è¦åœ¨æ¯ä¸ªå®žä¾‹ä¸Šé‡æ–°åˆ›å»ºä¸€éã€‚è§£å†³æ–¹æ³•ï¼šå°†æž„é€ å‡½æ•°ä¸­çš„æ–¹æ³•è½¬ç§»åˆ°æž„é€ å‡½æ•°å¤–éƒ¨ï¼Œæˆä¸ºå…¨å±€çš„å‡½æ•°æ–¹æ³•ã€‚ åŽŸåž‹æ¨¡å¼ï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰prototypeå±žæ€§ï¼Œè¿™ä¸ªå±žæ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡çš„ç”¨é€”æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»åž‹çš„æ‰€æœ‰å®žä¾‹å…±äº«çš„å±žæ€§å’Œæ–¹æ³•ã€‚ä½¿ç”¨åŽŸåž‹å¯¹è±¡çš„å¥½å¤„æ˜¯å¯ä»¥è®©æ‰€æœ‰å¯¹è±¡å®žä¾‹å…±äº«å®ƒæ‰€åŒ…å«çš„çš„å±žæ€§å’Œæ–¹æ³•ã€‚123456789function Person()&#123;&#125;Person.prototype.name = "Peter";Person.prototype.age = 22;Person.prototype.job = "Student";Person.prototype.sayName = function()&#123; alert(this.name);&#125;var person =new Person();//Person.prototype.constructoræŒ‡å‘Person. ECMAScript 5 ä¸­å¢žåŠ ä¸€ä¸ªæ–°æ–¹æ³•ï¼šObject.getPrototypeOf()ï¼Œè¿”å›žå¯¹è±¡çš„åŽŸåž‹ã€‚ä¸èƒ½é€šè¿‡å¯¹è±¡å®žä¾‹é‡å†™åŽŸåž‹ä¸­çš„å€¼ã€‚å½“ä¸ºå¯¹è±¡å®žä¾‹æ·»åŠ å±žæ€§æ—¶ï¼Œè¿™ä¸ªå±žæ€§ä¼šå±è”½åŽŸåž‹å¯¹è±¡ä¸­ä¿å­˜çš„åŒåå±žæ€§ ä½¿ç”¨hasOwnPrototype()æ–¹æ³•å¯ä»¥æ£€æµ‹ä¸€ä¸ªå±žæ€§æ—¶å­˜åœ¨äºŽå®žä¾‹ä¸­ï¼Œè¿˜æ˜¯å­˜åœ¨äºŽåŽŸåž‹ä¸­ã€‚è¿™ä¸ªæ–¹æ³•åªåœ¨ç»™å®šå±žæ€§å­˜åœ¨äºŽå¯¹è±¡å®žä¾‹ä¸­æ—¶ï¼Œæ‰ä¼šè¿”å›žtrue. inæ“ä½œç¬¦ï¼šä¼šåœ¨é€šè¿‡å¯¹è±¡èƒ½å¤Ÿè®¿é—®ç»™å®šå±žæ€§æ—¶è¿”å›žtrueï¼Œæ— è®ºè¯¥å±žæ€§å­˜åœ¨äºŽå®žä¾‹ä¸­è¿˜æ˜¯åŽŸåž‹ä¸­ã€‚(å¸¸ç”¨åœ¨for-inç»“æž„ä¸­)1234//åˆ¤æ–­å±žæ€§æ˜¯åœ¨å¯¹è±¡å®žä¾‹ä¸­ï¼Œè¿˜æ˜¯åœ¨åŽŸåž‹ä¸­function hasPrototypeProperty(object,name)&#123; return !object.hasOwnProperty(name) &amp;&amp; (name in object);&#125; è¦å–å¾—å¯¹è±¡ä¸Šæ‰€æœ‰å¯æžšä¸¾çš„å®žä¾‹å±žæ€§ï¼Œå¯ä»¥ä½¿ç”¨ECMAScript 5ä¸­çš„Oject.keys()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯æžšä¸¾å±žæ€§çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚è‹¥æƒ³å¾—åˆ°æ‰€æœ‰å®žä¾‹å±žæ€§ï¼Œæ— è®ºå®ƒæ˜¯å¦å¯æžšä¸¾ï¼Œéƒ½å¯ä»¥ä½¿ç”¨Object.getOwnPropertyNames()ã€‚å®žä¾‹ä¸ŽåŽŸåž‹ä¹‹é—´æ˜¯æ¾æ•£è¿žæŽ¥å…³ç³»ã€‚å®žä¾‹ä¸­çš„æŒ‡é’ˆä»…æŒ‡å‘åŽŸåž‹ï¼Œè€Œä¸æŒ‡å‘æž„é€ å‡½æ•°ã€‚ ä¸æŽ¨èç›´æŽ¥ä¿®æ”¹åŽŸç”Ÿå¯¹è±¡çš„åŽŸåž‹ï¼Œå¦‚æžœå› æŸä¸ªå®žçŽ°ä¸­ç¼ºå°‘æŸä¸ªæ–¹æ³•ï¼Œå°±åœ¨åŽŸç”Ÿå¯¹è±¡çš„åŽŸåž‹ä¸­æ·»åŠ è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå½“åœ¨å¦ä¸€ä¸ªæ”¯æŒè¯¥æ–¹æ³•çš„å®žçŽ°ä¸­è¿è¡Œä»£ç æ—¶ï¼Œå°±å¯èƒ½å¯¼è‡´å‘½åå†²çªã€‚è€Œä¸”ï¼Œè¿™æ ·åšä¹Ÿå¯èƒ½ä¼šæ„å¤–åœ°é‡å†™åŽŸç”Ÿæ–¹æ³•ã€‚ åŽŸåž‹å¯¹è±¡çš„é—®é¢˜ï¼šå› ä¸ºæ‰€æœ‰å®žä¾‹éƒ½å…±äº«åŽŸåž‹ä¸­çš„æ‰€æœ‰å±žæ€§ï¼Œæ‰€æœ‰æ— æ³•åšåˆ°å®žä¾‹çš„å±žæ€§ç§æœ‰åŒ–ã€‚ ç»„åˆä½¿ç”¨æž„é€ å‡½æ•°æ¨¡å¼å’ŒåŽŸåž‹æ¨¡å¼(ä½¿ç”¨æœ€å¹¿æ³›çš„)åˆ›å»ºè‡ªå®šä¹‰ç±»åž‹çš„æœ€å¸¸è§æ–¹å¼ï¼Œå°±æ˜¯ç»„åˆä½¿ç”¨æž„é€ å‡½æ•°æ¨¡å¼ä¸ŽåŽŸåž‹æ¨¡å¼ã€‚æž„é€ å‡½æ•°æ¨¡å¼ç”¨äºŽå®šä¹‰å®žä¾‹å±žæ€§ï¼Œè€ŒåŽŸåž‹æ¨¡å¼ç”¨äºŽå®šäºŽæ–¹æ³•å’Œå…±äº«çš„å±žæ€§ã€‚12345678910111213function Person(name,age,job)&#123; this.name=name; this.age=age; this.job=job; this.friends=["Shelby","Court"];&#125;Person.prototype=&#123; constructor : Person; sayName : function()&#123; alert(this.name); &#125;&#125; åŠ¨æ€åŽŸåž‹æ¨¡å¼æŠŠæ‰€æœ‰ä¿¡æ¯éƒ½å°è£…åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œè€Œé€šè¿‡åœ¨æž„é€ å‡½æ•°ä¸­åˆå§‹åŒ–åŽŸåž‹ï¼ˆä»…åœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼‰ï¼Œåˆä¿æŒäº†åŒæ—¶ä½¿ç”¨æž„é€ å‡½æ•°å’ŒåŽŸåž‹çš„ä¼˜ç‚¹ã€‚æ¢å¥è¯è¯´ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥æŸä¸ªåº”è¯¥å­˜åœ¨çš„æ–¹æ³•æ˜¯å¦æœ‰æ•ˆï¼Œæ¥å†³å®šæ˜¯å¦éœ€è¦åˆå§‹åŒ–åŽŸåž‹ã€‚1234567891011function Person(name,age,job)&#123; this.name=name; this.age=age; this.job=job;//æ£€æµ‹æ˜¯å¦å­˜åœ¨sayName()æ–¹æ³• if(typeof this.sayName != "function")&#123; Person.prototype.sayName = function()&#123; alert(this.name); &#125; &#125;&#125; ä½¿ç”¨åŠ¨æ€åŽŸåž‹æ¨¡å¼æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å¯¹è±¡å­—é¢é‡é‡å†™åŽŸåž‹ã€‚ å¯„ç”Ÿæž„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨ä»…ä»…æ˜¯å°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ï¼Œç„¶åŽå†è¿”å›žæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚1234567891011function Person(name,age,job)&#123; var o = new Object(); o.name=name; o.age=age; o.job=job; o.sayName=function()&#123; alert(this.name); &#125;; return o;&#125;var person = new Person("Peter",22,"Student"); è¿™ä¸ªæ¨¡å¼å¯ä»¥åœ¨ç‰¹æ®Šçš„æƒ…å†µä¸‹ç”¨æ¥ä¸ºå¯¹è±¡åˆ›å»ºæž„é€ å‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªå…·æœ‰é¢å¤–æ–¹æ³•çš„ç‰¹æ®Šæ•°ç»„ï¼Œç”±äºŽä¸èƒ½ç›´æŽ¥ä¿®æ”¹Arrayæž„é€ å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ï¼š12345678910function SpecialArray()&#123; var values = new Array(); values.push.apply(values,arguments); values.toPipedString = function()&#123; return this.join("|"); &#125; return values;&#125;var colors = new SpecialArray("red","green","blue");alert(colors.toPipedString()); è¯¥æ¨¡å¼ä¸‹ï¼Œè¿”å›žçš„å¯¹è±¡ä¸Žæž„é€ å‡½æ•°æˆ–è€…ä¸Žæž„é€ å‡½æ•°çš„åŽŸåž‹å±žæ€§ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ ï¼Œæž„é€ å‡½æ•°è¿”å›žçš„å¯¹è±¡ä¸Žåœ¨æž„é€ å‡½æ•°å¤–éƒ¨åˆ›å»ºçš„å¯¹è±¡æ²¡ä»€ä¹ˆä¸åŒã€‚ ç¨³å¦¥æž„é€ å‡½æ•°æ¨¡å¼ç¨³å¦¥å¯¹è±¡ï¼ŒæŒ‡çš„æ˜¯æ²¡æœ‰å…¬å…±å±žæ€§ï¼Œè€Œä¸”å…¶æ–¹æ³•ä¹Ÿä¸å¼•ç”¨thisçš„å¯¹è±¡ã€‚ç¨³å¦¥æž„é€ å‡½æ•°ä¸Žå¯„ç”Ÿæž„é€ å‡½æ•°ç±»ä¼¼ï¼Œä½†æœ‰ä¸¤ç‚¹ä¸åŒï¼šä¸€æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡çš„å®žä¾‹æ–¹æ³•ä¸å¼•ç”¨thisï¼›äºŒæ˜¯ä¸é€‚ç”¨newæ“ä½œç¬¦è°ƒç”¨æž„é€ å‡½æ•°ã€‚12345678910function Person(name,age,job)&#123; var o = new Object(); o.name = name; o.age = age; o.job = job; o.sayName=function()&#123; alert(name); &#125;; return o;&#125; ç»§æ‰¿1.ä½¿ç”¨åŽŸåž‹é“¾å®žçŽ°ç»§æ‰¿åŸºæœ¬æ€æƒ³ï¼šåˆ©ç”¨åŽŸåž‹è®©ä¸€ä¸ªå¼•ç”¨ç±»åž‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»åž‹çš„å±žæ€§å’Œæ–¹æ³•(å³è®©ä¸€ä¸ªå¼•ç”¨ç±»åž‹çš„åŽŸåž‹æŒ‡å‘äº†å¦ä¸€ä¸ªå¼•ç”¨ç±»åž‹)ã€‚æž„é€ å‡½æ•°ã€åŽŸåž‹å’Œå®žä¾‹çš„å…³ç³»ï¼šæ¯ä¸ªæž„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŽŸåž‹å¯¹è±¡ï¼ŒåŽŸåž‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æž„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œå®žä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŽŸåž‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆã€‚ å®žçŽ°åŽŸåž‹é“¾çš„åŸºæœ¬æ¨¡å¼ï¼š123456789101112131415161718192021function SuperType()&#123; this.property = true;&#125;SuperType.prototype.getSuperValue = function()&#123; return this.property;&#125;;function SubType()&#123; this.subproperty = false;&#125;//ç»§æ‰¿äº†SuperTypeSubType.prototype = new SuperType();SubType.prototype.getSubValue = function()&#123; return this.subproperty;&#125;;var instance = new SubType();alert(instance.getSuperValue()); //true å®žçŽ°çš„æœ¬è´¨ï¼šé‡å†™åŽŸåž‹å¯¹è±¡ï¼Œä»£ä¹‹ä»¥ä¸€ä¸ªæ–°ç±»åž‹çš„å®žä¾‹ã€‚æ‰€æœ‰å‡½æ•°çš„é»˜è®¤åŽŸåž‹éƒ½æ˜¯Objectçš„å®žä¾‹ï¼Œå› æ­¤é»˜è®¤åŽŸåž‹éƒ½ä¼šåŒ…å«ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼ŒæŒ‡å‘Object.prototypeã€‚è¿™ä¹Ÿæ˜¯æ‰€æœ‰è‡ªå®šä¹‰ç±»åž‹éƒ½ä¼šç»§æ‰¿toString(),valueOf()ç­‰é»˜è®¤æ–¹æ³•çš„æ ¹æœ¬åŽŸå› ã€‚ ç¡®å®šåŽŸåž‹å’Œå®žä¾‹çš„å…³ç³»ï¼šinstanceofå’ŒisPrototypeOf(); é€šè¿‡åŽŸåž‹é“¾å®žçŽ°ç»§æ‰¿æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºåŽŸåž‹æ–¹æ³•ã€‚å› ä¸ºè¿™æ ·åšä¼šé‡å†™åŽŸåž‹é“¾ã€‚ ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å®žä¾‹æ˜¯objectçš„å®žä¾‹ã€‚ä½¿ç”¨åŽŸåž‹é“¾å®žçŽ°ç»§æ‰¿çš„é—®é¢˜ï¼šï¼ˆ1ï¼‰ã€æ‰€æœ‰åŽŸåž‹é“¾ä¸Šçš„åŽŸåž‹éƒ½å…±äº«å±žæ€§ï¼›ï¼ˆ2ï¼‰ã€åœ¨åˆ›å»ºå­ç±»åž‹çš„å®žä¾‹æ—¶ï¼Œä¸èƒ½å‘è¶…ç±»åž‹çš„æž„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚ 2.å€Ÿç”¨æž„é€ å‡½æ•°åŸºæœ¬æ€æƒ³ï¼šåœ¨å­ç±»åž‹æž„é€ å‡½æ•°çš„å†…éƒ¨è°ƒç”¨è¶…ç±»åž‹æž„é€ å‡½æ•°ã€‚ä¸»è¦æ˜¯ä½¿ç”¨apply(),call()ã€‚12345678function SuperType()&#123; this.colors=["red","blue","green"];&#125;function SubType()&#123; //ç»§æ‰¿äº†SuperType SuperType.call(this);&#125; å€Ÿç”¨æž„é€ å‡½æ•°æœ‰ä¸ªä¼˜åŠ¿ï¼Œå³å¯ä»¥åœ¨å­ç±»åž‹æž„é€ å‡½æ•°ä¸­å‘è¶…ç±»åž‹æž„é€ å‡½æ•°ä¼ é€’å‚æ•°ã€‚ 3.ç»„åˆç»§æ‰¿ï¼ˆä¹Ÿå«ä¼ªç»å…¸ç»§æ‰¿ï¼‰æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼æŒ‡çš„æ˜¯å°†åŽŸåž‹é“¾å’Œå€Ÿç”¨æž„é€ å‡½æ•°çš„æŠ€æœ¯ç»„åˆåˆ°ä¸€å—ï¼Œä»Žè€Œå‘æŒ¥äºŒè€…ä¹‹é•¿çš„ä¸€ç§ç»§æ‰¿æ¨¡å¼ã€‚åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨åŽŸåž‹é“¾å®žçŽ°å¯¹åŽŸåž‹å±žæ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œè€Œé€šè¿‡å€Ÿç”¨æž„é€ å‡½æ•°æ¥å®žçŽ°å¯¹å®žä¾‹å±žæ€§çš„ç»§æ‰¿ã€‚1234567891011121314151617181920212223242526function SuperType(name)&#123; this.name = name; this.colors = ["red","blue","green"];&#125;SuperType.prototype.sayName = function()&#123; alert(this.name);&#125;function SubType(name,age)&#123; //ç»§æ‰¿å±žæ€§ SuperType.call(this,name); this.age = age;&#125;//ç»§æ‰¿æ–¹æ³•SubType.prototype = new SuperType();SubType.prototype.constructor = SubType;SubType.prototype.sayAge = function()&#123; alert(this.age);&#125;;var instance = new SubType("Peter",22);instance.colors.push("black");alert(instance.colors); // "red","blue","green","black"instance.sayName(); // Peterinstance.sayAge(); // 22 4.åŽŸåž‹å¼ç»§æ‰¿å€ŸåŠ©åŽŸåž‹å¯ä»¥åŸºäºŽå·²æœ‰çš„å¯¹è±¡åˆ›å»ºå¯¹è±¡ï¼ŒåŒæ—¶è¿˜ä¸å¿…å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»åž‹ã€‚12345function object(o)&#123; function F()&#123;&#125; F.prototype = o; return new F();&#125; åœ¨object()å‡½æ•°å†…éƒ¨ï¼Œå…ˆåˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ€§çš„æž„é€ å‡½æ•°ï¼Œç„¶åŽå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºè¿™ä¸ªæž„é€ å‡½æ•°çš„åŽŸåž‹ï¼Œæœ€åŽè¿”å›žè¿™ä¸ªä¸´æ—¶ç±»åž‹çš„ä¸€ä¸ªå®žä¾‹ã€‚ä»Žæœ¬è´¨ä¸Šè®²ï¼Œobject()å¯¹ä¼ å…¥å…¶ä¸­çš„å¯¹è±¡æ‰§è¡Œäº†ä¸€æ¬¡æµ…å¤åˆ¶ã€‚å°±æ˜¯å°†ä¸€ä¸ªå¯¹è±¡ä¼ å…¥object()å‡½æ•°ï¼Œç„¶åŽæ ¹æ®å…·ä½“éœ€æ±‚å¯¹å¾—åˆ°çš„å¯¹è±¡åŠ ä»¥ä¿®æ”¹ã€‚ ECMAScript 5å®šä¹‰äº†Object.create()æ¥è§„èŒƒåŽŸåž‹å¼ç»§æ‰¿ã€‚è¿™ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šç”¨ä½œæ–°å¯¹è±¡åŽŸåž‹çš„å¯¹è±¡å’Œï¼ˆå¯é€‰çš„ï¼‰ä¸€ä¸ªä¸ºæ–°å¯¹è±¡å®šä¹‰é¢å¤–å±žæ€§çš„å¯¹è±¡ã€‚åœ¨ä¼ å…¥ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼ŒObject.create()å’Œä¸Šé¢çš„object()æ–¹æ³•çš„è¡Œä¸ºç›¸åŒã€‚1234567891011121314var Person = &#123; name : "Peter"; friends : ["Shelby","Court","Van"];&#125;;var person1 = Object.create(Person);person1.name = "Greg";person1.friends.push("Rob");var person2 = Object.create(Person);person2.name = "Linda";person2.friends.push("Barbie");alert(Person.friends); //"Shelby","Court","Van","Rob","Barbie" 5.å¯„ç”Ÿå¼ç»§æ‰¿(ç±»ä¼¼äºŽå·¥åŽ‚æ¨¡å¼)åˆ›å»ºä¸€ä¸ªä»…ç”¨äºŽå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§æ–¹å¼æ¥å¢žå¼ºå¯¹è±¡ï¼Œæœ€åŽåœ¨æƒ³çœŸåœ°æ˜¯å®ƒåšäº†æ‰€æœ‰å·¥ä½œä¸€æ ·è¿”å›žå¯¹è±¡ã€‚1234567function createAnother(original)&#123; var clone = object(original); //è¿™é‡Œçš„object()å‡½æ•°å°±æ˜¯å‰é¢æåˆ°çš„åŽŸåž‹å¼ç»§æ‰¿çš„æ–¹æ³• clone.sayHi=function()&#123; //ä»¥æŸç§æ–¹å¼æ¥å¢žå¼ºè¿™ä¸ªå¯¹è±¡ alert("hi"); &#125; return clone; //è¿”å›žè¿™ä¸ªå¯¹è±¡&#125; å¯„ç”Ÿå¼ç»§æ‰¿å’Œæž„é€ å‡½æ•°æ¨¡å¼ç±»ä¼¼ï¼Œéƒ½ä¼šç”±äºŽä¸èƒ½åšåˆ°å‡½æ•°å¤ç”¨è€Œé™ä½Žæ•ˆçŽ‡ã€‚ 6.å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ï¼‰é€šè¿‡å€Ÿç”¨æž„é€ å‡½æ•°æ¥ç»§æ‰¿å±žæ€§ï¼Œé€šè¿‡åŽŸåž‹é“¾çš„æ··æˆå½¢å¼æ¥ç»§æ‰¿æ–¹æ³•ã€‚å‡å°‘äº†ä¸€æ¬¡è°ƒç”¨SuperTypeæž„é€ å‡½æ•°ã€‚åŸºæœ¬æ€è·¯ï¼šä¸å¿…ä¸ºäº†æŒ‡å®šå­ç±»åž‹çš„åŽŸåž‹è€Œè°ƒç”¨è¶…ç±»åž‹çš„æž„é€ å‡½æ•°ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„æ— éžå°±æ˜¯è¶…ç±»åž‹åŽŸåž‹çš„ä¸€ä¸ªå‰¯æœ¬è€Œå·²ã€‚æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿è¶…ç±»åž‹çš„åŽŸåž‹ï¼Œç„¶åŽå†å°†ç»“æžœæŒ‡å®šç»™å­ç±»åž‹çš„åŽŸåž‹ã€‚åŸºæœ¬æ¨¡å¼å¦‚ä¸‹ï¼š12345function inheritPrototype(subType,superType)&#123; var prototype = Object(superType.prototype); //åˆ›å»ºå¯¹è±¡ prototype.constructor = subType; //å¢žå¼ºå¯¹è±¡ subType.prototype = prototype; //æŒ‡å®šå¯¹è±¡&#125; åœ¨å‡½æ•°å†…éƒ¨ï¼Œå…ˆæ˜¯åˆ›å»ºè¶…ç±»åž‹åŽŸåž‹çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åŽä¸ºåˆ›å»ºçš„å‰¯æœ¬æ·»åŠ constructorå±žæ€§ï¼Œä»Žè€Œå¼¥è¡¥å› é‡å†™åŽŸåž‹è€Œå¤±åŽ»çš„é»˜è®¤çš„constructorå±žæ€§ï¼Œæœ€åŽï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡ï¼ˆå³å‰¯æœ¬ï¼‰èµ‹å€¼ç»™å­ç±»åž‹çš„åŽŸåž‹ã€‚12345678910111213141516171819function SuperType(name)&#123; this.name = name; this.colors = ["red","blue","green"];&#125;SuperType.prototype.sayName = function()&#123; alert(this.name);&#125;function SubType(name,age)&#123; SuperType.call(this,name); this.age = age;&#125;inheritPrototype(SubType, SuperType);SubType.prototype.sayAge = function()&#123; alert(this.age);&#125;; å‡½æ•°è¡¨è¾¾å¼å®šä¹‰å‡½æ•°çš„ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯å‡½æ•°å£°æ˜Žï¼Œå¦ä¸€ç§æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼›å‡½æ•°å£°æ˜Žï¼šfunction foo(){}å‡½æ•°è¡¨è¾¾å¼ï¼švar foo = function(){}(å‡½æ•°è¡¨è¾¾å¼å°±æ˜¯æŠŠå‡½æ•°å½“ä½œå€¼æ¥ä½¿ç”¨) é€’å½’å‡½æ•°ï¼šå¯ä»¥ä½¿ç”¨arguments.calleeå±žæ€§æ¥å®žçŽ°:1234567function factorial(num) &#123; if(num &lt;= 1)&#123; return 1; &#125;else&#123; return num * arguments.callee(num-1); //arguments.calleeæŒ‡å‘çš„æ˜¯factorial() &#125;&#125; ä½†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨arguments.calleeä¼šå¯¼è‡´é”™è¯¯ï¼Œæ‰€ä»¥æ›´å¥½çš„é€’å½’å®žçŽ°æ˜¯ä½¿ç”¨å‘½åå‡½æ•°è¡¨è¾¾å¼ï¼š1234567var factorial = (function f(num) &#123; if(num &lt;= 1) &#123; return 1; &#125;else &#123; return num * f(num - 1); &#125;&#125;); é—­åŒ…é—­åŒ…ï¼šæ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚åˆ›å»ºé—­åŒ…çš„å¸¸è§æ–¹å¼ï¼šåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼Œå®ƒåªå¼•ç”¨ä½†ä¸å®žé™…åŒ…å«å˜é‡å¯¹è±¡ã€‚ä¸€èˆ¬çš„ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•åŽï¼Œå±€éƒ¨æ´»åŠ¨å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå†…å­˜ä¸­ä»…ä¿å­˜å…¨å±€ä½œç”¨åŸŸï¼Œä½†é—­åŒ…çš„æƒ…å†µæœ‰æ‰€ä¸åŒã€‚ åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼ˆå†…éƒ¨å‡½æ•°ï¼‰ä¼šå°†åŒ…å«å‡½æ•°ï¼ˆå¤–éƒ¨å‡½æ•°ï¼‰çš„æ´»åŠ¨å¯¹è±¡æ·»åŠ åˆ°å®ƒçš„ä½œç”¨åŸŸé“¾ä¸­ã€‚å½“å¤–éƒ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åŽï¼Œå…¶æ´»åŠ¨å¯¹è±¡ä¸ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºå†…éƒ¨åŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸé“¾ä»ç„¶åœ¨å¼•ç”¨è¿™ä¸ªæ´»åŠ¨å¯¹è±¡ã€‚ ç”±äºŽé—­åŒ…ä¼šæºå¸¦åŒ…å«å®ƒçš„å‡½æ•°çš„ä½œç”¨åŸŸï¼Œå› æ­¤ä¼šæ¯”å…¶ä»–å‡½æ•°å ç”¨æ›´å¤šçš„å†…å­˜ã€‚è¿‡åº¦ä½¿ç”¨é—­åŒ…å¯èƒ½ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡å¤šã€‚ç”±äºŽä½œç”¨åŸŸé“¾çš„é…ç½®æœºåˆ¶ï¼Œæ‰€ä»¥é—­åŒ…åªèƒ½å–å¾—åŒ…å«å‡½æ•°ä¸­ä»»ä½•å˜é‡çš„æœ€åŽä¸€ä¸ªå€¼ã€‚ä¿®æ”¹å‰ï¼š1234567891011function createFun() &#123; var result = new Array(); for(var i = 0; i &lt; 10;i++) &#123; result[i] = function() &#123; return i; &#125;; &#125; return result;&#125;var arr=createFun(); //è¿”å›žå‡½æ•°æ•°ç»„console.log(arr[0]()); //æ‰§è¡Œä¿å­˜åœ¨å‡½æ•°æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ž10 å¯ä»¥é€šè¿‡åˆ›å»ºå¦ä¸€ä¸ªåŒ¿åå‡½æ•°å¼ºåˆ¶è®©é—­åŒ…çš„è¡Œä¸ºç¬¦åˆé¢„æœŸï¼šä¿®æ”¹åŽï¼š12345678910111213function createFun()&#123; var result = new Array(); for(var i = 0; i &lt; 10;i++) &#123; result[i] = function(num) &#123; return function() &#123; return num; &#125;; &#125;(i); &#125; return result;&#125;var arr=createFun(); //è¿”å›žå‡½æ•°æ•°ç»„console.log(arr[0]()); //æ‰§è¡Œä¿å­˜åœ¨å‡½æ•°æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ž0 ä»¥ä¸Šæ˜¯ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ ç¬¬3ç‰ˆã€‹181é¡µä¸­çš„å†…å®¹ï¼Œå¤§æ¦‚æ˜¯è¯´ä¿®æ”¹å‰æ¯ä¸ªå‡½æ•°å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå˜é‡iï¼Œæ‰€ä»¥è¿”å›žçš„å˜é‡iæ˜¯10ï¼›è€Œä¿®æ”¹åŽä½¿å˜é‡iä¼ é€’åˆ°ä¸€ä¸ªåŒ¿åå‡½æ•°é‡Œï¼Œç„¶åŽé€šè¿‡åˆ›å»ºé—­åŒ…è¿”å›žï¼Œæ‰€ä»¥å‡½æ•°æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°éƒ½èƒ½è¿”å›žå„è‡ªçš„å€¼ã€‚è‹¥æ˜¯æƒ³è®©resultæ•°ç»„ä¿å­˜åŒ¿åå‡½æ•°è¿”å›žçš„å„è‡ªçš„å€¼ï¼Œé‚£ä¹ˆä»£ç å¦‚ä¸‹ï¼š12345678910function createFun()&#123; var result=new Array(); for(var i = 0; i&lt;10;i++) &#123; result[i]=(function() &#123; return i; &#125;)(); //è®©åŒ¿åå‡½æ•°ç«‹å³æ‰§è¡Œ &#125; return result;&#125;console.log(createFun()); //è¿”å›ž[0,1,2,3,4,5,6,7,8,9] å…³äºŽthiså¯¹è±¡åŒ¿åå‡½æ•°çš„æ‰§è¡ŒçŽ¯å¢ƒå…·æœ‰å…¨å±€æ€§ï¼Œå› æ­¤å…¶thiså¯¹è±¡é€šå¸¸æŒ‡å‘windowã€‚12345678910var name = "The Window";var object = &#123; name : "My Object", getNameFunc : function() &#123; return function() &#123; //è¿”å›žåŒ¿åå‡½æ•° return this.name; &#125;; &#125;&#125;;alert(object.getNameFunc()()); //â€œThe Windowâ€ æ¯ä¸ªå‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶éƒ½ä¼šè‡ªåŠ¨å–å¾—ä¸¤ä¸ªç‰¹æ®Šå˜é‡ï¼šthiså’Œargumentsï¼Œå†…éƒ¨å‡½æ•°åœ¨æœç´¢è¿™ä¸¤ä¸ªå˜é‡æ—¶ï¼Œåªä¼šæœç´¢åˆ°å…¶æ´»åŠ¨å¯¹è±¡ä¸ºæ­¢ï¼Œå› æ­¤æ— æ³•ç›´æŽ¥è®¿é—®å¤–éƒ¨å‡½æ•°ä¸­çš„è¿™ä¸¤ä¸ªå˜é‡ã€‚å¯ä»¥é€šè¿‡å°†å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„thisæˆ–argumentså¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªé—­åŒ…èƒ½å¤Ÿè®¿é—®åˆ°çš„å˜é‡é‡Œï¼š1234567891011var name="The Window";var object = &#123; name: "My Object", getNameFunc: function() &#123; var that = this; return function() &#123; //è¿”å›žåŒ¿åå‡½æ•° return that.name; &#125;; &#125;&#125;;alert(object.getNameFunc()()); //"My Object" æ„å¤–æ”¹å˜thiså€¼çš„æƒ…å†µï¼š12345678var name = "The Window";var object = &#123; name: "My Object", getName: function() &#123; return this.name; &#125;&#125;(object.getName = object.getName)(); å› ä¸ºè¿™ä¸ªèµ‹å€¼è¡¨è¾¾å¼çš„å€¼æ˜¯å‡½æ•°æœ¬èº«ï¼Œæ‰€ä»¥thisçš„å€¼ä¸èƒ½å¾—åˆ°ç»´æŒï¼Œç»“æžœè¿”å›žçš„æ˜¯â€œThe Windowâ€. å†…å­˜æ³„æ¼å¦‚æžœé—­åŒ…çš„ä½œç”¨åŸŸé“¾ä¸­ä¿å­˜ç€ä¸€ä¸ªHTMLå…ƒç´ ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€è¯¥å…ƒç´ æ— æ³•è¢«é”€æ¯ï¼š123456function assignHandler()&#123; var element = document.getElementById("someElement"); element.onclick= function()&#123; alert(element.id); &#125;;&#125; ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªä½œä¸ºelementå…ƒç´ äº‹ä»¶å¤„ç†ç¨‹åºçš„é—­åŒ…ï¼Œè€Œè¿™ä¸ªé—­åŒ…åˆåˆ›å»ºäº†ä¸€ä¸ªå¾ªçŽ¯å¼•ç”¨ã€‚elementçš„å¼•ç”¨è‡³å°‘æ˜¯1ï¼Œæ‰€ä»¥å ç”¨çš„å†…å­˜ä¸ä¼šè¢«å›žæ”¶ã€‚ä¿®æ”¹ï¼š12345678function assignHandler()&#123; var element = document.getElementById("someElement"); var id=element.id; element.onclick= function() &#123; alert(id); &#125;; element = null;&#125; æ¨¡ä»¿å—çº§ä½œç”¨åŸŸjavascriptæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œjavascripté‡åˆ°å¤šæ¬¡å£°æ˜Žçš„åŒä¸€ä¸ªå˜é‡ï¼Œä¼šå¯¹åŽç»­çš„å£°æ˜Žè§†è€Œä¸è§ã€‚123456789function outputNumbers(count) &#123; for(var i =0; i&lt; count;i++) &#123; alert(i); &#125; var i; alert(i); //è¾“å‡º10;&#125;var count = 10;outputNumbers(count); ä½¿ç”¨åŒ¿åå‡½æ•°æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸï¼Œç”¨ä½œå—çº§ä½œç”¨åŸŸï¼ˆé€šå¸¸ç§°ä¸ºç§æœ‰ä½œç”¨åŸŸï¼‰çš„åŒ¿åå‡½æ•°è¯­æ³•ï¼š123(function() &#123; //å—çº§ä½œç”¨åŸŸ&#125;)() ä»¥ä¸Šä»£ç å®šä¹‰å¹¶ç«‹å³è°ƒç”¨äº†åŒ¿åå‡½æ•°ï¼Œè¿™æ ·æ—¢å¯ä»¥æ‰§è¡Œå…¶ä¸­çš„ä»£ç ï¼Œåˆä¸ä¼šåœ¨å†…å­˜ä¸­ç•™ä¸‹å¯¹è¯¥å‡½æ•°çš„å¼•ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚123456789function outputNumbers(count) &#123; (function()&#123; //æ˜¯é—­åŒ…ï¼Œå®žçŽ°äº†ç§æœ‰ä½œç”¨åŸŸ for(var i =0; i&lt; count;i++) &#123; alert(i); &#125; &#125;)(); alert(i); //å¯¼è‡´ä¸€ä¸ªé”™è¯¯ï¼&#125; ç§æœ‰å˜é‡åœ¨ä»»ä½•å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯ç§æœ‰å˜é‡ï¼Œå› ä¸ºä¸èƒ½åœ¨å‡½æ•°çš„å¤–éƒ¨è®¿é—®è¿™äº›å˜é‡ã€‚ç§æœ‰å˜é‡åŒ…æ‹¬å‡½æ•°çš„å‚æ•°ã€å±€éƒ¨å˜é‡å’Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å…¶ä»–å‡½æ•°ã€‚å¦‚æžœåœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œé‚£ä¹ˆé—­åŒ…é€šè¿‡è‡ªå·±çš„ä½œç”¨åŸŸé“¾ä¹Ÿå¯ä»¥è®¿é—®è¿™äº›ç§æœ‰å˜é‡ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥åˆ›å»ºç”¨äºŽè®¿é—®ç§æœ‰å˜é‡çš„å…¬æœ‰æ–¹æ³•ã€‚ æœ‰æƒè®¿é—®ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°çš„å…¬æœ‰æ–¹æ³•ç§°ä¸ºç‰¹æƒæ–¹æ³•ã€‚åˆ›å»ºç‰¹æƒæ–¹æ³•çš„ä¸¤ç§æ–¹å¼:ä¸€ã€åœ¨æž„é€ å‡½æ•°ä¸­å®šä¹‰ç‰¹æƒæ–¹æ³•123456789101112function Myobject() &#123; var privateVariable = 10; function privateFunction() &#123; return false; &#125; //ç‰¹æƒæ–¹æ³• this.publicMethod = function() &#123; privateVariable++; return privateFunction(); &#125;&#125; é™æ€ç§æœ‰å˜é‡é€šè¿‡åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å®šä¹‰ç§æœ‰å˜é‡æˆ–å‡½æ•°ï¼Œä¹ŸåŒæ ·å¯ä»¥åˆ›å»ºç‰¹æƒæ–¹æ³•ã€‚12345678910111213141516(function()&#123; var privateVariable = 10; function privateFunction() &#123; return false; &#125; //æž„é€ å‡½æ•° MyObject = function() &#123;&#125;; //ç‰¹æƒæ–¹æ³• MyObject.prototype.publicMethod = function() &#123; privateVariable++; return privateFunction(); &#125;;&#125;)(); å‡½æ•°å£°æ˜Žåªèƒ½åˆ›å»ºå±€éƒ¨å‡½æ•°ï¼›åˆå§‹åŒ–æœªç»å£°æ˜Žçš„å˜é‡ï¼Œæ€»æ˜¯ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ã€‚å¤šæŸ¥æ‰¾ä½œç”¨åŸŸé“¾ä¸­çš„ä¸€ä¸ªå±‚æ¬¡ï¼Œå°±ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå½±å“æŸ¥æ‰¾é€Ÿåº¦ã€‚ æ¨¡å—æ¨¡å¼å‰é¢çš„æ¨¡å¼æ˜¯ç”¨äºŽä¸ºè‡ªå®šä¹‰ç±»åž‹åˆ›å»ºç§æœ‰å˜é‡å’Œç‰¹æƒæ–¹æ³•çš„ï¼Œè€Œé“æ ¼æ‹‰æ–¯æå‡ºçš„æ¨¡å—æ¨¡å¼åˆ™æ˜¯ä¸ºäº†å•ä¾‹åˆ›å»ºç§æœ‰å˜é‡å’Œç‰¹æƒæ–¹æ³•ã€‚ æ‰€è°“å•ä¾‹ï¼ŒæŒ‡çš„å°±æ˜¯åªæœ‰ä¸€ä¸ªå®žä¾‹çš„å¯¹è±¡ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼ŒJavascriptæ˜¯ä»¥å¯¹è±¡å­—é¢é‡çš„æ–¹å¼åˆ›å»ºå•ä¾‹å¯¹è±¡:123456var singleton = &#123; name: value; method: function() &#123; //code... &#125;&#125; æ¨¡å—æ¨¡å¼é€šè¿‡ä¸ºå•ä¾‹æ·»åŠ ç§æœ‰å˜é‡å’Œç‰¹æƒæ–¹æ³•èƒ½å¤Ÿä½¿å…¶å¾—åˆ°åŠ å¼ºï¼š123456789101112131415var singleton = &#123; var privateVariable = 10; function privateFunction() &#123; return false; &#125; //ç‰¹æƒæ–¹æ³•å’Œå±žæ€§ return &#123; publicProperty : true, publicMethod : function () &#123; privateVariable++; return privateFunction(); &#125; &#125;&#125;(); è¿™ä¸ªæ¨¡å—æ¨¡å¼ä½¿ç”¨äº†ä¸€ä¸ªè¿”å›žå¯¹è±¡çš„åŒ¿åå‡½æ•°ã€‚ç”±äºŽå¯¹è±¡æ˜¯åœ¨åŒ¿åå‡½æ•°å®šä¹‰çš„ï¼Œå› æ­¤å®ƒçš„å…¬æœ‰æ–¹æ³•æœ‰æƒè®¿é—®ç§æœ‰å˜é‡å’Œå‡½æ•°ã€‚ä»Žæœ¬è´¨ä¸Šè®²ï¼Œè¿™ä¸ªå¯¹è±¡å­—é¢é‡å®šä¹‰çš„æ˜¯å•ä¾‹çš„å…¬å…±æŽ¥å£ã€‚æ¨¡å—æ¨¡å¼é€‚ç”¨äºŽåœ¨éœ€è¦å¯¹å•ä¾‹è¿›è¡ŒæŸäº›åˆå§‹åŒ–ï¼ŒåŒæ—¶åˆéœ€è¦ç»´æŠ¤å…¶ç§æœ‰å˜é‡æ—¶ã€‚12345678910111213141516171819var application = function() &#123; var components = new Array(); //åˆå§‹åŒ– components.push(new BaseComponent()); //å…¬å…± return &#123; getComponentCount: function() &#123; return components.length; &#125;, registerComponent: function () &#123; if(typeof component == "object") &#123; components.push(component); &#125; &#125; &#125;; &#125;(); å¢žå¼ºçš„æ¨¡å—æ¨¡å¼é€‚åˆé‚£äº›å•ä¾‹å¿…é¡»æ˜¯æŸç§ç±»åž‹çš„å®žä¾‹ï¼ŒåŒæ—¶è¿˜å¿…é¡»æ·»åŠ æŸäº›å±žæ€§å’Œï¼ˆæˆ–ï¼‰æ–¹æ³•å¯¹å…¶åŠ ä»¥å¢žå¼ºçš„æƒ…å†µã€‚123456789101112131415161718var singleton = &#123; var privateVariable = 10; function privateFunction() &#123; return false; &#125; //åˆ›å»ºæŸç§ç±»åž‹çš„å¯¹è±¡ var object = new CustonType(); //æ·»åŠ ç‰¹æƒ/å…¬æœ‰å±žæ€§å’Œæ–¹æ³• object.publicProperty = true; object.publicMethod = function () &#123; privateVariable++; return privateFunction(); &#125;; //è¿”å›žè¿™ä¸ªå¯¹è±¡ return object;&#125;();]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¢å®ä¹¦ç³»åˆ—è¯»ä¹¦ç¬”è®°ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2017%2F05%2F11%2F%E7%AC%94%E8%AE%B0%2F%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%B3%BB%E5%88%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼šçº¢å®ä¹¦ï¼Œå³ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸€ä¹¦ï¼Œç›®å‰ä¸ºç¬¬3ç‰ˆã€‚è¿™æœ¬ä¹¦å¾ˆåˆé€‚æ–°æ‰‹å…¥é—¨ï¼Œç›¸æ¯”äºŽã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹ï¼ˆçŠ€ç‰›ä¹¦ï¼‰ï¼Œå®ƒæ›´å®¹æ˜“å¸®åŠ©æˆ‘ä»¬ç†è§£JavaScriptï¼Œå®ƒä»Žæµ…å…¥æ·±è®²è§£äº†JavaScriptï¼Œå¾ˆå¤šä¸€å¼€å§‹éš¾ä»¥ç†è§£çš„æ¦‚å¿µï¼Œéƒ½èƒ½é€šè¿‡è¿™æœ¬ä¹¦ç†è§£å¾—æ›´é€å½»ã€‚ åŸºç¡€æ¦‚å¿µJavaScriptç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šECMAScriptã€æ–‡æ¡£å¯¹è±¡æ¨¡åž‹ï¼ˆDOMï¼‰ã€æµè§ˆå™¨å¯¹è±¡æ¨¡åž‹ï¼ˆBOMï¼‰ DOMçš„æ ¸å¿ƒè§„å®šçš„æ˜¯å¦‚ä½•æ˜ å°„åŸºäºŽXMLçš„æ–‡æ¡£ç»“æž„å¦å¤–å‡ ç§DOMæ ‡å‡†ï¼šSVGã€MathMLã€SMIL æ–‡æ¡£æ¨¡å¼ï¼šæ ‡å‡†æ¨¡å¼å’Œæ··æ‚æ¨¡å¼ï¼ˆè¯¡å¼‚æ¨¡å¼ï¼‰IE6ä¹‹å‰ï¼Œæµè§ˆå™¨æ¸²æŸ“HTMLæ–‡ä»¶çš„æ¨¡å¼è¢«ç§°ä¸ºè¯¡å¼‚æ¨¡å¼ã€‚ æµè§ˆå™¨ä¸æ”¯æŒJavaScriptæˆ–jsè„šæœ¬è¢«ç¦ç”¨æ—¶ï¼Œä½¿ç”¨&lt;noscript&gt; æ ‡è¯†ç¬¦ï¼Œå°±æ˜¯æŒ‡å˜é‡ã€å‡½æ•°ã€å±žæ€§çš„åå­—ï¼Œæˆ–è€…å‡½æ•°çš„å‚æ•°ã€‚ ES5æå‡ºäº†â€œä¸¥æ ¼æ¨¡å¼â€ï¼Œè¦åœ¨æ•´ä¸ªè„šæœ¬ä¸­å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥åœ¨é¡¶éƒ¨æ·»åŠ ï¼šâ€œuse strictâ€ã€‚ ECMAScript çš„å˜é‡æ˜¯æ¾æ•£ç±»åž‹ï¼Œæ‰€è°“æ¾æ•£ç±»åž‹ï¼ˆå¼±ç±»åž‹ï¼‰å°±æ˜¯å¯ä»¥ç”¨æ¥ä¿å­˜ä»»ä½•ç±»åž‹çš„æ•°æ®ã€‚ varå…³é”®å­—æ˜Žç¡®åœ°ä¸ºå‡½æ•°å˜é‡è®¾å®šä½œç”¨åŸŸ JSæœ‰äº”ç§åŸºæœ¬æ•°æ®ç±»åž‹ï¼šundefinedã€nullã€booleanã€Numberå’ŒStringï¼›ä¸€ç§å¤æ‚æ•°æ®ç±»åž‹ï¼ˆå¼•ç”¨ç±»åž‹ï¼‰ï¼šObject; åŸºæœ¬æ•°æ®ç±»åž‹å’Œå¤æ‚æ•°æ®ç±»åž‹åœ¨å­˜å‚¨ä¸Šæœ‰åŒºåˆ«ï¼ŒåŸºæœ¬æ•°æ®ç±»åž‹å­˜å‚¨äºŽæ ˆï¼›å¤æ‚æ•°æ®ç±»åž‹ï¼Œåœ¨å †ä¸­å­˜å‚¨ï¼Œåœ¨æ ˆä¸­å­˜å‚¨å †æŒ‡é’ˆ æ£€æµ‹å˜é‡çš„æ•°æ®ç±»åž‹â€”â€”typeof ä½¿ç”¨typeofæ£€æµ‹æœªå£°æ˜Žå’Œä¸ºåˆå§‹åŒ–çš„å˜é‡éƒ½æ˜¯è¿”å›žundefinedtypeof æ£€æµ‹nullå€¼è¿”å›žobject (null==undefined)è¿”å›žtrue 0é™¤ä»¥0æ‰è¿”å›žNaN,æ­£æ•°é™¤ä»¥0è¿”å›žInfinity,è´Ÿæ•°é™¤ä»¥0è¿”å›ž-InfinityisNaN()å‡½æ•°åˆ¤æ–­æ˜¯å¦â€œä¸æ˜¯æ•°å€¼â€ æ•°å€¼è½¬æ¢çš„å‡½æ•°ï¼šNumber()ï¼ŒparseInt(),parseFloat()ï¼Œåˆ†åˆ«è½¬æ¢ä¸ºæ•°å­—ã€æ•´åž‹ã€æµ®ç‚¹åž‹ Stringç±»åž‹å­—ç¬¦å­—é¢é‡æ˜¯æŒ‡è½¬ä¹‰å­—ç¬¦ã€‚è½¬ä¹‰å­—ç¬¦å½“ä½œä¸€ä¸ªå­—ç¬¦é•¿åº¦ã€‚ECMAScriptä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€‚è¦æ”¹å˜æŸä¸ªå˜é‡ä¿å­˜çš„å­—ç¬¦ä¸²ï¼Œé¦–å…ˆè¦é”€æ¯åŽŸæ¥çš„å­—ç¬¦ä¸²ï¼Œç„¶åŽå†ç”¨å¦ä¸€ä¸ªåŒ…å«æ–°å€¼çš„å­—ç¬¦ä¸²å¡«å……è¯¥å˜é‡ã€‚ è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹å¼ï¼štoString()å’Œè½¬åž‹å‡½æ•°string()[toString()è¿”å›žçš„æ˜¯å­—ç¬¦ä¸²çš„å‰¯æœ¬] objectç±»åž‹Objectçš„æ¯ä¸ªå®žä¾‹éƒ½å…·æœ‰ä¸‹åˆ—å±žæ€§å’Œæ–¹æ³•ï¼šconstructorï¼šä¿å­˜ç€ç”¨äºŽåˆ›å»ºå½“å‰å¯¹è±¡çš„å‡½æ•°ï¼Œå³æž„é€ å‡½æ•°ï¼›hasOwnPropertyï¼šç”¨äºŽæ£€æŸ¥ç»™å®šçš„å±žæ€§åœ¨å½“å‰å¯¹è±¡å®žä¾‹ä¸­æ˜¯å¦å­˜åœ¨ï¼›isPrototypeOf(object)ï¼šç”¨äºŽæ£€æŸ¥ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦ä¼ å…¥å¯¹è±¡çš„åŽŸåž‹ï¼›propertyIsEnumberable(propertyName)ï¼šç”¨äºŽæ£€æŸ¥ç»™å®šçš„å±žæ€§æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨for-inè¯­å¥æ¥æžšä¸¾ï¼›toLocaleString(),toString(),valueOf(); æ“ä½œç¬¦é€’å¢žå’Œé€’å‡ï¼š1234567891011121314151617181920var num1 = 2;var num2 = 20;var num3 = num1-- + num2; //ç­‰äºŽ22var num4 = num1+num2; //ç­‰äºŽ21var s1="2";var s2="z";var b=false;var f=1.1;var o=&#123; valueOf:function()&#123; return -1; &#125;&#125;;s1++; //3s2++; //NaNb++; //1f--; //0.100000000000009(æµ®ç‚¹èˆå…¥é”™è¯¯æ‰€è‡´)o--; //-2 ä½æ“ä½œç¬¦æŒ‰ä½éžï¼ˆ~ï¼‰ï¼šæœ¬è´¨æ˜¯æ“ä½œæ•°çš„è´Ÿå€¼å‡ä¸€ï¼Œ123var num1=25;var num2= ~num1;alert(num2); //"-26" æŒ‰ä½ä¸Žï¼ˆ&amp;ï¼‰æŒ‰ä½æˆ–ï¼ˆ|ï¼‰æŒ‰ä½å¼‚æˆ–ï¼ˆ^ï¼‰ï¼šåªæœ‰ä¸€ä¸ª1æ—¶æ‰è¿”å›ž1ï¼Œè‹¥å¯¹åº”çš„ä¸¤ä½éƒ½æ˜¯1æˆ–éƒ½æ˜¯0ï¼Œåˆ™è¿”å›ž0ï¼› æ•°å€¼å¤§å°è¶…è¿‡äº†ECMAScriptæ•°å€¼çš„èŒƒå›´ï¼Œåˆ™è¿”å›žInfinityæˆ–-Infinity1234Infinity * 0 = NaN;Infinity * éž0æ•°å€¼ç»“æžœæ˜¯Infinityæˆ–-Infinity;Infinity * Infinity = InfinityInfinity / Infinity = NaN å¦‚æžœæ˜¯é›¶è¢«é›¶é™¤ï¼Œç»“æžœæ˜¯NaNéžé›¶æœ‰é™æ•°è¢«é›¶é™¤ï¼Œç»“æžœæ˜¯Infinityæˆ–-Infinity123Infinity +ï¼ˆ-Infinityï¼‰= NaNInfinity - Infinity = NaN-Infinity - (-Infinity) = NaN +0å‡-0ç­‰äºŽ-0-0å‡-0ç­‰äºŽ+0 ä»Žä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶åŸºæœ¬ç±»åž‹çš„å€¼ï¼Œä¼šåˆ›å»ºè¿™ä¸ªå€¼çš„ä¸€ä¸ªå‰¯æœ¬ï¼›å¼•ç”¨ç±»åž‹çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼Œå †åœ°å€æŒ‡é’ˆä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ï¼›åŒ…å«å¼•ç”¨ç±»åž‹å€¼çš„å˜é‡å®žé™…ä¸ŠåŒ…å«çš„å¹¶ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆã€‚åŸºæœ¬ç±»åž‹çš„å‚æ•°åªèƒ½æŒ‰å€¼ä¼ é€’ï¼Œè€Œåœ¨å‘å‚æ•°ä¼ é€’å¼•ç”¨ç±»åž‹çš„å€¼æ—¶ï¼Œä¼šæŠŠè¿™ä¸ªå€¼åœ¨å†…å­˜ä¸­çš„åœ°å€å¤åˆ¶ç»™ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå±€éƒ¨å˜é‡å˜åŒ–ä¼šåæ˜ åœ¨å‡½æ•°çš„å¤–éƒ¨ typeofæ£€æµ‹åŸºæœ¬æ•°æ®ç±»åž‹ï¼štypeof null ä¼šè¾“å‡ºobjecttypeofæ£€æµ‹æ­£åˆ™è¡¨è¾¾å¼æ—¶ä¼šè¾“å‡ºfunctionï¼Œä½†åœ¨IEå’Œfirefoxä¸­ä¼šè¾“å‡ºobject instanceofæ£€æµ‹å¼•ç”¨ç±»åž‹ï¼ˆå¯¹è±¡ï¼‰ æ‰§è¡ŒçŽ¯å¢ƒå’Œä½œç”¨åŸŸé“¾æ‰§è¡ŒçŽ¯å¢ƒå®šä¹‰äº†å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶ä»–æ•°æ®ï¼Œå†³å®šäº†å®ƒä»¬å„è‡ªçš„è¡Œä¸ºã€‚æ¯ä¸ªæ‰§è¡ŒçŽ¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸Žä¹‹å…³è”çš„å˜é‡å¯¹è±¡ã€‚æ‰§è¡ŒçŽ¯å¢ƒæœ‰å…¨å±€æ‰§è¡ŒçŽ¯å¢ƒå’Œå‡½æ•°æ‰§è¡ŒçŽ¯å¢ƒä¹‹åˆ†ã€‚å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½æ˜¯ä½œä¸ºwindowå¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•åˆ›å»ºçš„ã€‚ ä½œç”¨åŸŸé“¾çš„ç”¨é€”ï¼Œæ˜¯ä¿è¯å¯¹æ‰§è¡ŒçŽ¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯ï¼Œå§‹ç»ˆæ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€åœ¨çŽ¯å¢ƒçš„å¯¹è±¡ã€‚å…¨å±€æ‰§è¡ŒçŽ¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åŽä¸€ä¸ªå¯¹è±¡ã€‚å†…éƒ¨çŽ¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰çš„å¤–éƒ¨çŽ¯å¢ƒï¼Œä½†å¤–éƒ¨çŽ¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨çŽ¯å¢ƒä¸­çš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚ï¼ˆé€šä¿—åœ°è®²ï¼Œå°±æ˜¯å¯ä»¥ä»Žé‡Œåˆ°å¤–è°ƒç”¨å˜é‡å’Œå‡½æ•°ï¼Œä½†å¤–ä¸€å±‚ä¸èƒ½è°ƒç”¨é‡Œé¢ä¸€å±‚çš„ï¼‰ å»¶é•¿ä½œç”¨åŸŸé“¾çš„æ–¹æ³•ï¼štry-catchè¯­å¥çš„catchå—ï¼›withè¯­å¥ï¼ˆä¸æŽ¨èä½¿ç”¨ï¼‰ã€‚ Javascriptæ²¡æœ‰å—çº§ä½œç”¨åŸŸæ‰€è°“å—çº§ä½œç”¨åŸŸï¼Œå°±æ˜¯æŒ‡å¾ªçŽ¯è¯­å¥å—ã€æ¡ä»¶è¯­å¥å—çš„æ‰§è¡ŒçŽ¯å¢ƒï¼Œåœ¨JavaScriptä¸­æ˜¯ä¸å­˜åœ¨çš„ï¼ŒJavaScriptä¸­åªæœ‰å…¨å±€ä½œç”¨åŸŸä»¥åŠå‡½æ•°ä½œç”¨åŸŸã€‚(ES6ä¸­å·²æ”¯æŒå—çº§ä½œç”¨åŸŸ)123for(var i=;i&lt;10;i++)&#123; //dosomething&#125; åœ¨javascripté‡Œforè¯­å¥åˆ›å»ºçš„å˜é‡å³ä½¿forå¾ªçŽ¯æ‰§è¡Œç»“æŸåŽï¼Œä¹Ÿä¾æ—§ä¼šå­˜åœ¨äºŽå¾ªçŽ¯å¤–éƒ¨çš„æ‰§è¡ŒçŽ¯å¢ƒä¸­ã€‚ æŸ¥è¯¢æ ‡è¯†ç¬¦(å˜é‡ã€å‡½æ•°åã€å±žæ€§ç­‰)ï¼šæœç´¢è¿‡ç¨‹ä»Žä½œç”¨åŸŸé“¾çš„å‰ç«¯å¼€å§‹ï¼Œå‘ä¸Šé€çº§æŸ¥è¯¢ä¸Žç»™å®šåå­—åŒ¹é…çš„æ ‡è¯†ç¬¦ã€‚ JavaScriptå…·æœ‰è‡ªåŠ¨åžƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡ŒçŽ¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚JavaScriptä¸­æœ€å¸¸ç”¨çš„åžƒåœ¾æ”¶é›†æ–¹å¼æ˜¯æ ‡è®°æ¸…é™¤ï¼Œå¦å¤–ä¸€ç§ä¸å¤ªå¸¸è§çš„åžƒåœ¾æ”¶é›†ç­–ç•¥æ˜¯å¼•ç”¨è®¡æ•°ã€‚ å½“æ•°æ®ä¸å†æœ‰ç”¨ï¼Œåˆ™æœ€å¥½é€šè¿‡å°†å…¶å€¼è®¾ç½®ä¸ºnullæ¥é‡Šæ”¾å…¶å¼•ç”¨â€”â€”è¿™ä¸ªåšæ³•å«åšè§£é™¤å¼•ç”¨ã€‚ åˆ›å»ºobjectå®žä¾‹çš„æ–¹å¼ä½¿ç”¨newæ“ä½œç¬¦åŽè·Ÿobjectæž„é€ å‡½æ•°ï¼›ä½¿ç”¨å¯¹è±¡å­—é¢é‡ï¼ˆä¸ä¼šè°ƒç”¨objectæž„é€ å‡½æ•°ï¼‰ï¼›ï¼ˆå¯¹è±¡å­—é¢é‡æ˜¯å®šä¹‰å¯¹è±¡çš„ä¸€ç§ç®€å†™å½¢å¼,ä¹Ÿå°±æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œç›®çš„åœ¨äºŽç®€åŒ–åˆ›å»ºåŒ…å«å¤§é‡å±žæ€§çš„å¯¹è±¡çš„è¿‡ç¨‹ï¼‰eg:var person={ name ï¼šâ€Peterâ€, age : 22, 5 : true};è¿™é‡Œçš„æ•°å€¼å±žæ€§åä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ Arrayæ•°ç»„åˆ›å»ºæ•°ç»„çš„åŸºæœ¬æ–¹å¼ï¼šä½¿ç”¨Arrayæž„é€ å‡½æ•°ï¼švar colors = new Array();ä½¿ç”¨æ•°ç»„å­—é¢é‡è¡¨ç¤ºæ³•ï¼švar colors = [];æ•°ç»„çš„lengthä¸æ˜¯åªè¯»ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±žæ€§ï¼Œå¯ä»¥ä»Žæ•°ç»„çš„æœ«å°¾ç§»é™¤é¡¹æˆ–å‘æ•°ç»„ä¸­æ·»åŠ æ–°é¡¹ã€‚12var colors=["red","blue","green"];colors[colors.length]="black"; //åœ¨æœ«å°¾æ·»åŠ ä¸€ç§é¢œè‰² ä½¿ç”¨instanceofæ“ä½œç¬¦å’ŒArray.isArray()æ–¹æ³•æ£€æµ‹æ•°ç»„ æ•°ç»„ä½¿ç”¨join()æ–¹æ³•ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸åŒçš„åˆ†éš”ç¬¦æ¥æž„å»ºè¿™ä¸ªå­—ç¬¦ä¸²ï¼›123var colors=["red","blue","green"];alert(colors.join(","));alert(colors.join("||")); //red||blue||green æ•°ç»„çš„æ ˆæ–¹æ³•ï¼špush()å’Œpop(); //åŽè¿›å…ˆå‡ºpush()æ–¹æ³•å¯ä»¥æŽ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒæŠŠå®ƒä»¬é€ä¸ªæ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œç„¶åŽè¿”å›žä¿®æ”¹åŽçš„æ•°ç»„é•¿åº¦ã€‚pop()æ–¹æ³•åˆ™ä»Žæ•°ç»„æœ«å°¾ç§»é™¤æœ€åŽä¸€é¡¹ï¼Œå‡å°‘æ•°ç»„çš„lengthå€¼ï¼Œç„¶åŽè¿”å›žç§»é™¤çš„é¡¹ã€‚ æ•°ç»„çš„é˜Ÿåˆ—æ–¹æ³•ï¼šshift()å’Œpush(); //å…ˆè¿›å…ˆå‡ºpush()æ–¹æ³•åœ¨é˜Ÿåˆ—çš„æœ«å°¾æ·»åŠ é¡¹ï¼Œshift()æ–¹æ³•åœ¨é˜Ÿåˆ—çš„å‰ç«¯ç§»é™¤é¡¹shift()æ–¹æ³•èƒ½å¤Ÿç§»é™¤æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹å¹¶è¿”å›žè¯¥é¡¹ï¼ŒåŒæ—¶æ•°ç»„é•¿åº¦å‡1ï¼› unshift()å’Œpop()æ–¹æ³•å¯ä»¥å®žçŽ°åå‘é˜Ÿåˆ—ï¼Œå³åœ¨æ•°ç»„çš„å‰ç«¯æ·»åŠ é¡¹ï¼Œåœ¨æ•°ç»„çš„æœ«ç«¯ç§»é™¤é¡¹ã€‚unshift()æ–¹æ³•åœ¨æ•°ç»„å‰ç«¯æ·»åŠ ä»»æ„ä¸ªé¡¹å¹¶è¿”å›žæ•°ç»„é•¿åº¦ã€‚ æ•°ç»„é‡æŽ’åºæ–¹æ³•ï¼šreverse()å’Œsort(),è¿”å›žå€¼éƒ½æ˜¯æŽ’åºåŽçš„æ•°ç»„ï¼›sort()æ–¹æ³•å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚1234567891011function compare()&#123; if(value1 &lt; value2)&#123; return -1; &#125;else if (value1 &gt; value2)&#123; return 1; &#125;else&#123; return 0; &#125;&#125;var values=[0,1,5,10,15];values.sort(compare); å¯¹äºŽæ•°å€¼ç±»åž‹æˆ–è€…å…¶valueOf()æ–¹æ³•ä¼šè¿”å›žæ•°å€¼ç±»åž‹çš„å¯¹è±¡æ¨¡åž‹ï¼Œå¯ä»¥ä½¿ç”¨æ›´ç®€å•çš„æ¯”è¾ƒå‡½æ•°ï¼š123function compare(value1, value2)&#123; return value2-value1;&#125; concat()æ–¹æ³•å¯ä»¥åŸºäºŽå½“å‰æ•°ç»„ä¸­çš„æ‰€æœ‰é¡¹åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚slice()æ–¹æ³•å¯ä»¥åŸºäºŽå½“å‰æ•°ç»„ä¸­çš„ä¸€é¡¹æˆ–å¤šä¸ªé¡¹åˆ›å»ºä¸€ä¸ªæ•°ç»„ã€‚slice()æ–¹æ³•æŽ¥å—ä¸€æˆ–ä¸¤ä¸ªå‚æ•°ï¼Œå³è¦è¿”å›žé¡¹çš„èµ·å§‹å’Œç»“æŸä½ç½®ã€‚ï¼ˆå¦‚æžœslice()æ–¹æ³•çš„å‚æ•°æœ‰ä¸€ä¸ªè´Ÿæ•°ï¼Œåˆ™ç”¨æ•°ç»„é•¿åº¦åŠ ä¸Šè¯¥è´Ÿæ•°æ¥ç¡®å®šç›¸åº”çš„ä½ç½®ï¼Œå¦‚æžœç»“æŸä½ç½®å°äºŽèµ·å§‹ä½ç½®ï¼Œåˆ™è¿”å›žç©ºæ•°ç»„ï¼‰ æœ€å¼ºå¤§çš„æ•°ç»„æ–¹æ³•â€”splice()splice()çš„ä¸»è¦ç”¨é€”æ˜¯å‘æ•°ç»„çš„ä¸­éƒ¨æ’å…¥é¡¹ã€‚ä½¿ç”¨spliceçš„ä¸‰ç§æ–¹å¼ï¼šåˆ é™¤ï¼šå¯ä»¥åˆ é™¤ä»»æ„æ•°é‡çš„é¡¹ï¼Œéœ€æŒ‡å®š2ä¸ªå‚æ•°ï¼šè¦åˆ é™¤çš„ç¬¬ä¸€é¡¹çš„ä½ç½®å’Œè¦åˆ é™¤çš„é¡¹æ•°ã€‚ä¾‹å¦‚ï¼Œsplice(0,2)ä¼šåˆ é™¤æ•°ç»„å‰ä¸¤é¡¹ã€‚ æ’å…¥ï¼šå¯ä»¥å‘æŒ‡å®šä½ç½®æ’å…¥ä»»æ„æ•°é‡çš„é¡¹ï¼Œéœ€æä¾›3ä¸ªå‚æ•°ï¼šèµ·å§‹ä½ç½®ï¼Œ0ï¼ˆè¦åˆ é™¤çš„é¡¹æ•°ï¼‰å’Œè¦æ’å…¥çš„é¡¹ã€‚å¦‚æžœè¦æ’å…¥å¤šä¸ªé¡¹ï¼Œå¯ä»¥ä¼ å…¥ç¬¬å››ã€ç¬¬äº”ï¼Œä»¥è‡³ä»»æ„å¤šä¸ªé¡¹ã€‚ä¾‹å¦‚ï¼Œsplice(2,0,â€redâ€,â€â€greenâ€)ä¼šä»Žå½“å‰æ•°ç»„ä½ç½®2å¼€å§‹æ’å…¥å­—ç¬¦ä¸²â€redâ€å’Œâ€greenâ€; æ›¿æ¢ï¼šå¯ä»¥å‘æŒ‡å®šä½ç½®æ’å…¥ä»»æ„æ•°é‡çš„é¡¹ï¼Œä¸”åŒæ—¶åˆ é™¤ä»»æ„æ•°é‡çš„é¡¹ï¼Œéœ€æŒ‡å®š3ä¸ªå‚æ•°ï¼šèµ·å§‹ä½ç½®ï¼Œè¦åˆ é™¤çš„é¡¹æ•°å’Œè¦æ’å…¥çš„ä»»æ„æ•°é‡çš„é¡¹ã€‚æ’å…¥çš„é¡¹æ•°ä¸å¿…ä¸Žåˆ é™¤çš„é¡¹æ•°ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œsplice(2,1,â€redâ€,â€â€greenâ€)ä¼šåˆ é™¤å½“å‰æ•°ç»„ä½ç½®2çš„é¡¹ï¼Œç„¶åŽå†ä»Žä½ç½®2 å¼€å§‹æ’å…¥å­—ç¬¦ä¸²â€redâ€å’Œâ€greenâ€; æ•°ç»„çš„ä½ç½®æ–¹æ³•ï¼šindexOf()å’ŒlastIndexOf()è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šè¦æŸ¥æ‰¾çš„é¡¹å’Œï¼ˆå¯é€‰çš„ï¼‰è¡¨ç¤ºæŸ¥æ‰¾èµ·ç‚¹ä½ç½®çš„ç´¢å¼•;ä¸¤ä¸ªå‡½æ•°è¿”å›žçš„éƒ½æ˜¯è¦æŸ¥æ‰¾çš„é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œæˆ–è€…åœ¨æ²¡æ‰¾åˆ°çš„æƒ…å†µä¸‹è¿”å›ž-1ã€‚åœ¨æ¯”è¾ƒç¬¬ä¸€ä¸ªå‚æ•°ä¸Žæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹æ˜¯ï¼Œä¼šä½¿ç”¨å…¨ç­‰æ“ä½œç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦æ±‚æŸ¥æ‰¾çš„é¡¹å¿…é¡»ä¸¥æ ¼ç›¸ç­‰ã€‚ æ•°ç»„çš„è¿­ä»£æ–¹æ³•ï¼ševery()ï¼Œfilter()ï¼ŒforEach()ï¼Œmap()ï¼Œsome()ã€‚every()å’Œsome()éƒ½æ˜¯å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ï¼Œä½†every()å‡½æ•°åªæœ‰æ¯ä¸€é¡¹éƒ½æ˜¯trueï¼Œæ‰è¿”å›žtrueï¼›è€Œsome()åˆ™æ˜¯æ•°ç»„ä¸­æœ‰ä¸€é¡¹è¿è¡Œç»“æžœæ˜¯true,åˆ™è¿”å›žtrueã€‚filter()å‡½æ•°æ˜¯ä¼šè¿‡æ»¤æ•°ç»„ä¸­çš„ä¸€äº›é¡¹ï¼Œå°†ç¬¦åˆæ¡ä»¶çš„é¡¹ç»„æˆä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¹¶è¿”å›žè¿™ä¸ªæ•°ç»„ã€‚map()å‡½æ•°æ˜¯å°†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿›è¡Œä¸€äº›æ“ä½œï¼Œç„¶åŽå°†æ“ä½œç»“æžœä½œä¸ºæ–°æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œå¹¶è¿”å›žè¿™ä¸ªæ–°æ•°ç»„ã€‚ æ•°ç»„çš„å½’å¹¶æ–¹æ³•ï¼šreduce()å’ŒreduceRight()ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œç„¶åŽæž„å»ºä¸€ä¸ªæœ€ç»ˆè¿”å›žçš„å€¼ã€‚reduce()ä»Žå¤´å¼€å§‹é€ä¸ªéåŽ†ï¼ŒreduceRight()åˆ™ä»Žæ•°ç»„çš„æœ€åŽä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éåŽ†åˆ°ç¬¬ä¸€é¡¹ã€‚éƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šåœ¨æ¯ä¸€é¡¹è°ƒç”¨çš„å‡½æ•°å’Œï¼ˆå¯é€‰çš„ï¼‰ä½œä¸ºå½’å¹¶åŸºç¡€çš„åˆå§‹å€¼ã€‚eg:ä½¿ç”¨reduce()å‡½æ•°å¯ä»¥æ±‚å¾—æ•°ç»„ä¸­æ‰€æœ‰å€¼ä¹‹å’Œçš„æ“ä½œã€‚var values=[1,2,3,4,5];var sum=values.reduce(function(prev,cur,index,array){ return prev + cur ;});reduce()å’ŒreduceRight()æŽ¥æ”¶çš„ä¸€ä¸ªå‚æ•°â€”å‡½æ•°æŽ¥æ”¶4ä¸ªå‚æ•°ï¼Œå‰ä¸€ä¸ªå€¼ï¼Œå½“å‰å€¼ï¼Œé¡¹çš„ç´¢å¼•å’Œæ•°ç»„å¯¹è±¡ã€‚ Dateç±»åž‹ä½¿ç”¨valueOfæ–¹æ³•è¿”å›žçš„æ˜¯æ—¥æœŸçš„æ¯«ç§’è¡¨ç¤ºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ¯”è¾ƒæ“ä½œç¬¦æ¥æ¯”è¾ƒæ—¥æœŸå€¼ã€‚æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•ï¼štoDateString()â€”â€”ä»¥ç‰¹å®šäºŽå®žçŽ°çš„æ ¼å¼æ˜¾ç¤ºæ˜ŸæœŸå‡ ã€æœˆã€æ—¥å’Œå¹´ï¼›toTimeStringâ€”â€”ä»¥ç‰¹å®šäºŽå®žçŽ°çš„æ ¼å¼æ˜¾ç¤ºæ—¶ã€åˆ†ã€ç§’å’Œæ—¶åŒºï¼›toLocaleDateStringâ€”â€”ä»¥ç‰¹å®šäºŽåœ°åŒºçš„æ ¼å¼æ˜¾ç¤ºæ˜ŸæœŸå‡ ã€æœˆã€æ—¥å’Œå¹´ï¼›toLocaleTimeStringâ€”â€”ä»¥ç‰¹å®šäºŽå®žçŽ°çš„æ ¼å¼æ˜¾ç¤ºæ—¶ã€åˆ†ã€ç§’ï¼›toUTCStringâ€”â€”ä»¥ç‰¹å®šäºŽå®žçŽ°çš„æ ¼å¼å®Œæ•´çš„UTCæ—¥æœŸã€‚ RegExpç±»åž‹Javascripté€šè¿‡RegExpç±»åž‹æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚1var expression = / pattern / flags; å…¶ä¸­æ¨¡å¼ï¼ˆpatternï¼‰éƒ¨åˆ†å¯ä»¥æ˜¯ä»»ä½•ç®€å•æˆ–å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼éƒ½å¯å¸¦æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡å¿—ï¼ˆflagsï¼‰å¦‚ä¸‹ä¸‰ç§æ ‡å¿—ï¼šgï¼šè¡¨ç¤ºå…¨å±€æ¨¡å¼ï¼Œå³æ¨¡å¼å°†è¢«åº”ç”¨äºŽæ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œè€Œéžåœ¨å‘çŽ°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹æ˜¯ç«‹å³åœæ­¢ï¼›iï¼šè¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™æ¨¡å¼ï¼›mï¼šè¡¨ç¤ºå¤šè¡Œæ¨¡å¼ï¼Œå³åœ¨åˆ°è¾¾ä¸€è¡Œæ–‡æœ¬æœ«å°¾æ—¶è¿˜ä¼šç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€è¡Œä¸­æ˜¯å¦å­˜åœ¨ä¸Žæ¨¡å¼åŒ¹é…çš„é¡¹ã€‚ RegExpå®žä¾‹å±žæ€§ï¼šglobal: å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†gæ ‡å¿—ignoreCase:å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†iæ ‡å¿—lastIndex:æ•´æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹çš„å­—ç¬¦ä½ç½®multiline:å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†mæ ‡å¿—source:æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ŒæŒ‰ç…§å­—é¢é‡å½¢å¼è€Œéžä¼ å…¥æž„é€ å‡½æ•°ä¸­çš„å­—ç¬¦ä¸²æ¨¡å¼è¿”å›žã€‚ RegExpå®žä¾‹æ–¹æ³•ï¼šexec(),åªæŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³è¦åº”ç”¨æ¨¡å¼çš„å­—ç¬¦ä¸²ï¼Œç„¶åŽè¿”å›žåŒ…å«ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ä¿¡æ¯çš„æ•°ç»„ï¼Œåœ¨åŒ¹é…å¤±è´¥æ—¶è¿”å›žnull;è¿”å›žçš„æ•°ç»„åŒ…å«ä¸¤ä¸ªé¢å¤–çš„å±žæ€§ï¼šindexå’Œinputã€‚indexè¡¨ç¤ºåŒ¹é…é¡¹åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œè€Œinputåˆ™æ˜¯åº”ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚1234var test="mom and dad and baby";var pattern = /mom( and dad( and baby)?)?/gi;var matches=pattern.exec(test); ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯test()æ–¹æ³•ï¼ŒæŽ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œåœ¨æ¨¡å¼ä¸Žè¯¥å‚æ•°åŒ¹é…çš„æƒ…å†µä¸‹è¿”å›žtrueï¼›å¦åˆ™è¿”å›žfalse.123456var text = "000-00-0000";var pattern = /\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;/;if(pattern.test(text))&#123; alert("This pattern was matched.");&#125; Functionç±»åž‹å‡½æ•°å®žé™…ä¸Šæ˜¯å¯¹è±¡ï¼Œå‡½æ•°åå®žé™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°å¯¹è±¡çš„æŒ‡é’ˆã€‚å‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªç‰¹æ®Šå¯¹è±¡ï¼šargumentså’Œthis.argumentsçš„ä¸»è¦ç”¨é€”æ˜¯ä¿å­˜å‡½æ•°å‚æ•°ï¼Œè¯¥å¯¹è±¡æœ‰ä¸€ä¸ªå±žæ€§â€”â€”callee,è¯¥å±žæ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ‹¥æœ‰è¿™ä¸ªargumentså¯¹è±¡çš„å‡½æ•°ã€‚ä½¿ç”¨arguments.calleeå¯ä»¥æ¶ˆé™¤å‡½æ•°çš„æ‰§è¡Œä¸Žå‡½æ•°åçš„ç´§å¯†è€¦åˆã€‚1234567function factorial(num)&#123; if(num&lt;=1)&#123; return 1; &#125;else&#123; return num*arguments.callee(num-1); //arguments.callee()ç­‰åŒäºŽfactorial() &#125;&#125; thiså¯¹è±¡ä¹Ÿç›¸å½“é‡è¦ï¼Œè¯¦æƒ…çœ‹JS-thisç¬”è®°ã€‚ECMAScript 5è¿˜è§„èŒƒäº†å¦ä¸€ä¸ªå‡½æ•°å¯¹è±¡å±žæ€§â€”â€”callerã€‚è¿™ä¸ªå±žæ€§ä¿å­˜ç€è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°çš„å¼•ç”¨ï¼Œå¦‚æžœæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨å½“å‰å‡½æ•°ï¼Œå®ƒçš„å€¼ä¸ºnullã€‚1234567function outer()&#123; inner();&#125;function inner()&#123; alert(inner.caller); //è¾“å‡ºouter()å‡½æ•°çš„æºç ã€‚&#125;outer(); outerè°ƒç”¨äº†inner()ï¼Œæ‰€ä»¥inner.callerå°±æŒ‡å‘äº†outer()ã€‚ä¸ºäº†å®žçŽ°æ›´æ¾æ•£çš„è€¦åˆï¼Œå¯ä»¥é€šè¿‡arguments.callee.calleræ¥è®¿é—®ç›¸åŒçš„ä¿¡æ¯ã€‚1234567function outer()&#123; inner();&#125;function inner()&#123; alert(arguments.callee.caller); //è¾“å‡ºouter()å‡½æ•°çš„æºç ã€‚arguments.callee.callerç­‰åŒäºŽouter&#125;outer(); æ€»ç»“ï¼šarguments.calleeæ˜¯æŒ‡å‘æ‹¥æœ‰argumentså¯¹è±¡çš„é‚£ä¸ªå‡½æ•°ï¼Œè€Œarguments.callee.calleræ˜¯æŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å‡½æ•° æ¯ä¸ªå‡½æ•°éƒ½åŒ…å«ä¸¤ä¸ªå±žæ€§ï¼šlengthå’Œprototypeã€‚lengthå±žæ€§æ˜¯è¡¨ç¤ºå‡½æ•°å¸Œæœ›æŽ¥æ”¶çš„å‘½åå‚æ•°çš„ä¸ªæ•°ã€‚prototypeå±žæ€§æ˜¯ä¸å¯æžšä¸¾çš„ï¼Œä½¿ç”¨for-inæ— æ³•å‘çŽ°ã€‚æ¯ä¸ªå‡½æ•°éƒ½åŒ…å«ä¸¤ä¸ªéžç»§æ‰¿è€Œæ¥çš„æ–¹æ³•ï¼šapply()å’Œcall()ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥æ‰©å……å‡½æ•°èµ–ä»¥è¿è¡Œçš„ä½œç”¨åŸŸã€‚ ps:åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒæœªæŒ‡å®šçŽ¯å¢ƒå¯¹è±¡è€Œè°ƒç”¨å‡½æ•°ï¼Œåˆ™thiså€¼ä¸ä¼šè½¬åž‹ä¸ºwindowï¼Œthiså€¼æ˜¯undefined ECMAScript 5è¿˜å®šä¹‰äº†bind()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°çš„å®žä¾‹ï¼Œå…¶thiså€¼ä¼šè¢«ç»‘å®šä¼ ç»™bind()å‡½æ•°çš„å€¼ã€‚1234567window.color="red";var obj=&#123;color : "blue"&#125;;function sayColor()&#123; alert(this.color);&#125;var objSayColor=sayColor.bind(obj); //å°†sayColor()å‡½æ•°ç»‘å®šåˆ°objå¯¹è±¡ï¼ŒthisæŒ‡å‘objã€‚objSayColor(); åŸºæœ¬åŒ…è£…ç±»åž‹ Booleanã€Numberã€Stringå®žé™…ä¸Šï¼Œæ¯å½“è¯»å–ä¸€ä¸ªåŸºæœ¬ç±»åž‹å€¼çš„æ—¶å€™ï¼ŒåŽå°å°±ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»åž‹çš„å¯¹è±¡ï¼Œä»Žè€Œè®©æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ“ä½œè¿™äº›æ•°æ®ã€‚ å¼•ç”¨ç±»åž‹å’ŒåŸºæœ¬åŒ…è£…ç±»åž‹çš„ä¸»è¦åŒºåˆ«æ˜¯å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸã€‚å¯¹åŸºæœ¬åŒ…è£…ç±»åž‹çš„å®žä¾‹è°ƒç”¨typeofä¼šè¿”å›žâ€œobjectâ€ï¼Œè€Œä¸”æ‰€æœ‰åŸºæœ¬åŒ…è£…ç±»åž‹çš„å¯¹è±¡éƒ½ä¼šè¢«è½¬æ¢æˆå¸ƒå°”å€¼true. å¸ƒå°”è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½ä¼šè¢«è½¬æ¢ä¸ºtrue.123var falseObj = new Boolean(false);var result = falseObj &amp;&amp; true;alert(result); //true Number ç±»åž‹toFixed()æ–¹æ³•ï¼ŒæŒ‰ç…§æŒ‡å®šçš„å°æ•°ä½è¿”å›žæ•°å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯æŒ‡å®šæ˜¾ç¤ºå‡ ä½å°æ•°ã€‚toExponential()æ–¹æ³•ï¼Œè¿”å›žä»¥æŒ‡æ•°è¡¨ç¤ºæ³•ï¼ˆeè¡¨ç¤ºæ³•ï¼‰è¡¨ç¤ºçš„æ•°å€¼çš„å­—ç¬¦ä¸²å½¢å¼ã€‚toPrecision()æ–¹æ³•è¿”å›žæŸä¸ªæ•°å€¼çš„æœ€åˆé€‚çš„æ ¼å¼ã€‚ Stringç±»åž‹1.å­—ç¬¦æ–¹æ³•ï¼šcharAt():è¿”å›žä»¥å•å­—ç¬¦å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›žç»™å®šä½ç½®çš„é‚£ä¸ªå­—ç¬¦charCodeAt():è¿”å›žç»™å®šä½ç½®çš„é‚£ä¸ªå­—ç¬¦çš„å­—ç¬¦ç¼–ç  ECMAScript 5 è¿˜å®šä¹‰äº†å¦ä¸€ç§è®¿é—®ä¸ªåˆ«å­—ç¬¦çš„æ–¹æ³•ï¼Œä½¿ç”¨æ–¹æ‹¬å·åŠ æ•°å­—ç´¢å¼•æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦eg:var str=â€helloworldâ€;alert(str[1]); //è¾“å‡ºâ€™eâ€™ 2.å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•concat()ï¼šç”¨äºŽå°†ä¸€æˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æŽ¥èµ·æ¥ï¼Œè¿”å›žæ‹¼æŽ¥å¾—åˆ°çš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆåœ¨æ—¥å¸¸å¼€å‘ä¸­æ›´å¤šçš„æ˜¯ä½¿ç”¨åŠ å·æ“ä½œç¬¦+æ¥æ‹¼æŽ¥å­—ç¬¦ä¸²ï¼‰ slice(),substring(),substr()ï¼šä»–ä»¬éƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œsliceå’ŒsubstringæŽ¥æ”¶çš„æ˜¯èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®(ä¸åŒ…æ‹¬ç»“æŸä½ç½®)ï¼Œè€ŒsubstræŽ¥æ”¶çš„åˆ™æ˜¯èµ·å§‹ä½ç½®å’Œæ‰€è¦è¿”å›žçš„å­—ç¬¦ä¸²é•¿åº¦ã€‚å½“æŽ¥æ”¶çš„å‚æ•°æ˜¯è´Ÿæ•°æ—¶ï¼Œsliceä¼šå°†å®ƒå­—ç¬¦ä¸²çš„é•¿åº¦ä¸Žå¯¹åº”çš„è´Ÿæ•°ç›¸åŠ ï¼Œç»“æžœä½œä¸ºå‚æ•°ï¼›substråˆ™ä»…ä»…æ˜¯å°†ç¬¬ä¸€ä¸ªå‚æ•°ä¸Žå­—ç¬¦ä¸²é•¿åº¦ç›¸åŠ åŽçš„ç»“æžœä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼›substringåˆ™å¹²è„†å°†è´Ÿå‚æ•°éƒ½ç›´æŽ¥è½¬æ¢ä¸º0ã€‚ 3.å­—ç¬¦ä¸²ä½ç½®æ–¹æ³•æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼šindexOf()å’ŒlastIndexOf(). 4.trim()æ–¹æ³•ECMAScript 5ä¸­å®šä¹‰äº†trim()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰¯æœ¬ï¼Œåˆ é™¤å‰ç½®ä»¥åŠåŽç¼€çš„æ‰€æœ‰ç©ºæ ¼ï¼Œç„¶åŽè¿”å›žç»“æžœã€‚ 5.å­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢æ–¹æ³•toLowerCase()ã€toLocaleLowerCase() //è½¬æ¢ä¸ºå°å†™toUpperCase()ã€toLocaleUpperCase()//è½¬æ¢ä¸ºå¤§å†™ 6.å­—ç¬¦ä¸²çš„æ¨¡å¼åŒ¹é…æ–¹æ³•match():åªæŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªRegExpå¯¹è±¡ã€‚search():å”¯ä¸€å‚æ•°ä¸Žmatch()æ–¹æ³•çš„å‚æ•°ç›¸åŒï¼Œè¿”å›žå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ï¼›å¦‚æžœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›ž-1ï¼›replace():æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¸ŠRegExpå¯¹è±¡æˆ–å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å‡½æ•°ï¼›split():å¯ä»¥åŸºäºŽæŒ‡å®šçš„åˆ†éš”ç¬¦å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå¤šä¸ªå­å­—ç¬¦ä¸²ã€‚ 7.localeCompare()æ–¹æ³•ä½¿ç”¨æœ¬åœ°è§„åˆ™æ¯”è¾ƒå­—ç¬¦ä¸²string1ä¸Žstring2ï¼Œå¹¶è¿”å›žæ¯”è¾ƒç»“æžœå¦‚æžœstring1å°äºŽstring2ï¼Œè¿”å›ž-1å¦‚æžœstring1å¤§äºŽstring2ï¼Œè¿”å›ž1å¦‚æžœstring1ç­‰äºŽstring2ï¼Œè¿”å›ž0 8.fromCharCode()æ–¹æ³•æŽ¥æ”¶ä¸€æˆ–å¤šä¸ªå­—ç¬¦ç¼–ç ï¼Œç„¶åŽå°†å®ƒä»¬è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ å•ä½“å†…ç½®å¯¹è±¡Globalå’ŒMathå¯¹è±¡ã€‚æ‰€æœ‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„å±žæ€§å’Œå‡½æ•°ï¼Œéƒ½æ˜¯Globalå¯¹è±¡çš„å±žæ€§ã€‚isNaN(),isFinite(),parseInt(),parseFloat(),å®žé™…ä¸Šéƒ½æ˜¯Globalå¯¹è±¡çš„æ–¹æ³•ï¼ˆåœ¨ES6ä¸­ï¼ŒparseInt()å’ŒparseFloat()æ˜¯å±žäºŽNumberçš„æ–¹æ³•ï¼‰ã€‚æ­¤å¤–ï¼ŒGlobalè¿˜æœ‰ä¸€äº›å…¶ä»–æ–¹æ³•ï¼š1.URIç¼–ç æ–¹æ³•encodeURI() , encodeURIComponent(); //å¯¹URIè¿›è¡Œç¼–ç decodeURI() , decodeURIComponent(); //å¯¹URIè¿›è¡Œè§£ç  2.eval()æ–¹æ³•å°†å­—ç¬¦ä¸²è§£æžä¸ºjavascriptä»£ç ã€‚ps:ä¸æŽ¨èä½¿ç”¨eval()ï¼Œä¼šæŸè€—æ€§èƒ½ï¼Œè¿˜ä¼šé€ æˆå®‰å…¨é—®é¢˜ï¼Œå¦‚ä»£ç æ³¨å…¥ã€‚ 3.windowå¯¹è±¡Webæµè§ˆå™¨éƒ½æ˜¯å°†Globalå¯¹è±¡ä½œä¸ºwindowå¯¹è±¡çš„ä¸€éƒ¨åˆ†åŠ ä»¥å®žçŽ°ã€‚ Mathå¯¹è±¡min()å’Œmax()æ–¹æ³•ï¼Œæ±‚æœ€å°å’Œæœ€å¤§å€¼ï¼›èˆå…¥æ–¹æ³•ï¼šå‘ä¸Šèˆå…¥Math.ceil()ï¼Œå‘ä¸‹èˆå…¥Math.floor()ï¼Œæ ‡å‡†èˆå…¥ï¼ˆä¹Ÿå°±æ˜¯å››èˆäº”å…¥ï¼‰Math.round(). random(),æ±‚éšæœºæ•°å€¼ = Math.floor(Math.random()*å¯èƒ½å€¼çš„æ€»æ•°+ç¬¬ä¸€ä¸ªå¯èƒ½çš„å€¼).ä¾‹å¦‚äº§ç”Ÿ1~10çš„éšæœºæ•°ï¼š1Math.random() * 10 + 1]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çº¢å®ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Github Page + Hexo + NexTæ­å»ºä¸ªäººåšå®¢åŸºç¡€ç¯‡]]></title>
    <url>%2F2017%2F05%2F07%2Fhexo%2Fhexo%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼š è¿™ç¯‡æ–‡ç« ä¸»è¦è®°å½•æˆ‘å¦‚ä½•é‡‡ç”¨Github Page + Hexo + NexTä¸»é¢˜æ¥æ­å»ºè‡ªå·±çš„ä¸ªäººæŠ€æœ¯åšå®¢ã€‚æ–‡ä¸­è¯¦ç»†è®²è§£äº†æ¯ä¸€æ­¥çš„æ“ä½œï¼Œå°ä¼™ä¼´ä»¬çœ‹å®Œä¸€éä¹‹åŽï¼Œç›¸ä¿¡éƒ½èƒ½å¤Ÿæ­å»ºå¥½å±žäºŽè‡ªå·±çš„æŠ€æœ¯åšå®¢ï¼Œæ­ä¸å¥½ç®—æˆ‘è¾“ã€‚ Githubé¦–å…ˆå‘å°ä¼™ä¼´ä»¬ä»‹ç»å…¨çƒæœ€å¤§çš„åŒæ€§äº¤å‹ç½‘ç«™â€”â€”Githubï¼Œå¦‚æžœå°ä¼™ä¼´ä»¬å·²æ³¨å†ŒGithubè´¦å·ï¼Œè¯·è·³è¿‡ï¼Œå¦‚è‹¥æœªæ³¨å†Œçš„ï¼Œé‚£è¦æŠ“ç´§å•¦ï¼ Githubï¼Œå…¨çƒæœ€å¤§çš„ä»£ç å¼€æºå…±äº«å¹³å°ï¼Œæœ‰æ— æ•°çš„ä¼˜ç§€ä»£ç åº“ï¼Œæ˜¯ç¨‹åºçŒ¿æˆé•¿å­¦ä¹ çš„å¥½åœ°æ–¹ã€‚åŒæ—¶ï¼Œä¸ªäººçš„Githubä¹Ÿæ˜¯ä¼—å¤šä¼˜ç§€ç¨‹åºçŒ¿çš„å¦ä¸€ä»½ç®€åŽ†ï¼Œåœ¨ä¼—å¤šä¼ä¸šæ‹›è˜ä¸­ï¼Œæ‹¥æœ‰æ´»è·ƒçš„GitHubè´¦å·æ˜¯ä¸€ä¸ªé‡è¦çš„åŠ åˆ†é¡¹ï¼ &nbsp;&nbsp;æ€»ä¹‹ï¼Œå¥½å¥½ç»è¥è‡ªå·±çš„GitHubï¼Œå°†ä¸ºä½ æ•²å¼€ä¼—å¤šåä¼çš„å¤§é—¨ã€‚ æ‹¥æœ‰GitHubè´¦å·åŽï¼Œæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå‘½åä¸ºï¼šä½ çš„GitHubè´¦å·.github.io HexoHexoæ˜¯ä¸€ä¸ªåŸºäºŽNode.jsçš„å¿«é€Ÿã€ç®€æ´ç¾Žè§‚ã€é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æž¶ï¼Œæ”¯æŒMarkdownã€ä¸€é”®éƒ¨ç½²ï¼Œè¿˜æ‹¥æœ‰ä¸°å¯Œçš„æ’ä»¶ã€‚å®‰è£…Hexoä¹‹å‰éœ€è¦å…ˆå®‰è£…Node.jså’ŒGitã€‚Macç”¨æˆ·æŽ¨èä½¿ç”¨iTerm2ä»£æ›¿Gitï¼ŒiTerm2æ˜¯Macä¸‹ä¸€æ¬¾ç»ˆç«¯ç¥žå™¨ï¼Œé›†æˆäº†gitã€‚ å®‰è£…å®ŒNode.jså’ŒGitä¹‹åŽï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ npm install hexo-cli -ghexo init blogcd blognpm installhexo server å®Œæˆä¸Šè¿°æ­¥éª¤åŽï¼Œæˆ‘ä»¬ä¾¿èƒ½å¤Ÿçœ‹åˆ°ä¸€ä¸ªåˆå§‹çš„åšå®¢ç½‘ç«™å•¦ï¼Œå½“ç„¶è¿™è¿˜ä¸å¤Ÿé…·ç‚«ï¼Œè®©æˆ‘ä»¬ç”¨NexTä¸»é¢˜ä¼˜åŒ–ä¸‹æˆ‘ä»¬çš„åšå®¢å§ã€‚ NexTNexTä¸»é¢˜æ˜¯Hexoæ¡†æž¶ä¸‹çš„ä¸€æ¬¾éžå¸¸ä¸é”™çš„ä¸»é¢˜ï¼Œæ”¯æŒä¸‰ç§å¤–è§‚ï¼Œå¤šç§è¯­è¨€ï¼Œéžå¸¸ç®€æ´ç¾Žè§‚ï¼Œè¿™ä¹Ÿç¬¦åˆäº†NexTçš„å®—æ—¨â€”â€”â€œç²¾äºŽå¿ƒï¼Œç®€äºŽå½¢â€ é¦–å…ˆè¿›å…¥åšå®¢é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼Œç„¶åŽå®‰è£…NexTä¸»é¢˜ï¼š cd bloggit clone https://github.com/iissnan/hexo-theme-next themes/next å®‰è£…å®ŒæˆåŽï¼Œæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ï¼ˆ_config.ymlï¼‰ä¸­å¯¹ä¸»é¢˜è¿›è¡Œé…ç½®.Tips: åœ¨Hexoæ¡†æž¶ä¸­ï¼Œç”±ä¸¤ç§é…ç½®æ–‡ä»¶ï¼Œéƒ½æ˜¯å«åš_config.ymlï¼Œä¸€ç§åœ¨Hexoé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä¸€ç§åœ¨ä¸»é¢˜åŒ…ï¼ˆthemesï¼‰ä¸‹çš„å„ä¸ªä¸»é¢˜ä¸­ã€‚æˆ‘ä»¬ä¸€èˆ¬æŠŠæ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶å«åšç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œå¦ä¸€ç§åœ¨ä¸»é¢˜ä¸­çš„å«åšä¸»é¢˜é…ç½®æ–‡ä»¶ã€‚ æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œç„¶åŽä¿®æ”¹æ–‡ä»¶ä¸­themeå­—æ®µï¼š theme: next ä¸»é¢˜è®¾ç½®å®Œæˆï¼Œåœ¨æ›´æ”¹å¥½ä¸»é¢˜åŽï¼Œæœ€å¥½å…ˆæ‰§è¡Œ hexo clean å‘½ä»¤æ¸…é™¤ç¼“å­˜ æŽ¥ç€ï¼Œåœ¨æœ¬åœ°éªŒè¯ä¸»é¢˜æ˜¯å¦ç”Ÿæ•ˆï¼Œæ‰§è¡Œå‘½ä»¤å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼š hexo server â€“debug æˆ‘ä»¬å¯ä»¥æ›´æ”¹NexTä¸»é¢˜çš„å¤–è§‚ï¼ŒNexTæœ‰ä¸‰ç§å¤–è§‚ï¼Œé»˜è®¤ä¸ºMuseï¼Œå…¶ä»–ä¸¤ç§ä¸ºMistå’ŒPiscesã€‚åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°schemeå­—æ®µï¼Œé€‰æ‹©ä½ æƒ³è¦çš„ä¸»é¢˜ï¼Œæ³¨é‡ŠæŽ‰å…¶ä»–ä¸»é¢˜ã€‚ æœ€åŽï¼Œåœ¨æœ¬åœ°ç¡®è®¤åšå®¢ç«™ç‚¹è¿è¡Œæ­£å¸¸åŽï¼Œæˆ‘ä»¬å°†å…¶éƒ¨ç½²åˆ°GitHub Pageä¸ŠåŽ»å§ï¼æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°deployå­—æ®µï¼Œå°†é‚£éƒ¨åˆ†å†…å®¹æ›´æ”¹ä¸ºï¼š deploy: type: git repo: https://github.com/Peterlhx/peterlhx.github.io branch: master æ³¨æ„ï¼Œå°†repoå­—æ®µçš„å€¼æ›´æ”¹ä½ è‡ªå·±çš„GitHub pageåœ°å€ï¼Œå½¢å¼ä¸ºhttps://github.com/ä½ çš„è´¦å·/ä½ çš„è´¦å·.github.io æŽ¥ç€ï¼Œæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š hexo cleanhexo ghexo deploy è‡³æ­¤ï¼Œåšå®¢åŸºæœ¬æ­å»ºå®Œæˆï¼Œèµ¶å¿«æ‰“å¼€ä½ çš„GitHub pageï¼ˆhttps://github.com/ä½ çš„è´¦å·/ä½ çš„è´¦å·.github.ioï¼‰ çœ‹çœ‹å§ï¼ Tipsï¼šæŽ¥ä¸‹æ¥å°†è¿›è¡Œä¸€äº›ä¼˜åŒ–æ“ä½œï¼Œä¾‹å¦‚åšå®¢è¯­è¨€çš„é€‰æ‹©ã€ä¸ªäººå¤´åƒè®¾å®šã€é˜…è¯»å…¨æ–‡æ•ˆæžœã€ä»¥åŠä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œå¦‚è¯„è®ºç³»ç»Ÿã€é˜…è¯»æ¬¡æ•°çš„å¢žåŠ ã€‚æˆ‘ä»¬å°†ä¸æ–­å®Œå–„è‡ªå·±çš„æŠ€æœ¯åšå®¢ï¼æ•¬è¯·æœŸå¾…~]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F05%2F07%2Fhexo%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <tags>
        <tag>hexo-command</tag>
      </tags>
  </entry>
</search>